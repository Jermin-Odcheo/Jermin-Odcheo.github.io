var KN=Object.defineProperty;var PE=a=>{throw TypeError(a)};var $N=(a,t,e)=>t in a?KN(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var gt=(a,t,e)=>$N(a,typeof t!="symbol"?t+"":t,e),Db=(a,t,e)=>t.has(a)||PE("Cannot "+e);var d=(a,t,e)=>(Db(a,t,"read from private field"),e?e.call(a):t.get(a)),T=(a,t,e)=>t.has(a)?PE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),x=(a,t,e,s)=>(Db(a,t,"write to private field"),s?s.call(a,e):t.set(a,e),e),_=(a,t,e)=>(Db(a,t,"access private method"),e);var wi=(a,t,e,s)=>({set _(r){x(a,t,r,e)},get _(){return d(a,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function WN(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Nb={exports:{}},Kh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function QN(){if(jE)return Kh;jE=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var u in r)u!=="key"&&(l[u]=r[u])}else l=r;return r=l.ref,{$$typeof:a,type:s,key:c,ref:r!==void 0?r:null,props:l}}return Kh.Fragment=t,Kh.jsx=e,Kh.jsxs=e,Kh}var IE;function ZN(){return IE||(IE=1,Nb.exports=QN()),Nb.exports}var M=ZN(),Lb={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function JN(){if(BE)return _t;BE=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function D(k,W,et){this.props=k,this.context=W,this.refs=E,this.updater=et||A}D.prototype.isReactComponent={},D.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},D.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=D.prototype;function L(k,W,et){this.props=k,this.context=W,this.refs=E,this.updater=et||A}var N=L.prototype=new R;N.constructor=L,S(N,D.prototype),N.isPureReactComponent=!0;var j=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function q(k,W,et,Z,ht,Nt){return et=Nt.ref,{$$typeof:a,type:k,key:W,ref:et!==void 0?et:null,props:Nt}}function $(k,W){return q(k.type,W,void 0,void 0,void 0,k.props)}function tt(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function ft(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(et){return W[et]})}var ot=/\/+/g;function St(k,W){return typeof k=="object"&&k!==null&&k.key!=null?ft(""+k.key):W.toString(36)}function Gt(){}function Tt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Gt,Gt):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function zt(k,W,et,Z,ht){var Nt=typeof k;(Nt==="undefined"||Nt==="boolean")&&(k=null);var ct=!1;if(k===null)ct=!0;else switch(Nt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(k.$$typeof){case a:case t:ct=!0;break;case g:return ct=k._init,zt(ct(k._payload),W,et,Z,ht)}}if(ct)return ht=ht(k),ct=Z===""?"."+St(k,0):Z,j(ht)?(et="",ct!=null&&(et=ct.replace(ot,"$&/")+"/"),zt(ht,W,et,"",function(Vs){return Vs})):ht!=null&&(tt(ht)&&(ht=$(ht,et+(ht.key==null||k&&k.key===ht.key?"":(""+ht.key).replace(ot,"$&/")+"/")+ct)),W.push(ht)),1;ct=0;var Lt=Z===""?".":Z+":";if(j(k))for(var qt=0;qt<k.length;qt++)Z=k[qt],Nt=Lt+St(Z,qt),ct+=zt(Z,W,et,Nt,ht);else if(qt=v(k),typeof qt=="function")for(k=qt.call(k),qt=0;!(Z=k.next()).done;)Z=Z.value,Nt=Lt+St(Z,qt++),ct+=zt(Z,W,et,Nt,ht);else if(Nt==="object"){if(typeof k.then=="function")return zt(Tt(k),W,et,Z,ht);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ct}function B(k,W,et){if(k==null)return k;var Z=[],ht=0;return zt(k,Z,"","",function(Nt){return W.call(et,Nt,ht++)}),Z}function X(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(et){(k._status===0||k._status===-1)&&(k._status=1,k._result=et)},function(et){(k._status===0||k._status===-1)&&(k._status=2,k._result=et)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var st=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function wt(){}return _t.Children={map:B,forEach:function(k,W,et){B(k,function(){W.apply(this,arguments)},et)},count:function(k){var W=0;return B(k,function(){W++}),W},toArray:function(k){return B(k,function(W){return W})||[]},only:function(k){if(!tt(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},_t.Component=D,_t.Fragment=e,_t.Profiler=r,_t.PureComponent=L,_t.StrictMode=s,_t.Suspense=f,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,_t.__COMPILER_RUNTIME={__proto__:null,c:function(k){return P.H.useMemoCache(k)}},_t.cache=function(k){return function(){return k.apply(null,arguments)}},_t.cloneElement=function(k,W,et){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Z=S({},k.props),ht=k.key,Nt=void 0;if(W!=null)for(ct in W.ref!==void 0&&(Nt=void 0),W.key!==void 0&&(ht=""+W.key),W)!U.call(W,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&W.ref===void 0||(Z[ct]=W[ct]);var ct=arguments.length-2;if(ct===1)Z.children=et;else if(1<ct){for(var Lt=Array(ct),qt=0;qt<ct;qt++)Lt[qt]=arguments[qt+2];Z.children=Lt}return q(k.type,ht,void 0,void 0,Nt,Z)},_t.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},_t.createElement=function(k,W,et){var Z,ht={},Nt=null;if(W!=null)for(Z in W.key!==void 0&&(Nt=""+W.key),W)U.call(W,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ht[Z]=W[Z]);var ct=arguments.length-2;if(ct===1)ht.children=et;else if(1<ct){for(var Lt=Array(ct),qt=0;qt<ct;qt++)Lt[qt]=arguments[qt+2];ht.children=Lt}if(k&&k.defaultProps)for(Z in ct=k.defaultProps,ct)ht[Z]===void 0&&(ht[Z]=ct[Z]);return q(k,Nt,void 0,void 0,null,ht)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(k){return{$$typeof:u,render:k}},_t.isValidElement=tt,_t.lazy=function(k){return{$$typeof:g,_payload:{_status:-1,_result:k},_init:X}},_t.memo=function(k,W){return{$$typeof:p,type:k,compare:W===void 0?null:W}},_t.startTransition=function(k){var W=P.T,et={};P.T=et;try{var Z=k(),ht=P.S;ht!==null&&ht(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(wt,st)}catch(Nt){st(Nt)}finally{P.T=W}},_t.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},_t.use=function(k){return P.H.use(k)},_t.useActionState=function(k,W,et){return P.H.useActionState(k,W,et)},_t.useCallback=function(k,W){return P.H.useCallback(k,W)},_t.useContext=function(k){return P.H.useContext(k)},_t.useDebugValue=function(){},_t.useDeferredValue=function(k,W){return P.H.useDeferredValue(k,W)},_t.useEffect=function(k,W,et){var Z=P.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(k,W)},_t.useId=function(){return P.H.useId()},_t.useImperativeHandle=function(k,W,et){return P.H.useImperativeHandle(k,W,et)},_t.useInsertionEffect=function(k,W){return P.H.useInsertionEffect(k,W)},_t.useLayoutEffect=function(k,W){return P.H.useLayoutEffect(k,W)},_t.useMemo=function(k,W){return P.H.useMemo(k,W)},_t.useOptimistic=function(k,W){return P.H.useOptimistic(k,W)},_t.useReducer=function(k,W,et){return P.H.useReducer(k,W,et)},_t.useRef=function(k){return P.H.useRef(k)},_t.useState=function(k){return P.H.useState(k)},_t.useSyncExternalStore=function(k,W,et){return P.H.useSyncExternalStore(k,W,et)},_t.useTransition=function(){return P.H.useTransition()},_t.version="19.1.0",_t}var FE;function HA(){return FE||(FE=1,Lb.exports=JN()),Lb.exports}var J=HA();const tL=WN(J);var Ob={exports:{}},$h={},kb={exports:{}},Pb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function eL(){return zE||(zE=1,function(a){function t(B,X){var st=B.length;B.push(X);t:for(;0<st;){var wt=st-1>>>1,k=B[wt];if(0<r(k,X))B[wt]=X,B[st]=k,st=wt;else break t}}function e(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var X=B[0],st=B.pop();if(st!==X){B[0]=st;t:for(var wt=0,k=B.length,W=k>>>1;wt<W;){var et=2*(wt+1)-1,Z=B[et],ht=et+1,Nt=B[ht];if(0>r(Z,st))ht<k&&0>r(Nt,Z)?(B[wt]=Nt,B[ht]=st,wt=ht):(B[wt]=Z,B[et]=st,wt=et);else if(ht<k&&0>r(Nt,st))B[wt]=Nt,B[ht]=st,wt=ht;else break t}}return X}function r(B,X){var st=B.sortIndex-X.sortIndex;return st!==0?st:B.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();a.unstable_now=function(){return c.now()-u}}var f=[],p=[],g=1,b=null,v=3,A=!1,S=!1,E=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function j(B){for(var X=e(p);X!==null;){if(X.callback===null)s(p);else if(X.startTime<=B)s(p),X.sortIndex=X.expirationTime,t(f,X);else break;X=e(p)}}function P(B){if(E=!1,j(B),!S)if(e(f)!==null)S=!0,U||(U=!0,St());else{var X=e(p);X!==null&&zt(P,X.startTime-B)}}var U=!1,q=-1,$=5,tt=-1;function ft(){return D?!0:!(a.unstable_now()-tt<$)}function ot(){if(D=!1,U){var B=a.unstable_now();tt=B;var X=!0;try{t:{S=!1,E&&(E=!1,L(q),q=-1),A=!0;var st=v;try{e:{for(j(B),b=e(f);b!==null&&!(b.expirationTime>B&&ft());){var wt=b.callback;if(typeof wt=="function"){b.callback=null,v=b.priorityLevel;var k=wt(b.expirationTime<=B);if(B=a.unstable_now(),typeof k=="function"){b.callback=k,j(B),X=!0;break e}b===e(f)&&s(f),j(B)}else s(f);b=e(f)}if(b!==null)X=!0;else{var W=e(p);W!==null&&zt(P,W.startTime-B),X=!1}}break t}finally{b=null,v=st,A=!1}X=void 0}}finally{X?St():U=!1}}}var St;if(typeof N=="function")St=function(){N(ot)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,Tt=Gt.port2;Gt.port1.onmessage=ot,St=function(){Tt.postMessage(null)}}else St=function(){R(ot,0)};function zt(B,X){q=R(function(){B(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(B){B.callback=null},a.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<B?Math.floor(1e3/B):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(B){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var st=v;v=X;try{return B()}finally{v=st}},a.unstable_requestPaint=function(){D=!0},a.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var st=v;v=B;try{return X()}finally{v=st}},a.unstable_scheduleCallback=function(B,X,st){var wt=a.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?wt+st:wt):st=wt,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=st+k,B={id:g++,callback:X,priorityLevel:B,startTime:st,expirationTime:k,sortIndex:-1},st>wt?(B.sortIndex=st,t(p,B),e(f)===null&&B===e(p)&&(E?(L(q),q=-1):E=!0,zt(P,st-wt))):(B.sortIndex=k,t(f,B),S||A||(S=!0,U||(U=!0,St()))),B},a.unstable_shouldYield=ft,a.unstable_wrapCallback=function(B){var X=v;return function(){var st=v;v=X;try{return B.apply(this,arguments)}finally{v=st}}}}(Pb)),Pb}var HE;function iL(){return HE||(HE=1,kb.exports=eL()),kb.exports}var jb={exports:{}},hi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function sL(){if(VE)return hi;VE=1;var a=HA();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,p,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:f,containerInfo:p,implementation:g}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hi.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,g)},hi.flushSync=function(f){var p=c.T,g=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=p,s.p=g,s.d.f()}},hi.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},hi.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},hi.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,b=u(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:A}):g==="script"&&s.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hi.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=u(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},hi.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,b=u(g,p.crossOrigin);s.d.L(f,g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hi.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=u(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},hi.requestFormReset=function(f){s.d.r(f)},hi.unstable_batchedUpdates=function(f,p){return f(p)},hi.useFormState=function(f,p,g){return c.H.useFormState(f,p,g)},hi.useFormStatus=function(){return c.H.useHostTransitionStatus()},hi.version="19.1.0",hi}var UE;function nL(){if(UE)return jb.exports;UE=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),jb.exports=sL(),jb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function aL(){if(GE)return $h;GE=1;var a=iL(),t=HA(),e=nL();function s(i){var n="https://react.dev/errors/"+i;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var n=i,o=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,(n.flags&4098)!==0&&(o=n.return),i=n.return;while(i)}return n.tag===3?o:null}function c(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function u(i){if(l(i)!==i)throw Error(s(188))}function f(i){var n=i.alternate;if(!n){if(n=l(i),n===null)throw Error(s(188));return n!==i?null:i}for(var o=i,h=n;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){o=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return u(m),i;if(y===h)return u(m),n;y=y.sibling}throw Error(s(188))}if(o.return!==h.return)o=m,h=y;else{for(var w=!1,C=m.child;C;){if(C===o){w=!0,o=m,h=y;break}if(C===h){w=!0,h=m,o=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===o){w=!0,o=y,h=m;break}if(C===h){w=!0,h=y,o=m;break}C=C.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==h)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:n}function p(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i;for(i=i.child;i!==null;){if(n=p(i),n!==null)return n;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),ft=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function St(i){return i===null||typeof i!="object"?null:(i=ot&&i[ot]||i["@@iterator"],typeof i=="function"?i:null)}var Gt=Symbol.for("react.client.reference");function Tt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Gt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case D:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case U:return"SuspenseList";case tt:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case N:return(i.displayName||"Context")+".Provider";case L:return(i._context.displayName||"Context")+".Consumer";case j:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return n=i.displayName||null,n!==null?n:Tt(i.type)||"Memo";case $:n=i._payload,i=i._init;try{return Tt(i(n))}catch{}}return null}var zt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},wt=[],k=-1;function W(i){return{current:i}}function et(i){0>k||(i.current=wt[k],wt[k]=null,k--)}function Z(i,n){k++,wt[k]=i.current,i.current=n}var ht=W(null),Nt=W(null),ct=W(null),Lt=W(null);function qt(i,n){switch(Z(ct,n),Z(Nt,i),Z(ht,null),n.nodeType){case 9:case 11:i=(i=n.documentElement)&&(i=i.namespaceURI)?cE(i):0;break;default:if(i=n.tagName,n=n.namespaceURI)n=cE(n),i=uE(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}et(ht),Z(ht,i)}function Vs(){et(ht),et(Nt),et(ct)}function Wu(i){i.memoizedState!==null&&Z(Lt,i);var n=ht.current,o=uE(n,i.type);n!==o&&(Z(Nt,i),Z(ht,o))}function bp(i){Nt.current===i&&(et(ht),et(Nt)),Lt.current===i&&(et(Lt),Uh._currentValue=st)}var gy=Object.prototype.hasOwnProperty,yy=a.unstable_scheduleCallback,by=a.unstable_cancelCallback,_D=a.unstable_shouldYield,CD=a.unstable_requestPaint,fn=a.unstable_now,MD=a.unstable_getCurrentPriorityLevel,Ux=a.unstable_ImmediatePriority,Gx=a.unstable_UserBlockingPriority,vp=a.unstable_NormalPriority,RD=a.unstable_LowPriority,qx=a.unstable_IdlePriority,DD=a.log,ND=a.unstable_setDisableYieldValue,Qu=null,Yi=null;function Ha(i){if(typeof DD=="function"&&ND(i),Yi&&typeof Yi.setStrictMode=="function")try{Yi.setStrictMode(Qu,i)}catch{}}var Ki=Math.clz32?Math.clz32:kD,LD=Math.log,OD=Math.LN2;function kD(i){return i>>>=0,i===0?32:31-(LD(i)/OD|0)|0}var Ap=256,xp=4194304;function Zr(i){var n=i&42;if(n!==0)return n;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Sp(i,n,o){var h=i.pendingLanes;if(h===0)return 0;var m=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var C=h&134217727;return C!==0?(h=C&~y,h!==0?m=Zr(h):(w&=C,w!==0?m=Zr(w):o||(o=C&~i,o!==0&&(m=Zr(o))))):(C=h&~y,C!==0?m=Zr(C):w!==0?m=Zr(w):o||(o=h&~i,o!==0&&(m=Zr(o)))),m===0?0:n!==0&&n!==m&&(n&y)===0&&(y=m&-m,o=n&-n,y>=o||y===32&&(o&4194048)!==0)?n:m}function Zu(i,n){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&n)===0}function PD(i,n){switch(i){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xx(){var i=Ap;return Ap<<=1,(Ap&4194048)===0&&(Ap=256),i}function Yx(){var i=xp;return xp<<=1,(xp&62914560)===0&&(xp=4194304),i}function vy(i){for(var n=[],o=0;31>o;o++)n.push(i);return n}function Ju(i,n){i.pendingLanes|=n,n!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function jD(i,n,o,h,m,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,O=i.expirationTimes,H=i.hiddenUpdates;for(o=w&~o;0<o;){var Y=31-Ki(o),Q=1<<Y;C[Y]=0,O[Y]=-1;var V=H[Y];if(V!==null)for(H[Y]=null,Y=0;Y<V.length;Y++){var G=V[Y];G!==null&&(G.lane&=-536870913)}o&=~Q}h!==0&&Kx(i,h,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~n))}function Kx(i,n,o){i.pendingLanes|=n,i.suspendedLanes&=~n;var h=31-Ki(n);i.entangledLanes|=n,i.entanglements[h]=i.entanglements[h]|1073741824|o&4194090}function $x(i,n){var o=i.entangledLanes|=n;for(i=i.entanglements;o;){var h=31-Ki(o),m=1<<h;m&n|i[h]&n&&(i[h]|=n),o&=~m}}function Ay(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function xy(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wx(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:RE(i.type))}function ID(i,n){var o=X.p;try{return X.p=i,n()}finally{X.p=o}}var Va=Math.random().toString(36).slice(2),ci="__reactFiber$"+Va,Oi="__reactProps$"+Va,Il="__reactContainer$"+Va,Sy="__reactEvents$"+Va,BD="__reactListeners$"+Va,FD="__reactHandles$"+Va,Qx="__reactResources$"+Va,th="__reactMarker$"+Va;function wy(i){delete i[ci],delete i[Oi],delete i[Sy],delete i[BD],delete i[FD]}function Bl(i){var n=i[ci];if(n)return n;for(var o=i.parentNode;o;){if(n=o[Il]||o[ci]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(i=pE(i);i!==null;){if(o=i[ci])return o;i=pE(i)}return n}i=o,o=i.parentNode}return null}function Fl(i){if(i=i[ci]||i[Il]){var n=i.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return i}return null}function eh(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i.stateNode;throw Error(s(33))}function zl(i){var n=i[Qx];return n||(n=i[Qx]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ve(i){i[th]=!0}var Zx=new Set,Jx={};function Jr(i,n){Hl(i,n),Hl(i+"Capture",n)}function Hl(i,n){for(Jx[i]=n,i=0;i<n.length;i++)Zx.add(n[i])}var zD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tS={},eS={};function HD(i){return gy.call(eS,i)?!0:gy.call(tS,i)?!1:zD.test(i)?eS[i]=!0:(tS[i]=!0,!1)}function wp(i,n,o){if(HD(n))if(o===null)i.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(n);return;case"boolean":var h=n.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(n);return}}i.setAttribute(n,""+o)}}function Ep(i,n,o){if(o===null)i.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(n);return}i.setAttribute(n,""+o)}}function Gn(i,n,o,h){if(h===null)i.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(n,o,""+h)}}var Ey,iS;function Vl(i){if(Ey===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Ey=n&&n[1]||"",iS=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ey+i+iS}var Ty=!1;function _y(i,n){if(!i||Ty)return"";Ty=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var V=G}Reflect.construct(i,[],Q)}else{try{Q.call()}catch(G){V=G}i.call(Q.prototype)}}else{try{throw Error()}catch(G){V=G}(Q=i())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&V&&typeof G.stack=="string")return[G.stack,V.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),w=y[0],C=y[1];if(w&&C){var O=w.split(`
`),H=C.split(`
`);for(m=h=0;h<O.length&&!O[h].includes("DetermineComponentFrameRoot");)h++;for(;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;if(h===O.length||m===H.length)for(h=O.length-1,m=H.length-1;1<=h&&0<=m&&O[h]!==H[m];)m--;for(;1<=h&&0<=m;h--,m--)if(O[h]!==H[m]){if(h!==1||m!==1)do if(h--,m--,0>m||O[h]!==H[m]){var Y=`
`+O[h].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=h&&0<=m);break}}}finally{Ty=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Vl(o):""}function VD(i){switch(i.tag){case 26:case 27:case 5:return Vl(i.type);case 16:return Vl("Lazy");case 13:return Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 15:return _y(i.type,!1);case 11:return _y(i.type.render,!1);case 1:return _y(i.type,!0);case 31:return Vl("Activity");default:return""}}function sS(i){try{var n="";do n+=VD(i),i=i.return;while(i);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vs(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function nS(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function UD(i){var n=nS(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),h=""+i[n];if(!i.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return m.call(this)},set:function(w){h=""+w,y.call(this,w)}}),Object.defineProperty(i,n,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function Tp(i){i._valueTracker||(i._valueTracker=UD(i))}function aS(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var o=n.getValue(),h="";return i&&(h=nS(i)?i.checked?"true":"false":i.value),i=h,i!==o?(n.setValue(i),!0):!1}function _p(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var GD=/[\n"\\]/g;function As(i){return i.replace(GD,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Cy(i,n,o,h,m,y,w,C){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),n!=null?w==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+vs(n)):i.value!==""+vs(n)&&(i.value=""+vs(n)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),n!=null?My(i,w,vs(n)):o!=null?My(i,w,vs(o)):h!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+vs(C):i.removeAttribute("name")}function rS(i,n,o,h,m,y,w,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),n!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;o=o!=null?""+vs(o):"",n=n!=null?""+vs(n):o,C||n===i.value||(i.value=n),i.defaultValue=n}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=C?i.checked:!!h,i.defaultChecked=!!h,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function My(i,n,o){n==="number"&&_p(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ul(i,n,o,h){if(i=i.options,n){n={};for(var m=0;m<o.length;m++)n["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=n.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&h&&(i[o].defaultSelected=!0)}else{for(o=""+vs(o),n=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}n!==null||i[m].disabled||(n=i[m])}n!==null&&(n.selected=!0)}}function oS(i,n,o){if(n!=null&&(n=""+vs(n),n!==i.value&&(i.value=n),o==null)){i.defaultValue!==n&&(i.defaultValue=n);return}i.defaultValue=o!=null?""+vs(o):""}function lS(i,n,o,h){if(n==null){if(h!=null){if(o!=null)throw Error(s(92));if(zt(h)){if(1<h.length)throw Error(s(93));h=h[0]}o=h}o==null&&(o=""),n=o}o=vs(n),i.defaultValue=o,h=i.textContent,h===o&&h!==""&&h!==null&&(i.value=h)}function Gl(i,n){if(n){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=n;return}}i.textContent=n}var qD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cS(i,n,o){var h=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?i.setProperty(n,""):n==="float"?i.cssFloat="":i[n]="":h?i.setProperty(n,o):typeof o!="number"||o===0||qD.has(n)?n==="float"?i.cssFloat=o:i[n]=(""+o).trim():i[n]=o+"px"}function uS(i,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(i=i.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||n!=null&&n.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var m in n)h=n[m],n.hasOwnProperty(m)&&o[m]!==h&&cS(i,m,h)}else for(var y in n)n.hasOwnProperty(y)&&cS(i,y,n[y])}function Ry(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cp(i){return YD.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Dy=null;function Ny(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ql=null,Xl=null;function hS(i){var n=Fl(i);if(n&&(i=n.stateNode)){var o=i[Oi]||null;t:switch(i=n.stateNode,n.type){case"input":if(Cy(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+As(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var h=o[n];if(h!==i&&h.form===i.form){var m=h[Oi]||null;if(!m)throw Error(s(90));Cy(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<o.length;n++)h=o[n],h.form===i.form&&aS(h)}break t;case"textarea":oS(i,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&Ul(i,!!o.multiple,n,!1)}}}var Ly=!1;function dS(i,n,o){if(Ly)return i(n,o);Ly=!0;try{var h=i(n);return h}finally{if(Ly=!1,(ql!==null||Xl!==null)&&(dm(),ql&&(n=ql,i=Xl,Xl=ql=null,hS(n),i)))for(n=0;n<i.length;n++)hS(i[n])}}function ih(i,n){var o=i.stateNode;if(o===null)return null;var h=o[Oi]||null;if(h===null)return null;o=h[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oy=!1;if(qn)try{var sh={};Object.defineProperty(sh,"passive",{get:function(){Oy=!0}}),window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{Oy=!1}var Ua=null,ky=null,Mp=null;function fS(){if(Mp)return Mp;var i,n=ky,o=n.length,h,m="value"in Ua?Ua.value:Ua.textContent,y=m.length;for(i=0;i<o&&n[i]===m[i];i++);var w=o-i;for(h=1;h<=w&&n[o-h]===m[y-h];h++);return Mp=m.slice(i,1<h?1-h:void 0)}function Rp(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function Dp(){return!0}function pS(){return!1}function ki(i){function n(o,h,m,y,w){this._reactName=o,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Dp:pS,this.isPropagationStopped=pS,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Dp)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Dp)},persist:function(){},isPersistent:Dp}),n}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Np=ki(to),nh=g({},to,{view:0,detail:0}),KD=ki(nh),Py,jy,ah,Lp=g({},nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:By,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ah&&(ah&&i.type==="mousemove"?(Py=i.screenX-ah.screenX,jy=i.screenY-ah.screenY):jy=Py=0,ah=i),Py)},movementY:function(i){return"movementY"in i?i.movementY:jy}}),mS=ki(Lp),$D=g({},Lp,{dataTransfer:0}),WD=ki($D),QD=g({},nh,{relatedTarget:0}),Iy=ki(QD),ZD=g({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),JD=ki(ZD),t2=g({},to,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),e2=ki(t2),i2=g({},to,{data:0}),gS=ki(i2),s2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r2(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=a2[i])?!!n[i]:!1}function By(){return r2}var o2=g({},nh,{key:function(i){if(i.key){var n=s2[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=Rp(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?n2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:By,charCode:function(i){return i.type==="keypress"?Rp(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rp(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),l2=ki(o2),c2=g({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yS=ki(c2),u2=g({},nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:By}),h2=ki(u2),d2=g({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),f2=ki(d2),p2=g({},Lp,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),m2=ki(p2),g2=g({},to,{newState:0,oldState:0}),y2=ki(g2),b2=[9,13,27,32],Fy=qn&&"CompositionEvent"in window,rh=null;qn&&"documentMode"in document&&(rh=document.documentMode);var v2=qn&&"TextEvent"in window&&!rh,bS=qn&&(!Fy||rh&&8<rh&&11>=rh),vS=" ",AS=!1;function xS(i,n){switch(i){case"keyup":return b2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Yl=!1;function A2(i,n){switch(i){case"compositionend":return SS(n);case"keypress":return n.which!==32?null:(AS=!0,vS);case"textInput":return i=n.data,i===vS&&AS?null:i;default:return null}}function x2(i,n){if(Yl)return i==="compositionend"||!Fy&&xS(i,n)?(i=fS(),Mp=ky=Ua=null,Yl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bS&&n.locale!=="ko"?null:n.data;default:return null}}var S2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wS(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!S2[i.type]:n==="textarea"}function ES(i,n,o,h){ql?Xl?Xl.push(h):Xl=[h]:ql=h,n=bm(n,"onChange"),0<n.length&&(o=new Np("onChange","change",null,o,h),i.push({event:o,listeners:n}))}var oh=null,lh=null;function w2(i){nE(i,0)}function Op(i){var n=eh(i);if(aS(n))return i}function TS(i,n){if(i==="change")return n}var _S=!1;if(qn){var zy;if(qn){var Hy="oninput"in document;if(!Hy){var CS=document.createElement("div");CS.setAttribute("oninput","return;"),Hy=typeof CS.oninput=="function"}zy=Hy}else zy=!1;_S=zy&&(!document.documentMode||9<document.documentMode)}function MS(){oh&&(oh.detachEvent("onpropertychange",RS),lh=oh=null)}function RS(i){if(i.propertyName==="value"&&Op(lh)){var n=[];ES(n,lh,i,Ny(i)),dS(w2,n)}}function E2(i,n,o){i==="focusin"?(MS(),oh=n,lh=o,oh.attachEvent("onpropertychange",RS)):i==="focusout"&&MS()}function T2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Op(lh)}function _2(i,n){if(i==="click")return Op(n)}function C2(i,n){if(i==="input"||i==="change")return Op(n)}function M2(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var $i=typeof Object.is=="function"?Object.is:M2;function ch(i,n){if($i(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var o=Object.keys(i),h=Object.keys(n);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var m=o[h];if(!gy.call(n,m)||!$i(i[m],n[m]))return!1}return!0}function DS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function NS(i,n){var o=DS(i);i=0;for(var h;o;){if(o.nodeType===3){if(h=i+o.textContent.length,i<=n&&h>=n)return{node:o,offset:n-i};i=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=DS(o)}}function LS(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?LS(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function OS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var n=_p(i.document);n instanceof i.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)i=n.contentWindow;else break;n=_p(i.document)}return n}function Vy(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}var R2=qn&&"documentMode"in document&&11>=document.documentMode,Kl=null,Uy=null,uh=null,Gy=!1;function kS(i,n,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gy||Kl==null||Kl!==_p(h)||(h=Kl,"selectionStart"in h&&Vy(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),uh&&ch(uh,h)||(uh=h,h=bm(Uy,"onSelect"),0<h.length&&(n=new Np("onSelect","select",null,n,o),i.push({event:n,listeners:h}),n.target=Kl)))}function eo(i,n){var o={};return o[i.toLowerCase()]=n.toLowerCase(),o["Webkit"+i]="webkit"+n,o["Moz"+i]="moz"+n,o}var $l={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionrun:eo("Transition","TransitionRun"),transitionstart:eo("Transition","TransitionStart"),transitioncancel:eo("Transition","TransitionCancel"),transitionend:eo("Transition","TransitionEnd")},qy={},PS={};qn&&(PS=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function io(i){if(qy[i])return qy[i];if(!$l[i])return i;var n=$l[i],o;for(o in n)if(n.hasOwnProperty(o)&&o in PS)return qy[i]=n[o];return i}var jS=io("animationend"),IS=io("animationiteration"),BS=io("animationstart"),D2=io("transitionrun"),N2=io("transitionstart"),L2=io("transitioncancel"),FS=io("transitionend"),zS=new Map,Xy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xy.push("scrollEnd");function Us(i,n){zS.set(i,n),Jr(n,[i])}var HS=new WeakMap;function xs(i,n){if(typeof i=="object"&&i!==null){var o=HS.get(i);return o!==void 0?o:(n={value:i,source:n,stack:sS(n)},HS.set(i,n),n)}return{value:i,source:n,stack:sS(n)}}var Ss=[],Wl=0,Yy=0;function kp(){for(var i=Wl,n=Yy=Wl=0;n<i;){var o=Ss[n];Ss[n++]=null;var h=Ss[n];Ss[n++]=null;var m=Ss[n];Ss[n++]=null;var y=Ss[n];if(Ss[n++]=null,h!==null&&m!==null){var w=h.pending;w===null?m.next=m:(m.next=w.next,w.next=m),h.pending=m}y!==0&&VS(o,m,y)}}function Pp(i,n,o,h){Ss[Wl++]=i,Ss[Wl++]=n,Ss[Wl++]=o,Ss[Wl++]=h,Yy|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Ky(i,n,o,h){return Pp(i,n,o,h),jp(i)}function Ql(i,n){return Pp(i,null,null,n),jp(i)}function VS(i,n,o){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,h=y.alternate,h!==null&&(h.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&n!==null&&(m=31-Ki(o),i=y.hiddenUpdates,h=i[m],h===null?i[m]=[n]:h.push(n),n.lane=o|536870912),y):null}function jp(i){if(50<Ph)throw Ph=0,tb=null,Error(s(185));for(var n=i.return;n!==null;)i=n,n=i.return;return i.tag===3?i.stateNode:null}var Zl={};function O2(i,n,o,h){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(i,n,o,h){return new O2(i,n,o,h)}function $y(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xn(i,n){var o=i.alternate;return o===null?(o=Wi(i.tag,n,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=n,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,n=i.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function US(i,n){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i}function Ip(i,n,o,h,m,y){var w=0;if(h=i,typeof i=="function")$y(i)&&(w=1);else if(typeof i=="string")w=PN(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case tt:return i=Wi(31,o,n,m),i.elementType=tt,i.lanes=y,i;case S:return so(o.children,m,y,n);case E:w=8,m|=24;break;case D:return i=Wi(12,o,n,m|2),i.elementType=D,i.lanes=y,i;case P:return i=Wi(13,o,n,m),i.elementType=P,i.lanes=y,i;case U:return i=Wi(19,o,n,m),i.elementType=U,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case N:w=10;break t;case L:w=9;break t;case j:w=11;break t;case q:w=14;break t;case $:w=16,h=null;break t}w=29,o=Error(s(130,i===null?"null":typeof i,"")),h=null}return n=Wi(w,o,n,m),n.elementType=i,n.type=h,n.lanes=y,n}function so(i,n,o,h){return i=Wi(7,i,h,n),i.lanes=o,i}function Wy(i,n,o){return i=Wi(6,i,null,n),i.lanes=o,i}function Qy(i,n,o){return n=Wi(4,i.children!==null?i.children:[],i.key,n),n.lanes=o,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}var Jl=[],tc=0,Bp=null,Fp=0,ws=[],Es=0,no=null,Yn=1,Kn="";function ao(i,n){Jl[tc++]=Fp,Jl[tc++]=Bp,Bp=i,Fp=n}function GS(i,n,o){ws[Es++]=Yn,ws[Es++]=Kn,ws[Es++]=no,no=i;var h=Yn;i=Kn;var m=32-Ki(h)-1;h&=~(1<<m),o+=1;var y=32-Ki(n)+m;if(30<y){var w=m-m%5;y=(h&(1<<w)-1).toString(32),h>>=w,m-=w,Yn=1<<32-Ki(n)+m|o<<m|h,Kn=y+i}else Yn=1<<y|o<<m|h,Kn=i}function Zy(i){i.return!==null&&(ao(i,1),GS(i,1,0))}function Jy(i){for(;i===Bp;)Bp=Jl[--tc],Jl[tc]=null,Fp=Jl[--tc],Jl[tc]=null;for(;i===no;)no=ws[--Es],ws[Es]=null,Kn=ws[--Es],ws[Es]=null,Yn=ws[--Es],ws[Es]=null}var Si=null,ve=null,Xt=!1,ro=null,pn=!1,t0=Error(s(519));function oo(i){var n=Error(s(418,""));throw fh(xs(n,i)),t0}function qS(i){var n=i.stateNode,o=i.type,h=i.memoizedProps;switch(n[ci]=i,n[Oi]=h,o){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(o=0;o<Ih.length;o++)It(Ih[o],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),rS(n,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Tp(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),lS(n,h.value,h.defaultValue,h.children),Tp(n)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||h.suppressHydrationWarning===!0||lE(n.textContent,o)?(h.popover!=null&&(It("beforetoggle",n),It("toggle",n)),h.onScroll!=null&&It("scroll",n),h.onScrollEnd!=null&&It("scrollend",n),h.onClick!=null&&(n.onclick=vm),n=!0):n=!1,n||oo(i)}function XS(i){for(Si=i.return;Si;)switch(Si.tag){case 5:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:Si=Si.return}}function hh(i){if(i!==Si)return!1;if(!Xt)return XS(i),Xt=!0,!1;var n=i.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||gb(i.type,i.memoizedProps)),o=!o),o&&ve&&oo(i),XS(i),n===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(n===0){ve=qs(i.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;i=i.nextSibling}ve=null}}else n===27?(n=ve,ar(i.type)?(i=Ab,Ab=null,ve=i):ve=n):ve=Si?qs(i.stateNode.nextSibling):null;return!0}function dh(){ve=Si=null,Xt=!1}function YS(){var i=ro;return i!==null&&(Ii===null?Ii=i:Ii.push.apply(Ii,i),ro=null),i}function fh(i){ro===null?ro=[i]:ro.push(i)}var e0=W(null),lo=null,$n=null;function Ga(i,n,o){Z(e0,n._currentValue),n._currentValue=o}function Wn(i){i._currentValue=e0.current,et(e0)}function i0(i,n,o){for(;i!==null;){var h=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,h!==null&&(h.childLanes|=n)):h!==null&&(h.childLanes&n)!==n&&(h.childLanes|=n),i===o)break;i=i.return}}function s0(i,n,o,h){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var w=m.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=m;for(var O=0;O<n.length;O++)if(C.context===n[O]){y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),i0(y.return,o,i),h||(w=null);break t}y=C.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(s(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),i0(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function ph(i,n,o,h){i=null;for(var m=n,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var C=m.type;$i(m.pendingProps.value,w.value)||(i!==null?i.push(C):i=[C])}}else if(m===Lt.current){if(w=m.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Uh):i=[Uh])}m=m.return}i!==null&&s0(n,i,o,h),n.flags|=262144}function zp(i){for(i=i.firstContext;i!==null;){if(!$i(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function co(i){lo=i,$n=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ui(i){return KS(lo,i)}function Hp(i,n){return lo===null&&co(i),KS(i,n)}function KS(i,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},$n===null){if(i===null)throw Error(s(308));$n=n,i.dependencies={lanes:0,firstContext:n},i.flags|=524288}else $n=$n.next=n;return o}var k2=typeof AbortController<"u"?AbortController:function(){var i=[],n=this.signal={aborted:!1,addEventListener:function(o,h){i.push(h)}};this.abort=function(){n.aborted=!0,i.forEach(function(o){return o()})}},P2=a.unstable_scheduleCallback,j2=a.unstable_NormalPriority,Pe={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function n0(){return{controller:new k2,data:new Map,refCount:0}}function mh(i){i.refCount--,i.refCount===0&&P2(j2,function(){i.controller.abort()})}var gh=null,a0=0,ec=0,ic=null;function I2(i,n){if(gh===null){var o=gh=[];a0=0,ec=ob(),ic={status:"pending",value:void 0,then:function(h){o.push(h)}}}return a0++,n.then($S,$S),n}function $S(){if(--a0===0&&gh!==null){ic!==null&&(ic.status="fulfilled");var i=gh;gh=null,ec=0,ic=null;for(var n=0;n<i.length;n++)(0,i[n])()}}function B2(i,n){var o=[],h={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){h.status="fulfilled",h.value=n;for(var m=0;m<o.length;m++)(0,o[m])(n)},function(m){for(h.status="rejected",h.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),h}var WS=B.S;B.S=function(i,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&I2(i,n),WS!==null&&WS(i,n)};var uo=W(null);function r0(){var i=uo.current;return i!==null?i:re.pooledCache}function Vp(i,n){n===null?Z(uo,uo.current):Z(uo,n.pool)}function QS(){var i=r0();return i===null?null:{parent:Pe._currentValue,pool:i}}var yh=Error(s(460)),ZS=Error(s(474)),Up=Error(s(542)),o0={then:function(){}};function JS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gp(){}function t1(i,n,o){switch(o=i[o],o===void 0?i.push(n):o!==n&&(n.then(Gp,Gp),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,i1(i),i;default:if(typeof n.status=="string")n.then(Gp,Gp);else{if(i=re,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=n,i.status="pending",i.then(function(h){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=h}},function(h){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=h}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,i1(i),i}throw bh=n,yh}}var bh=null;function e1(){if(bh===null)throw Error(s(459));var i=bh;return bh=null,i}function i1(i){if(i===yh||i===Up)throw Error(s(483))}var qa=!1;function l0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function c0(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Xa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ya(i,n,o){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Kt&2)!==0){var m=h.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),h.pending=n,n=jp(i),VS(i,null,o),n}return Pp(i,h,n,o),jp(i)}function vh(i,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var h=n.lanes;h&=i.pendingLanes,o|=h,n.lanes=o,$x(i,o)}}function u0(i,n){var o=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?m=y=n:y=y.next=n}else m=y=n;o={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=n:i.next=n,o.lastBaseUpdate=n}var h0=!1;function Ah(){if(h0){var i=ic;if(i!==null)throw i}}function xh(i,n,o,h){h0=!1;var m=i.updateQueue;qa=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var O=C,H=O.next;O.next=null,w===null?y=H:w.next=H,w=O;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==w&&(C===null?Y.firstBaseUpdate=H:C.next=H,Y.lastBaseUpdate=O))}if(y!==null){var Q=m.baseState;w=0,Y=H=O=null,C=y;do{var V=C.lane&-536870913,G=V!==C.lane;if(G?(Ft&V)===V:(h&V)===V){V!==0&&V===ec&&(h0=!0),Y!==null&&(Y=Y.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var vt=i,mt=C;V=n;var ee=o;switch(mt.tag){case 1:if(vt=mt.payload,typeof vt=="function"){Q=vt.call(ee,Q,V);break t}Q=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=mt.payload,V=typeof vt=="function"?vt.call(ee,Q,V):vt,V==null)break t;Q=g({},Q,V);break t;case 2:qa=!0}}V=C.callback,V!==null&&(i.flags|=64,G&&(i.flags|=8192),G=m.callbacks,G===null?m.callbacks=[V]:G.push(V))}else G={lane:V,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(H=Y=G,O=Q):Y=Y.next=G,w|=V;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;G=C,C=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);Y===null&&(O=Q),m.baseState=O,m.firstBaseUpdate=H,m.lastBaseUpdate=Y,y===null&&(m.shared.lanes=0),er|=w,i.lanes=w,i.memoizedState=Q}}function s1(i,n){if(typeof i!="function")throw Error(s(191,i));i.call(n)}function n1(i,n){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)s1(o[i],n)}var sc=W(null),qp=W(0);function a1(i,n){i=sa,Z(qp,i),Z(sc,n),sa=i|n.baseLanes}function d0(){Z(qp,sa),Z(sc,sc.current)}function f0(){sa=qp.current,et(sc),et(qp)}var Ka=0,Dt=null,Jt=null,Re=null,Xp=!1,nc=!1,ho=!1,Yp=0,Sh=0,ac=null,F2=0;function we(){throw Error(s(321))}function p0(i,n){if(n===null)return!1;for(var o=0;o<n.length&&o<i.length;o++)if(!$i(i[o],n[o]))return!1;return!0}function m0(i,n,o,h,m,y){return Ka=y,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=i===null||i.memoizedState===null?V1:U1,ho=!1,y=o(h,m),ho=!1,nc&&(y=o1(n,o,h,m)),r1(i),y}function r1(i){B.H=Jp;var n=Jt!==null&&Jt.next!==null;if(Ka=0,Re=Jt=Dt=null,Xp=!1,Sh=0,ac=null,n)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&zp(i)&&(Ue=!0))}function o1(i,n,o,h){Dt=i;var m=0;do{if(nc&&(ac=null),Sh=0,nc=!1,25<=m)throw Error(s(301));if(m+=1,Re=Jt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=X2,y=n(o,h)}while(nc);return y}function z2(){var i=B.H,n=i.useState()[0];return n=typeof n.then=="function"?wh(n):n,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Dt.flags|=1024),n}function g0(){var i=Yp!==0;return Yp=0,i}function y0(i,n,o){n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~o}function b0(i){if(Xp){for(i=i.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Xp=!1}Ka=0,Re=Jt=Dt=null,nc=!1,Sh=Yp=0,ac=null}function Pi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Dt.memoizedState=Re=i:Re=Re.next=i,Re}function De(){if(Jt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var n=Re===null?Dt.memoizedState:Re.next;if(n!==null)Re=n,Jt=i;else{if(i===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?Dt.memoizedState=Re=i:Re=Re.next=i}return Re}function v0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wh(i){var n=Sh;return Sh+=1,ac===null&&(ac=[]),i=t1(ac,i,n),n=Dt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?V1:U1),i}function Kp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wh(i);if(i.$$typeof===N)return ui(i)}throw Error(s(438,String(i)))}function A0(i){var n=null,o=Dt.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var h=Dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(n={data:h.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=v0(),Dt.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(i),h=0;h<i;h++)o[h]=ft;return n.index++,o}function Qn(i,n){return typeof n=="function"?n(i):n}function $p(i){var n=De();return x0(n,Jt,i)}function x0(i,n,o){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=o;var m=i.baseQueue,y=h.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}n.baseQueue=m=y,h.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{n=m.next;var C=w=null,O=null,H=n,Y=!1;do{var Q=H.lane&-536870913;if(Q!==H.lane?(Ft&Q)===Q:(Ka&Q)===Q){var V=H.revertLane;if(V===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Q===ec&&(Y=!0);else if((Ka&V)===V){H=H.next,V===ec&&(Y=!0);continue}else Q={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(C=O=Q,w=y):O=O.next=Q,Dt.lanes|=V,er|=V;Q=H.action,ho&&o(y,Q),y=H.hasEagerState?H.eagerState:o(y,Q)}else V={lane:Q,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(C=O=V,w=y):O=O.next=V,Dt.lanes|=Q,er|=Q;H=H.next}while(H!==null&&H!==n);if(O===null?w=y:O.next=C,!$i(y,i.memoizedState)&&(Ue=!0,Y&&(o=ic,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=O,h.lastRenderedState=y}return m===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function S0(i){var n=De(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var h=o.dispatch,m=o.pending,y=n.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do y=i(y,w.action),w=w.next;while(w!==m);$i(y,n.memoizedState)||(Ue=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),o.lastRenderedState=y}return[y,h]}function l1(i,n,o){var h=Dt,m=De(),y=Xt;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=n();var w=!$i((Jt||m).memoizedState,o);w&&(m.memoizedState=o,Ue=!0),m=m.queue;var C=h1.bind(null,h,m,i);if(Eh(2048,8,C,[i]),m.getSnapshot!==n||w||Re!==null&&Re.memoizedState.tag&1){if(h.flags|=2048,rc(9,Wp(),u1.bind(null,h,m,o,n),null),re===null)throw Error(s(349));y||(Ka&124)!==0||c1(h,n,o)}return o}function c1(i,n,o){i.flags|=16384,i={getSnapshot:n,value:o},n=Dt.updateQueue,n===null?(n=v0(),Dt.updateQueue=n,n.stores=[i]):(o=n.stores,o===null?n.stores=[i]:o.push(i))}function u1(i,n,o,h){n.value=o,n.getSnapshot=h,d1(n)&&f1(i)}function h1(i,n,o){return o(function(){d1(n)&&f1(i)})}function d1(i){var n=i.getSnapshot;i=i.value;try{var o=n();return!$i(i,o)}catch{return!0}}function f1(i){var n=Ql(i,2);n!==null&&es(n,i,2)}function w0(i){var n=Pi();if(typeof i=="function"){var o=i;if(i=o(),ho){Ha(!0);try{o()}finally{Ha(!1)}}}return n.memoizedState=n.baseState=i,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:i},n}function p1(i,n,o,h){return i.baseState=o,x0(i,Jt,typeof h=="function"?h:Qn)}function H2(i,n,o,h,m){if(Zp(i))throw Error(s(485));if(i=n.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};B.T!==null?o(!0):y.isTransition=!1,h(y),o=n.pending,o===null?(y.next=n.pending=y,m1(n,y)):(y.next=o.next,n.pending=o.next=y)}}function m1(i,n){var o=n.action,h=n.payload,m=i.state;if(n.isTransition){var y=B.T,w={};B.T=w;try{var C=o(m,h),O=B.S;O!==null&&O(w,C),g1(i,n,C)}catch(H){E0(i,n,H)}finally{B.T=y}}else try{y=o(m,h),g1(i,n,y)}catch(H){E0(i,n,H)}}function g1(i,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){y1(i,n,h)},function(h){return E0(i,n,h)}):y1(i,n,o)}function y1(i,n,o){n.status="fulfilled",n.value=o,b1(n),i.state=o,n=i.pending,n!==null&&(o=n.next,o===n?i.pending=null:(o=o.next,n.next=o,m1(i,o)))}function E0(i,n,o){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do n.status="rejected",n.reason=o,b1(n),n=n.next;while(n!==h)}i.action=null}function b1(i){i=i.listeners;for(var n=0;n<i.length;n++)(0,i[n])()}function v1(i,n){return n}function A1(i,n){if(Xt){var o=re.formState;if(o!==null){t:{var h=Dt;if(Xt){if(ve){e:{for(var m=ve,y=pn;m.nodeType!==8;){if(!y){m=null;break e}if(m=qs(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ve=qs(m.nextSibling),h=m.data==="F!";break t}}oo(h)}h=!1}h&&(n=o[0])}}return o=Pi(),o.memoizedState=o.baseState=n,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v1,lastRenderedState:n},o.queue=h,o=F1.bind(null,Dt,h),h.dispatch=o,h=w0(!1),y=R0.bind(null,Dt,!1,h.queue),h=Pi(),m={state:n,dispatch:null,action:i,pending:null},h.queue=m,o=H2.bind(null,Dt,m,y,o),m.dispatch=o,h.memoizedState=i,[n,o,!1]}function x1(i){var n=De();return S1(n,Jt,i)}function S1(i,n,o){if(n=x0(i,n,v1)[0],i=$p(Qn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var h=wh(n)}catch(w){throw w===yh?Up:w}else h=n;n=De();var m=n.queue,y=m.dispatch;return o!==n.memoizedState&&(Dt.flags|=2048,rc(9,Wp(),V2.bind(null,m,o),null)),[h,y,i]}function V2(i,n){i.action=n}function w1(i){var n=De(),o=Jt;if(o!==null)return S1(n,o,i);De(),n=n.memoizedState,o=De();var h=o.queue.dispatch;return o.memoizedState=i,[n,h,!1]}function rc(i,n,o,h){return i={tag:i,create:o,deps:h,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=v0(),Dt.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=i.next=i:(h=o.next,o.next=i,i.next=h,n.lastEffect=i),i}function Wp(){return{destroy:void 0,resource:void 0}}function E1(){return De().memoizedState}function Qp(i,n,o,h){var m=Pi();h=h===void 0?null:h,Dt.flags|=i,m.memoizedState=rc(1|n,Wp(),o,h)}function Eh(i,n,o,h){var m=De();h=h===void 0?null:h;var y=m.memoizedState.inst;Jt!==null&&h!==null&&p0(h,Jt.memoizedState.deps)?m.memoizedState=rc(n,y,o,h):(Dt.flags|=i,m.memoizedState=rc(1|n,y,o,h))}function T1(i,n){Qp(8390656,8,i,n)}function _1(i,n){Eh(2048,8,i,n)}function C1(i,n){return Eh(4,2,i,n)}function M1(i,n){return Eh(4,4,i,n)}function R1(i,n){if(typeof n=="function"){i=i();var o=n(i);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function D1(i,n,o){o=o!=null?o.concat([i]):null,Eh(4,4,R1.bind(null,n,i),o)}function T0(){}function N1(i,n){var o=De();n=n===void 0?null:n;var h=o.memoizedState;return n!==null&&p0(n,h[1])?h[0]:(o.memoizedState=[i,n],i)}function L1(i,n){var o=De();n=n===void 0?null:n;var h=o.memoizedState;if(n!==null&&p0(n,h[1]))return h[0];if(h=i(),ho){Ha(!0);try{i()}finally{Ha(!1)}}return o.memoizedState=[h,n],h}function _0(i,n,o){return o===void 0||(Ka&1073741824)!==0?i.memoizedState=n:(i.memoizedState=o,i=Pw(),Dt.lanes|=i,er|=i,o)}function O1(i,n,o,h){return $i(o,n)?o:sc.current!==null?(i=_0(i,o,h),$i(i,n)||(Ue=!0),i):(Ka&42)===0?(Ue=!0,i.memoizedState=o):(i=Pw(),Dt.lanes|=i,er|=i,n)}function k1(i,n,o,h,m){var y=X.p;X.p=y!==0&&8>y?y:8;var w=B.T,C={};B.T=C,R0(i,!1,n,o);try{var O=m(),H=B.S;if(H!==null&&H(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=B2(O,h);Th(i,n,Y,ts(i))}else Th(i,n,h,ts(i))}catch(Q){Th(i,n,{then:function(){},status:"rejected",reason:Q},ts())}finally{X.p=y,B.T=w}}function U2(){}function C0(i,n,o,h){if(i.tag!==5)throw Error(s(476));var m=P1(i).queue;k1(i,m,n,st,o===null?U2:function(){return j1(i),o(h)})}function P1(i){var n=i.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:st},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:o},next:null},i.memoizedState=n,i=i.alternate,i!==null&&(i.memoizedState=n),n}function j1(i){var n=P1(i).next.queue;Th(i,n,{},ts())}function M0(){return ui(Uh)}function I1(){return De().memoizedState}function B1(){return De().memoizedState}function G2(i){for(var n=i.return;n!==null;){switch(n.tag){case 24:case 3:var o=ts();i=Xa(o);var h=Ya(n,i,o);h!==null&&(es(h,n,o),vh(h,n,o)),n={cache:n0()},i.payload=n;return}n=n.return}}function q2(i,n,o){var h=ts();o={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Zp(i)?z1(n,o):(o=Ky(i,n,o,h),o!==null&&(es(o,i,h),H1(o,n,h)))}function F1(i,n,o){var h=ts();Th(i,n,o,h)}function Th(i,n,o,h){var m={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zp(i))z1(n,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var w=n.lastRenderedState,C=y(w,o);if(m.hasEagerState=!0,m.eagerState=C,$i(C,w))return Pp(i,n,m,0),re===null&&kp(),!1}catch{}finally{}if(o=Ky(i,n,m,h),o!==null)return es(o,i,h),H1(o,n,h),!0}return!1}function R0(i,n,o,h){if(h={lane:2,revertLane:ob(),action:h,hasEagerState:!1,eagerState:null,next:null},Zp(i)){if(n)throw Error(s(479))}else n=Ky(i,o,h,2),n!==null&&es(n,i,2)}function Zp(i){var n=i.alternate;return i===Dt||n!==null&&n===Dt}function z1(i,n){nc=Xp=!0;var o=i.pending;o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n}function H1(i,n,o){if((o&4194048)!==0){var h=n.lanes;h&=i.pendingLanes,o|=h,n.lanes=o,$x(i,o)}}var Jp={readContext:ui,use:Kp,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we},V1={readContext:ui,use:Kp,useCallback:function(i,n){return Pi().memoizedState=[i,n===void 0?null:n],i},useContext:ui,useEffect:T1,useImperativeHandle:function(i,n,o){o=o!=null?o.concat([i]):null,Qp(4194308,4,R1.bind(null,n,i),o)},useLayoutEffect:function(i,n){return Qp(4194308,4,i,n)},useInsertionEffect:function(i,n){Qp(4,2,i,n)},useMemo:function(i,n){var o=Pi();n=n===void 0?null:n;var h=i();if(ho){Ha(!0);try{i()}finally{Ha(!1)}}return o.memoizedState=[h,n],h},useReducer:function(i,n,o){var h=Pi();if(o!==void 0){var m=o(n);if(ho){Ha(!0);try{o(n)}finally{Ha(!1)}}}else m=n;return h.memoizedState=h.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},h.queue=i,i=i.dispatch=q2.bind(null,Dt,i),[h.memoizedState,i]},useRef:function(i){var n=Pi();return i={current:i},n.memoizedState=i},useState:function(i){i=w0(i);var n=i.queue,o=F1.bind(null,Dt,n);return n.dispatch=o,[i.memoizedState,o]},useDebugValue:T0,useDeferredValue:function(i,n){var o=Pi();return _0(o,i,n)},useTransition:function(){var i=w0(!1);return i=k1.bind(null,Dt,i.queue,!0,!1),Pi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,n,o){var h=Dt,m=Pi();if(Xt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),re===null)throw Error(s(349));(Ft&124)!==0||c1(h,n,o)}m.memoizedState=o;var y={value:o,getSnapshot:n};return m.queue=y,T1(h1.bind(null,h,y,i),[i]),h.flags|=2048,rc(9,Wp(),u1.bind(null,h,y,o,n),null),o},useId:function(){var i=Pi(),n=re.identifierPrefix;if(Xt){var o=Kn,h=Yn;o=(h&~(1<<32-Ki(h)-1)).toString(32)+o,n="«"+n+"R"+o,o=Yp++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=F2++,n="«"+n+"r"+o.toString(32)+"»";return i.memoizedState=n},useHostTransitionStatus:M0,useFormState:A1,useActionState:A1,useOptimistic:function(i){var n=Pi();n.memoizedState=n.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=R0.bind(null,Dt,!0,o),o.dispatch=n,[i,n]},useMemoCache:A0,useCacheRefresh:function(){return Pi().memoizedState=G2.bind(null,Dt)}},U1={readContext:ui,use:Kp,useCallback:N1,useContext:ui,useEffect:_1,useImperativeHandle:D1,useInsertionEffect:C1,useLayoutEffect:M1,useMemo:L1,useReducer:$p,useRef:E1,useState:function(){return $p(Qn)},useDebugValue:T0,useDeferredValue:function(i,n){var o=De();return O1(o,Jt.memoizedState,i,n)},useTransition:function(){var i=$p(Qn)[0],n=De().memoizedState;return[typeof i=="boolean"?i:wh(i),n]},useSyncExternalStore:l1,useId:I1,useHostTransitionStatus:M0,useFormState:x1,useActionState:x1,useOptimistic:function(i,n){var o=De();return p1(o,Jt,i,n)},useMemoCache:A0,useCacheRefresh:B1},X2={readContext:ui,use:Kp,useCallback:N1,useContext:ui,useEffect:_1,useImperativeHandle:D1,useInsertionEffect:C1,useLayoutEffect:M1,useMemo:L1,useReducer:S0,useRef:E1,useState:function(){return S0(Qn)},useDebugValue:T0,useDeferredValue:function(i,n){var o=De();return Jt===null?_0(o,i,n):O1(o,Jt.memoizedState,i,n)},useTransition:function(){var i=S0(Qn)[0],n=De().memoizedState;return[typeof i=="boolean"?i:wh(i),n]},useSyncExternalStore:l1,useId:I1,useHostTransitionStatus:M0,useFormState:w1,useActionState:w1,useOptimistic:function(i,n){var o=De();return Jt!==null?p1(o,Jt,i,n):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:A0,useCacheRefresh:B1},oc=null,_h=0;function tm(i){var n=_h;return _h+=1,oc===null&&(oc=[]),t1(oc,i,n)}function Ch(i,n){n=n.props.ref,i.ref=n!==void 0?n:null}function em(i,n){throw n.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(n),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i)))}function G1(i){var n=i._init;return n(i._payload)}function q1(i){function n(F,I){if(i){var z=F.deletions;z===null?(F.deletions=[I],F.flags|=16):z.push(I)}}function o(F,I){if(!i)return null;for(;I!==null;)n(F,I),I=I.sibling;return null}function h(F){for(var I=new Map;F!==null;)F.key!==null?I.set(F.key,F):I.set(F.index,F),F=F.sibling;return I}function m(F,I){return F=Xn(F,I),F.index=0,F.sibling=null,F}function y(F,I,z){return F.index=z,i?(z=F.alternate,z!==null?(z=z.index,z<I?(F.flags|=67108866,I):z):(F.flags|=67108866,I)):(F.flags|=1048576,I)}function w(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function C(F,I,z,K){return I===null||I.tag!==6?(I=Wy(z,F.mode,K),I.return=F,I):(I=m(I,z),I.return=F,I)}function O(F,I,z,K){var lt=z.type;return lt===S?Y(F,I,z.props.children,K,z.key):I!==null&&(I.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===$&&G1(lt)===I.type)?(I=m(I,z.props),Ch(I,z),I.return=F,I):(I=Ip(z.type,z.key,z.props,null,F.mode,K),Ch(I,z),I.return=F,I)}function H(F,I,z,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Qy(z,F.mode,K),I.return=F,I):(I=m(I,z.children||[]),I.return=F,I)}function Y(F,I,z,K,lt){return I===null||I.tag!==7?(I=so(z,F.mode,K,lt),I.return=F,I):(I=m(I,z),I.return=F,I)}function Q(F,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Wy(""+I,F.mode,z),I.return=F,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case v:return z=Ip(I.type,I.key,I.props,null,F.mode,z),Ch(z,I),z.return=F,z;case A:return I=Qy(I,F.mode,z),I.return=F,I;case $:var K=I._init;return I=K(I._payload),Q(F,I,z)}if(zt(I)||St(I))return I=so(I,F.mode,z,null),I.return=F,I;if(typeof I.then=="function")return Q(F,tm(I),z);if(I.$$typeof===N)return Q(F,Hp(F,I),z);em(F,I)}return null}function V(F,I,z,K){var lt=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:C(F,I,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===lt?O(F,I,z,K):null;case A:return z.key===lt?H(F,I,z,K):null;case $:return lt=z._init,z=lt(z._payload),V(F,I,z,K)}if(zt(z)||St(z))return lt!==null?null:Y(F,I,z,K,null);if(typeof z.then=="function")return V(F,I,tm(z),K);if(z.$$typeof===N)return V(F,I,Hp(F,z),K);em(F,z)}return null}function G(F,I,z,K,lt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return F=F.get(z)||null,C(I,F,""+K,lt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return F=F.get(K.key===null?z:K.key)||null,O(I,F,K,lt);case A:return F=F.get(K.key===null?z:K.key)||null,H(I,F,K,lt);case $:var Ot=K._init;return K=Ot(K._payload),G(F,I,z,K,lt)}if(zt(K)||St(K))return F=F.get(z)||null,Y(I,F,K,lt,null);if(typeof K.then=="function")return G(F,I,z,tm(K),lt);if(K.$$typeof===N)return G(F,I,z,Hp(I,K),lt);em(I,K)}return null}function vt(F,I,z,K){for(var lt=null,Ot=null,pt=I,bt=I=0,qe=null;pt!==null&&bt<z.length;bt++){pt.index>bt?(qe=pt,pt=null):qe=pt.sibling;var Vt=V(F,pt,z[bt],K);if(Vt===null){pt===null&&(pt=qe);break}i&&pt&&Vt.alternate===null&&n(F,pt),I=y(Vt,I,bt),Ot===null?lt=Vt:Ot.sibling=Vt,Ot=Vt,pt=qe}if(bt===z.length)return o(F,pt),Xt&&ao(F,bt),lt;if(pt===null){for(;bt<z.length;bt++)pt=Q(F,z[bt],K),pt!==null&&(I=y(pt,I,bt),Ot===null?lt=pt:Ot.sibling=pt,Ot=pt);return Xt&&ao(F,bt),lt}for(pt=h(pt);bt<z.length;bt++)qe=G(pt,F,bt,z[bt],K),qe!==null&&(i&&qe.alternate!==null&&pt.delete(qe.key===null?bt:qe.key),I=y(qe,I,bt),Ot===null?lt=qe:Ot.sibling=qe,Ot=qe);return i&&pt.forEach(function(ur){return n(F,ur)}),Xt&&ao(F,bt),lt}function mt(F,I,z,K){if(z==null)throw Error(s(151));for(var lt=null,Ot=null,pt=I,bt=I=0,qe=null,Vt=z.next();pt!==null&&!Vt.done;bt++,Vt=z.next()){pt.index>bt?(qe=pt,pt=null):qe=pt.sibling;var ur=V(F,pt,Vt.value,K);if(ur===null){pt===null&&(pt=qe);break}i&&pt&&ur.alternate===null&&n(F,pt),I=y(ur,I,bt),Ot===null?lt=ur:Ot.sibling=ur,Ot=ur,pt=qe}if(Vt.done)return o(F,pt),Xt&&ao(F,bt),lt;if(pt===null){for(;!Vt.done;bt++,Vt=z.next())Vt=Q(F,Vt.value,K),Vt!==null&&(I=y(Vt,I,bt),Ot===null?lt=Vt:Ot.sibling=Vt,Ot=Vt);return Xt&&ao(F,bt),lt}for(pt=h(pt);!Vt.done;bt++,Vt=z.next())Vt=G(pt,F,bt,Vt.value,K),Vt!==null&&(i&&Vt.alternate!==null&&pt.delete(Vt.key===null?bt:Vt.key),I=y(Vt,I,bt),Ot===null?lt=Vt:Ot.sibling=Vt,Ot=Vt);return i&&pt.forEach(function(YN){return n(F,YN)}),Xt&&ao(F,bt),lt}function ee(F,I,z,K){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:t:{for(var lt=z.key;I!==null;){if(I.key===lt){if(lt=z.type,lt===S){if(I.tag===7){o(F,I.sibling),K=m(I,z.props.children),K.return=F,F=K;break t}}else if(I.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===$&&G1(lt)===I.type){o(F,I.sibling),K=m(I,z.props),Ch(K,z),K.return=F,F=K;break t}o(F,I);break}else n(F,I);I=I.sibling}z.type===S?(K=so(z.props.children,F.mode,K,z.key),K.return=F,F=K):(K=Ip(z.type,z.key,z.props,null,F.mode,K),Ch(K,z),K.return=F,F=K)}return w(F);case A:t:{for(lt=z.key;I!==null;){if(I.key===lt)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){o(F,I.sibling),K=m(I,z.children||[]),K.return=F,F=K;break t}else{o(F,I);break}else n(F,I);I=I.sibling}K=Qy(z,F.mode,K),K.return=F,F=K}return w(F);case $:return lt=z._init,z=lt(z._payload),ee(F,I,z,K)}if(zt(z))return vt(F,I,z,K);if(St(z)){if(lt=St(z),typeof lt!="function")throw Error(s(150));return z=lt.call(z),mt(F,I,z,K)}if(typeof z.then=="function")return ee(F,I,tm(z),K);if(z.$$typeof===N)return ee(F,I,Hp(F,z),K);em(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(o(F,I.sibling),K=m(I,z),K.return=F,F=K):(o(F,I),K=Wy(z,F.mode,K),K.return=F,F=K),w(F)):o(F,I)}return function(F,I,z,K){try{_h=0;var lt=ee(F,I,z,K);return oc=null,lt}catch(pt){if(pt===yh||pt===Up)throw pt;var Ot=Wi(29,pt,null,F.mode);return Ot.lanes=K,Ot.return=F,Ot}finally{}}}var lc=q1(!0),X1=q1(!1),Ts=W(null),mn=null;function $a(i){var n=i.alternate;Z(je,je.current&1),Z(Ts,i),mn===null&&(n===null||sc.current!==null||n.memoizedState!==null)&&(mn=i)}function Y1(i){if(i.tag===22){if(Z(je,je.current),Z(Ts,i),mn===null){var n=i.alternate;n!==null&&n.memoizedState!==null&&(mn=i)}}else Wa()}function Wa(){Z(je,je.current),Z(Ts,Ts.current)}function Zn(i){et(Ts),mn===i&&(mn=null),et(je)}var je=W(0);function im(i){for(var n=i;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||vb(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function D0(i,n,o,h){n=i.memoizedState,o=o(h,n),o=o==null?n:g({},n,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var N0={enqueueSetState:function(i,n,o){i=i._reactInternals;var h=ts(),m=Xa(h);m.payload=n,o!=null&&(m.callback=o),n=Ya(i,m,h),n!==null&&(es(n,i,h),vh(n,i,h))},enqueueReplaceState:function(i,n,o){i=i._reactInternals;var h=ts(),m=Xa(h);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=Ya(i,m,h),n!==null&&(es(n,i,h),vh(n,i,h))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var o=ts(),h=Xa(o);h.tag=2,n!=null&&(h.callback=n),n=Ya(i,h,o),n!==null&&(es(n,i,o),vh(n,i,o))}};function K1(i,n,o,h,m,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,w):n.prototype&&n.prototype.isPureReactComponent?!ch(o,h)||!ch(m,y):!0}function $1(i,n,o,h){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,h),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,h),n.state!==i&&N0.enqueueReplaceState(n,n.state,null)}function fo(i,n){var o=n;if("ref"in n){o={};for(var h in n)h!=="ref"&&(o[h]=n[h])}if(i=i.defaultProps){o===n&&(o=g({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var sm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function W1(i){sm(i)}function Q1(i){console.error(i)}function Z1(i){sm(i)}function nm(i,n){try{var o=i.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(h){setTimeout(function(){throw h})}}function J1(i,n,o){try{var h=i.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function L0(i,n,o){return o=Xa(o),o.tag=3,o.payload={element:null},o.callback=function(){nm(i,n)},o}function tw(i){return i=Xa(i),i.tag=3,i}function ew(i,n,o,h){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=h.value;i.payload=function(){return m(y)},i.callback=function(){J1(n,o,h)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){J1(n,o,h),typeof m!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function Y2(i,n,o,h,m){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(n=o.alternate,n!==null&&ph(n,o,m,!0),o=Ts.current,o!==null){switch(o.tag){case 13:return mn===null?ib():o.alternate===null&&Ae===0&&(Ae=3),o.flags&=-257,o.flags|=65536,o.lanes=m,h===o0?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([h]):n.add(h),nb(i,h,m)),!1;case 22:return o.flags|=65536,h===o0?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([h]):o.add(h)),nb(i,h,m)),!1}throw Error(s(435,o.tag))}return nb(i,h,m),ib(),!1}if(Xt)return n=Ts.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,h!==t0&&(i=Error(s(422),{cause:h}),fh(xs(i,o)))):(h!==t0&&(n=Error(s(423),{cause:h}),fh(xs(n,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,h=xs(h,o),m=L0(i.stateNode,h,m),u0(i,m),Ae!==4&&(Ae=2)),!1;var y=Error(s(520),{cause:h});if(y=xs(y,o),kh===null?kh=[y]:kh.push(y),Ae!==4&&(Ae=2),n===null)return!0;h=xs(h,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=L0(o.stateNode,h,i),u0(o,i),!1;case 1:if(n=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ir===null||!ir.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=tw(m),ew(m,i,o,h),u0(o,m),!1}o=o.return}while(o!==null);return!1}var iw=Error(s(461)),Ue=!1;function Je(i,n,o,h){n.child=i===null?X1(n,null,o,h):lc(n,i.child,o,h)}function sw(i,n,o,h,m){o=o.render;var y=n.ref;if("ref"in h){var w={};for(var C in h)C!=="ref"&&(w[C]=h[C])}else w=h;return co(n),h=m0(i,n,o,w,y,m),C=g0(),i!==null&&!Ue?(y0(i,n,m),Jn(i,n,m)):(Xt&&C&&Zy(n),n.flags|=1,Je(i,n,h,m),n.child)}function nw(i,n,o,h,m){if(i===null){var y=o.type;return typeof y=="function"&&!$y(y)&&y.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=y,aw(i,n,y,h,m)):(i=Ip(o.type,null,h,n,n.mode,m),i.ref=n.ref,i.return=n,n.child=i)}if(y=i.child,!z0(i,m)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:ch,o(w,h)&&i.ref===n.ref)return Jn(i,n,m)}return n.flags|=1,i=Xn(y,h),i.ref=n.ref,i.return=n,n.child=i}function aw(i,n,o,h,m){if(i!==null){var y=i.memoizedProps;if(ch(y,h)&&i.ref===n.ref)if(Ue=!1,n.pendingProps=h=y,z0(i,m))(i.flags&131072)!==0&&(Ue=!0);else return n.lanes=i.lanes,Jn(i,n,m)}return O0(i,n,o,h,m)}function rw(i,n,o){var h=n.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((n.flags&128)!==0){if(h=y!==null?y.baseLanes|o:o,i!==null){for(m=n.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;n.childLanes=y&~h}else n.childLanes=0,n.child=null;return ow(i,n,h,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vp(n,y!==null?y.cachePool:null),y!==null?a1(n,y):d0(),Y1(n);else return n.lanes=n.childLanes=536870912,ow(i,n,y!==null?y.baseLanes|o:o,o)}else y!==null?(Vp(n,y.cachePool),a1(n,y),Wa(),n.memoizedState=null):(i!==null&&Vp(n,null),d0(),Wa());return Je(i,n,m,o),n.child}function ow(i,n,o,h){var m=r0();return m=m===null?null:{parent:Pe._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},i!==null&&Vp(n,null),d0(),Y1(n),i!==null&&ph(i,n,h,!0),null}function am(i,n){var o=n.ref;if(o===null)i!==null&&i.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(n.flags|=4194816)}}function O0(i,n,o,h,m){return co(n),o=m0(i,n,o,h,void 0,m),h=g0(),i!==null&&!Ue?(y0(i,n,m),Jn(i,n,m)):(Xt&&h&&Zy(n),n.flags|=1,Je(i,n,o,m),n.child)}function lw(i,n,o,h,m,y){return co(n),n.updateQueue=null,o=o1(n,h,o,m),r1(i),h=g0(),i!==null&&!Ue?(y0(i,n,y),Jn(i,n,y)):(Xt&&h&&Zy(n),n.flags|=1,Je(i,n,o,y),n.child)}function cw(i,n,o,h,m){if(co(n),n.stateNode===null){var y=Zl,w=o.contextType;typeof w=="object"&&w!==null&&(y=ui(w)),y=new o(h,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=N0,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=h,y.state=n.memoizedState,y.refs={},l0(n),w=o.contextType,y.context=typeof w=="object"&&w!==null?ui(w):Zl,y.state=n.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(D0(n,o,w,h),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&N0.enqueueReplaceState(y,y.state,null),xh(n,h,y,m),Ah(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),h=!0}else if(i===null){y=n.stateNode;var C=n.memoizedProps,O=fo(o,C);y.props=O;var H=y.context,Y=o.contextType;w=Zl,typeof Y=="object"&&Y!==null&&(w=ui(Y));var Q=o.getDerivedStateFromProps;Y=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||H!==w)&&$1(n,y,h,w),qa=!1;var V=n.memoizedState;y.state=V,xh(n,h,y,m),Ah(),H=n.memoizedState,C||V!==H||qa?(typeof Q=="function"&&(D0(n,o,Q,h),H=n.memoizedState),(O=qa||K1(n,o,O,h,V,H,w))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=h,n.memoizedState=H),y.props=h,y.state=H,y.context=w,h=O):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),h=!1)}else{y=n.stateNode,c0(i,n),w=n.memoizedProps,Y=fo(o,w),y.props=Y,Q=n.pendingProps,V=y.context,H=o.contextType,O=Zl,typeof H=="object"&&H!==null&&(O=ui(H)),C=o.getDerivedStateFromProps,(H=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Q||V!==O)&&$1(n,y,h,O),qa=!1,V=n.memoizedState,y.state=V,xh(n,h,y,m),Ah();var G=n.memoizedState;w!==Q||V!==G||qa||i!==null&&i.dependencies!==null&&zp(i.dependencies)?(typeof C=="function"&&(D0(n,o,C,h),G=n.memoizedState),(Y=qa||K1(n,o,Y,h,V,G,O)||i!==null&&i.dependencies!==null&&zp(i.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,G,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,G,O)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&V===i.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&V===i.memoizedState||(n.flags|=1024),n.memoizedProps=h,n.memoizedState=G),y.props=h,y.state=G,y.context=O,h=Y):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&V===i.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&V===i.memoizedState||(n.flags|=1024),h=!1)}return y=h,am(i,n),h=(n.flags&128)!==0,y||h?(y=n.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,i!==null&&h?(n.child=lc(n,i.child,null,m),n.child=lc(n,null,o,m)):Je(i,n,o,m),n.memoizedState=y.state,i=n.child):i=Jn(i,n,m),i}function uw(i,n,o,h){return dh(),n.flags|=256,Je(i,n,o,h),n.child}var k0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function P0(i){return{baseLanes:i,cachePool:QS()}}function j0(i,n,o){return i=i!==null?i.childLanes&~o:0,n&&(i|=_s),i}function hw(i,n,o){var h=n.pendingProps,m=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(je.current&2)!==0),w&&(m=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,i===null){if(Xt){if(m?$a(n):Wa(),Xt){var C=ve,O;if(O=C){t:{for(O=C,C=pn;O.nodeType!==8;){if(!C){C=null;break t}if(O=qs(O.nextSibling),O===null){C=null;break t}}C=O}C!==null?(n.memoizedState={dehydrated:C,treeContext:no!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},O=Wi(18,null,null,0),O.stateNode=C,O.return=n,n.child=O,Si=n,ve=null,O=!0):O=!1}O||oo(n)}if(C=n.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return vb(C)?n.lanes=32:n.lanes=536870912,null;Zn(n)}return C=h.children,h=h.fallback,m?(Wa(),m=n.mode,C=rm({mode:"hidden",children:C},m),h=so(h,m,o,null),C.return=n,h.return=n,C.sibling=h,n.child=C,m=n.child,m.memoizedState=P0(o),m.childLanes=j0(i,w,o),n.memoizedState=k0,h):($a(n),I0(n,C))}if(O=i.memoizedState,O!==null&&(C=O.dehydrated,C!==null)){if(y)n.flags&256?($a(n),n.flags&=-257,n=B0(i,n,o)):n.memoizedState!==null?(Wa(),n.child=i.child,n.flags|=128,n=null):(Wa(),m=h.fallback,C=n.mode,h=rm({mode:"visible",children:h.children},C),m=so(m,C,o,null),m.flags|=2,h.return=n,m.return=n,h.sibling=m,n.child=h,lc(n,i.child,null,o),h=n.child,h.memoizedState=P0(o),h.childLanes=j0(i,w,o),n.memoizedState=k0,n=m);else if($a(n),vb(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var H=w.dgst;w=H,h=Error(s(419)),h.stack="",h.digest=w,fh({value:h,source:null,stack:null}),n=B0(i,n,o)}else if(Ue||ph(i,n,o,!1),w=(o&i.childLanes)!==0,Ue||w){if(w=re,w!==null&&(h=o&-o,h=(h&42)!==0?1:Ay(h),h=(h&(w.suspendedLanes|o))!==0?0:h,h!==0&&h!==O.retryLane))throw O.retryLane=h,Ql(i,h),es(w,i,h),iw;C.data==="$?"||ib(),n=B0(i,n,o)}else C.data==="$?"?(n.flags|=192,n.child=i.child,n=null):(i=O.treeContext,ve=qs(C.nextSibling),Si=n,Xt=!0,ro=null,pn=!1,i!==null&&(ws[Es++]=Yn,ws[Es++]=Kn,ws[Es++]=no,Yn=i.id,Kn=i.overflow,no=n),n=I0(n,h.children),n.flags|=4096);return n}return m?(Wa(),m=h.fallback,C=n.mode,O=i.child,H=O.sibling,h=Xn(O,{mode:"hidden",children:h.children}),h.subtreeFlags=O.subtreeFlags&65011712,H!==null?m=Xn(H,m):(m=so(m,C,o,null),m.flags|=2),m.return=n,h.return=n,h.sibling=m,n.child=h,h=m,m=n.child,C=i.child.memoizedState,C===null?C=P0(o):(O=C.cachePool,O!==null?(H=Pe._currentValue,O=O.parent!==H?{parent:H,pool:H}:O):O=QS(),C={baseLanes:C.baseLanes|o,cachePool:O}),m.memoizedState=C,m.childLanes=j0(i,w,o),n.memoizedState=k0,h):($a(n),o=i.child,i=o.sibling,o=Xn(o,{mode:"visible",children:h.children}),o.return=n,o.sibling=null,i!==null&&(w=n.deletions,w===null?(n.deletions=[i],n.flags|=16):w.push(i)),n.child=o,n.memoizedState=null,o)}function I0(i,n){return n=rm({mode:"visible",children:n},i.mode),n.return=i,i.child=n}function rm(i,n){return i=Wi(22,i,null,n),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function B0(i,n,o){return lc(n,i.child,null,o),i=I0(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function dw(i,n,o){i.lanes|=n;var h=i.alternate;h!==null&&(h.lanes|=n),i0(i.return,n,o)}function F0(i,n,o,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:m}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=o,y.tailMode=m)}function fw(i,n,o){var h=n.pendingProps,m=h.revealOrder,y=h.tail;if(Je(i,n,h.children,o),h=je.current,(h&2)!==0)h=h&1|2,n.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&dw(i,o,n);else if(i.tag===19)dw(i,o,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(Z(je,h),m){case"forwards":for(o=n.child,m=null;o!==null;)i=o.alternate,i!==null&&im(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=n.child,n.child=null):(m=o.sibling,o.sibling=null),F0(n,!1,m,o,y);break;case"backwards":for(o=null,m=n.child,n.child=null;m!==null;){if(i=m.alternate,i!==null&&im(i)===null){n.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}F0(n,!0,o,null,y);break;case"together":F0(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Jn(i,n,o){if(i!==null&&(n.dependencies=i.dependencies),er|=n.lanes,(o&n.childLanes)===0)if(i!==null){if(ph(i,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(i!==null&&n.child!==i.child)throw Error(s(153));if(n.child!==null){for(i=n.child,o=Xn(i,i.pendingProps),n.child=o,o.return=n;i.sibling!==null;)i=i.sibling,o=o.sibling=Xn(i,i.pendingProps),o.return=n;o.sibling=null}return n.child}function z0(i,n){return(i.lanes&n)!==0?!0:(i=i.dependencies,!!(i!==null&&zp(i)))}function K2(i,n,o){switch(n.tag){case 3:qt(n,n.stateNode.containerInfo),Ga(n,Pe,i.memoizedState.cache),dh();break;case 27:case 5:Wu(n);break;case 4:qt(n,n.stateNode.containerInfo);break;case 10:Ga(n,n.type,n.memoizedProps.value);break;case 13:var h=n.memoizedState;if(h!==null)return h.dehydrated!==null?($a(n),n.flags|=128,null):(o&n.child.childLanes)!==0?hw(i,n,o):($a(n),i=Jn(i,n,o),i!==null?i.sibling:null);$a(n);break;case 19:var m=(i.flags&128)!==0;if(h=(o&n.childLanes)!==0,h||(ph(i,n,o,!1),h=(o&n.childLanes)!==0),m){if(h)return fw(i,n,o);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Z(je,je.current),h)break;return null;case 22:case 23:return n.lanes=0,rw(i,n,o);case 24:Ga(n,Pe,i.memoizedState.cache)}return Jn(i,n,o)}function pw(i,n,o){if(i!==null)if(i.memoizedProps!==n.pendingProps)Ue=!0;else{if(!z0(i,o)&&(n.flags&128)===0)return Ue=!1,K2(i,n,o);Ue=(i.flags&131072)!==0}else Ue=!1,Xt&&(n.flags&1048576)!==0&&GS(n,Fp,n.index);switch(n.lanes=0,n.tag){case 16:t:{i=n.pendingProps;var h=n.elementType,m=h._init;if(h=m(h._payload),n.type=h,typeof h=="function")$y(h)?(i=fo(h,i),n.tag=1,n=cw(null,n,h,i,o)):(n.tag=0,n=O0(null,n,h,i,o));else{if(h!=null){if(m=h.$$typeof,m===j){n.tag=11,n=sw(null,n,h,i,o);break t}else if(m===q){n.tag=14,n=nw(null,n,h,i,o);break t}}throw n=Tt(h)||h,Error(s(306,n,""))}}return n;case 0:return O0(i,n,n.type,n.pendingProps,o);case 1:return h=n.type,m=fo(h,n.pendingProps),cw(i,n,h,m,o);case 3:t:{if(qt(n,n.stateNode.containerInfo),i===null)throw Error(s(387));h=n.pendingProps;var y=n.memoizedState;m=y.element,c0(i,n),xh(n,h,null,o);var w=n.memoizedState;if(h=w.cache,Ga(n,Pe,h),h!==y.cache&&s0(n,[Pe],o,!0),Ah(),h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=uw(i,n,h,o);break t}else if(h!==m){m=xs(Error(s(424)),n),fh(m),n=uw(i,n,h,o);break t}else{switch(i=n.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ve=qs(i.firstChild),Si=n,Xt=!0,ro=null,pn=!0,o=X1(n,null,h,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(dh(),h===m){n=Jn(i,n,o);break t}Je(i,n,h,o)}n=n.child}return n;case 26:return am(i,n),i===null?(o=bE(n.type,null,n.pendingProps,null))?n.memoizedState=o:Xt||(o=n.type,i=n.pendingProps,h=Am(ct.current).createElement(o),h[ci]=n,h[Oi]=i,ei(h,o,i),Ve(h),n.stateNode=h):n.memoizedState=bE(n.type,i.memoizedProps,n.pendingProps,i.memoizedState),null;case 27:return Wu(n),i===null&&Xt&&(h=n.stateNode=mE(n.type,n.pendingProps,ct.current),Si=n,pn=!0,m=ve,ar(n.type)?(Ab=m,ve=qs(h.firstChild)):ve=m),Je(i,n,n.pendingProps.children,o),am(i,n),i===null&&(n.flags|=4194304),n.child;case 5:return i===null&&Xt&&((m=h=ve)&&(h=SN(h,n.type,n.pendingProps,pn),h!==null?(n.stateNode=h,Si=n,ve=qs(h.firstChild),pn=!1,m=!0):m=!1),m||oo(n)),Wu(n),m=n.type,y=n.pendingProps,w=i!==null?i.memoizedProps:null,h=y.children,gb(m,y)?h=null:w!==null&&gb(m,w)&&(n.flags|=32),n.memoizedState!==null&&(m=m0(i,n,z2,null,null,o),Uh._currentValue=m),am(i,n),Je(i,n,h,o),n.child;case 6:return i===null&&Xt&&((i=o=ve)&&(o=wN(o,n.pendingProps,pn),o!==null?(n.stateNode=o,Si=n,ve=null,i=!0):i=!1),i||oo(n)),null;case 13:return hw(i,n,o);case 4:return qt(n,n.stateNode.containerInfo),h=n.pendingProps,i===null?n.child=lc(n,null,h,o):Je(i,n,h,o),n.child;case 11:return sw(i,n,n.type,n.pendingProps,o);case 7:return Je(i,n,n.pendingProps,o),n.child;case 8:return Je(i,n,n.pendingProps.children,o),n.child;case 12:return Je(i,n,n.pendingProps.children,o),n.child;case 10:return h=n.pendingProps,Ga(n,n.type,h.value),Je(i,n,h.children,o),n.child;case 9:return m=n.type._context,h=n.pendingProps.children,co(n),m=ui(m),h=h(m),n.flags|=1,Je(i,n,h,o),n.child;case 14:return nw(i,n,n.type,n.pendingProps,o);case 15:return aw(i,n,n.type,n.pendingProps,o);case 19:return fw(i,n,o);case 31:return h=n.pendingProps,o=n.mode,h={mode:h.mode,children:h.children},i===null?(o=rm(h,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Xn(i.child,h),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return rw(i,n,o);case 24:return co(n),h=ui(Pe),i===null?(m=r0(),m===null&&(m=re,y=n0(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),n.memoizedState={parent:h,cache:m},l0(n),Ga(n,Pe,m)):((i.lanes&o)!==0&&(c0(i,n),xh(n,null,null,o),Ah()),m=i.memoizedState,y=n.memoizedState,m.parent!==h?(m={parent:h,cache:h},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Ga(n,Pe,h)):(h=y.cache,Ga(n,Pe,h),h!==m.cache&&s0(n,[Pe],o,!0))),Je(i,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ta(i){i.flags|=4}function mw(i,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!wE(n)){if(n=Ts.current,n!==null&&((Ft&4194048)===Ft?mn!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||n!==mn))throw bh=o0,ZS;i.flags|=8192}}function om(i,n){n!==null&&(i.flags|=4),i.flags&16384&&(n=i.tag!==22?Yx():536870912,i.lanes|=n,dc|=n)}function Mh(i,n){if(!Xt)switch(i.tailMode){case"hidden":n=i.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function fe(i){var n=i.alternate!==null&&i.alternate.child===i.child,o=0,h=0;if(n)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=o,n}function $2(i,n,o){var h=n.pendingProps;switch(Jy(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return o=n.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),n.memoizedState.cache!==h&&(n.flags|=2048),Wn(Pe),Vs(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(hh(n)?ta(n):i===null||i.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,YS())),fe(n),null;case 26:return o=n.memoizedState,i===null?(ta(n),o!==null?(fe(n),mw(n,o)):(fe(n),n.flags&=-16777217)):o?o!==i.memoizedState?(ta(n),fe(n),mw(n,o)):(fe(n),n.flags&=-16777217):(i.memoizedProps!==h&&ta(n),fe(n),n.flags&=-16777217),null;case 27:bp(n),o=ct.current;var m=n.type;if(i!==null&&n.stateNode!=null)i.memoizedProps!==h&&ta(n);else{if(!h){if(n.stateNode===null)throw Error(s(166));return fe(n),null}i=ht.current,hh(n)?qS(n):(i=mE(m,h,o),n.stateNode=i,ta(n))}return fe(n),null;case 5:if(bp(n),o=n.type,i!==null&&n.stateNode!=null)i.memoizedProps!==h&&ta(n);else{if(!h){if(n.stateNode===null)throw Error(s(166));return fe(n),null}if(i=ht.current,hh(n))qS(n);else{switch(m=Am(ct.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?m.createElement(o,{is:h.is}):m.createElement(o)}}i[ci]=n,i[Oi]=h;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=i;t:switch(ei(i,o,h),o){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ta(n)}}return fe(n),n.flags&=-16777217,null;case 6:if(i&&n.stateNode!=null)i.memoizedProps!==h&&ta(n);else{if(typeof h!="string"&&n.stateNode===null)throw Error(s(166));if(i=ct.current,hh(n)){if(i=n.stateNode,o=n.memoizedProps,h=null,m=Si,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}i[ci]=n,i=!!(i.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||lE(i.nodeValue,o)),i||oo(n)}else i=Am(i).createTextNode(h),i[ci]=n,n.stateNode=i}return fe(n),null;case 13:if(h=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=hh(n),h!==null&&h.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[ci]=n}else dh(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),m=!1}else m=YS(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Zn(n),n):(Zn(n),null)}if(Zn(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=h!==null,i=i!==null&&i.memoizedState!==null,o){h=n.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048)}return o!==i&&o&&(n.child.flags|=8192),om(n,n.updateQueue),fe(n),null;case 4:return Vs(),i===null&&hb(n.stateNode.containerInfo),fe(n),null;case 10:return Wn(n.type),fe(n),null;case 19:if(et(je),m=n.memoizedState,m===null)return fe(n),null;if(h=(n.flags&128)!==0,y=m.rendering,y===null)if(h)Mh(m,!1);else{if(Ae!==0||i!==null&&(i.flags&128)!==0)for(i=n.child;i!==null;){if(y=im(i),y!==null){for(n.flags|=128,Mh(m,!1),i=y.updateQueue,n.updateQueue=i,om(n,i),n.subtreeFlags=0,i=o,o=n.child;o!==null;)US(o,i),o=o.sibling;return Z(je,je.current&1|2),n.child}i=i.sibling}m.tail!==null&&fn()>um&&(n.flags|=128,h=!0,Mh(m,!1),n.lanes=4194304)}else{if(!h)if(i=im(y),i!==null){if(n.flags|=128,h=!0,i=i.updateQueue,n.updateQueue=i,om(n,i),Mh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Xt)return fe(n),null}else 2*fn()-m.renderingStartTime>um&&o!==536870912&&(n.flags|=128,h=!0,Mh(m,!1),n.lanes=4194304);m.isBackwards?(y.sibling=n.child,n.child=y):(i=m.last,i!==null?i.sibling=y:n.child=y,m.last=y)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=fn(),n.sibling=null,i=je.current,Z(je,h?i&1|2:i&1),n):(fe(n),null);case 22:case 23:return Zn(n),f0(),h=n.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(n.flags|=8192):h&&(n.flags|=8192),h?(o&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),o=n.updateQueue,o!==null&&om(n,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),h=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(h=n.memoizedState.cachePool.pool),h!==o&&(n.flags|=2048),i!==null&&et(uo),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wn(Pe),fe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function W2(i,n){switch(Jy(n),n.tag){case 1:return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return Wn(Pe),Vs(),i=n.flags,(i&65536)!==0&&(i&128)===0?(n.flags=i&-65537|128,n):null;case 26:case 27:case 5:return bp(n),null;case 13:if(Zn(n),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(s(340));dh()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return et(je),null;case 4:return Vs(),null;case 10:return Wn(n.type),null;case 22:case 23:return Zn(n),f0(),i!==null&&et(uo),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 24:return Wn(Pe),null;case 25:return null;default:return null}}function gw(i,n){switch(Jy(n),n.tag){case 3:Wn(Pe),Vs();break;case 26:case 27:case 5:bp(n);break;case 4:Vs();break;case 13:Zn(n);break;case 19:et(je);break;case 10:Wn(n.type);break;case 22:case 23:Zn(n),f0(),i!==null&&et(uo);break;case 24:Wn(Pe)}}function Rh(i,n){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&i)===i){h=void 0;var y=o.create,w=o.inst;h=y(),w.destroy=h}o=o.next}while(o!==m)}}catch(C){ne(n,n.return,C)}}function Qa(i,n,o){try{var h=n.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&i)===i){var w=h.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,m=n;var O=o,H=C;try{H()}catch(Y){ne(m,O,Y)}}}h=h.next}while(h!==y)}}catch(Y){ne(n,n.return,Y)}}function yw(i){var n=i.updateQueue;if(n!==null){var o=i.stateNode;try{n1(n,o)}catch(h){ne(i,i.return,h)}}}function bw(i,n,o){o.props=fo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(h){ne(i,n,h)}}function Dh(i,n){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof o=="function"?i.refCleanup=o(h):o.current=h}}catch(m){ne(i,n,m)}}function gn(i,n){var o=i.ref,h=i.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(m){ne(i,n,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ne(i,n,m)}else o.current=null}function vw(i){var n=i.type,o=i.memoizedProps,h=i.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(m){ne(i,i.return,m)}}function H0(i,n,o){try{var h=i.stateNode;yN(h,i.type,o,n),h[Oi]=n}catch(m){ne(i,i.return,m)}}function Aw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ar(i.type)||i.tag===4}function V0(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Aw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ar(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function U0(i,n,o){var h=i.tag;if(h===5||h===6)i=i.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(i),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=vm));else if(h!==4&&(h===27&&ar(i.type)&&(o=i.stateNode,n=null),i=i.child,i!==null))for(U0(i,n,o),i=i.sibling;i!==null;)U0(i,n,o),i=i.sibling}function lm(i,n,o){var h=i.tag;if(h===5||h===6)i=i.stateNode,n?o.insertBefore(i,n):o.appendChild(i);else if(h!==4&&(h===27&&ar(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(lm(i,n,o),i=i.sibling;i!==null;)lm(i,n,o),i=i.sibling}function xw(i){var n=i.stateNode,o=i.memoizedProps;try{for(var h=i.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);ei(n,h,o),n[ci]=i,n[Oi]=o}catch(y){ne(i,i.return,y)}}var ea=!1,Ee=!1,G0=!1,Sw=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Q2(i,n){if(i=i.containerInfo,pb=_m,i=OS(i),Vy(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var w=0,C=-1,O=-1,H=0,Y=0,Q=i,V=null;e:for(;;){for(var G;Q!==o||m!==0&&Q.nodeType!==3||(C=w+m),Q!==y||h!==0&&Q.nodeType!==3||(O=w+h),Q.nodeType===3&&(w+=Q.nodeValue.length),(G=Q.firstChild)!==null;)V=Q,Q=G;for(;;){if(Q===i)break e;if(V===o&&++H===m&&(C=w),V===y&&++Y===h&&(O=w),(G=Q.nextSibling)!==null)break;Q=V,V=Q.parentNode}Q=G}o=C===-1||O===-1?null:{start:C,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(mb={focusedElem:i,selectionRange:o},_m=!1,Ge=n;Ge!==null;)if(n=Ge,i=n.child,(n.subtreeFlags&1024)!==0&&i!==null)i.return=n,Ge=i;else for(;Ge!==null;){switch(n=Ge,y=n.alternate,i=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=n,m=y.memoizedProps,y=y.memoizedState,h=o.stateNode;try{var vt=fo(o.type,m,o.elementType===o.type);i=h.getSnapshotBeforeUpdate(vt,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(mt){ne(o,o.return,mt)}}break;case 3:if((i&1024)!==0){if(i=n.stateNode.containerInfo,o=i.nodeType,o===9)bb(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":bb(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=n.sibling,i!==null){i.return=n.return,Ge=i;break}Ge=n.return}}function ww(i,n,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Za(i,o),h&4&&Rh(5,o);break;case 1:if(Za(i,o),h&4)if(i=o.stateNode,n===null)try{i.componentDidMount()}catch(w){ne(o,o.return,w)}else{var m=fo(o.type,n.memoizedProps);n=n.memoizedState;try{i.componentDidUpdate(m,n,i.__reactInternalSnapshotBeforeUpdate)}catch(w){ne(o,o.return,w)}}h&64&&yw(o),h&512&&Dh(o,o.return);break;case 3:if(Za(i,o),h&64&&(i=o.updateQueue,i!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{n1(i,n)}catch(w){ne(o,o.return,w)}}break;case 27:n===null&&h&4&&xw(o);case 26:case 5:Za(i,o),n===null&&h&4&&vw(o),h&512&&Dh(o,o.return);break;case 12:Za(i,o);break;case 13:Za(i,o),h&4&&_w(i,o),h&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=rN.bind(null,o),EN(i,o))));break;case 22:if(h=o.memoizedState!==null||ea,!h){n=n!==null&&n.memoizedState!==null||Ee,m=ea;var y=Ee;ea=h,(Ee=n)&&!y?Ja(i,o,(o.subtreeFlags&8772)!==0):Za(i,o),ea=m,Ee=y}break;case 30:break;default:Za(i,o)}}function Ew(i){var n=i.alternate;n!==null&&(i.alternate=null,Ew(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&wy(n)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,ji=!1;function ia(i,n,o){for(o=o.child;o!==null;)Tw(i,n,o),o=o.sibling}function Tw(i,n,o){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(Qu,o)}catch{}switch(o.tag){case 26:Ee||gn(o,n),ia(i,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ee||gn(o,n);var h=ce,m=ji;ar(o.type)&&(ce=o.stateNode,ji=!1),ia(i,n,o),Fh(o.stateNode),ce=h,ji=m;break;case 5:Ee||gn(o,n);case 6:if(h=ce,m=ji,ce=null,ia(i,n,o),ce=h,ji=m,ce!==null)if(ji)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(o.stateNode)}catch(y){ne(o,n,y)}else try{ce.removeChild(o.stateNode)}catch(y){ne(o,n,y)}break;case 18:ce!==null&&(ji?(i=ce,fE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Yh(i)):fE(ce,o.stateNode));break;case 4:h=ce,m=ji,ce=o.stateNode.containerInfo,ji=!0,ia(i,n,o),ce=h,ji=m;break;case 0:case 11:case 14:case 15:Ee||Qa(2,o,n),Ee||Qa(4,o,n),ia(i,n,o);break;case 1:Ee||(gn(o,n),h=o.stateNode,typeof h.componentWillUnmount=="function"&&bw(o,n,h)),ia(i,n,o);break;case 21:ia(i,n,o);break;case 22:Ee=(h=Ee)||o.memoizedState!==null,ia(i,n,o),Ee=h;break;default:ia(i,n,o)}}function _w(i,n){if(n.memoizedState===null&&(i=n.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yh(i)}catch(o){ne(n,n.return,o)}}function Z2(i){switch(i.tag){case 13:case 19:var n=i.stateNode;return n===null&&(n=i.stateNode=new Sw),n;case 22:return i=i.stateNode,n=i._retryCache,n===null&&(n=i._retryCache=new Sw),n;default:throw Error(s(435,i.tag))}}function q0(i,n){var o=Z2(i);n.forEach(function(h){var m=oN.bind(null,i,h);o.has(h)||(o.add(h),h.then(m,m))})}function Qi(i,n){var o=n.deletions;if(o!==null)for(var h=0;h<o.length;h++){var m=o[h],y=i,w=n,C=w;t:for(;C!==null;){switch(C.tag){case 27:if(ar(C.type)){ce=C.stateNode,ji=!1;break t}break;case 5:ce=C.stateNode,ji=!1;break t;case 3:case 4:ce=C.stateNode.containerInfo,ji=!0;break t}C=C.return}if(ce===null)throw Error(s(160));Tw(y,w,m),ce=null,ji=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Cw(n,i),n=n.sibling}var Gs=null;function Cw(i,n){var o=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Qi(n,i),Zi(i),h&4&&(Qa(3,i,i.return),Rh(3,i),Qa(5,i,i.return));break;case 1:Qi(n,i),Zi(i),h&512&&(Ee||o===null||gn(o,o.return)),h&64&&ea&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var m=Gs;if(Qi(n,i),Zi(i),h&512&&(Ee||o===null||gn(o,o.return)),h&4){var y=o!==null?o.memoizedState:null;if(h=i.memoizedState,o===null)if(h===null)if(i.stateNode===null){t:{h=i.type,o=i.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":y=m.getElementsByTagName("title")[0],(!y||y[th]||y[ci]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(h),m.head.insertBefore(y,m.querySelector("head > title"))),ei(y,h,o),y[ci]=i,Ve(y),h=y;break t;case"link":var w=xE("link","href",m).get(h+(o.href||""));if(w){for(var C=0;C<w.length;C++)if(y=w[C],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(C,1);break e}}y=m.createElement(h),ei(y,h,o),m.head.appendChild(y);break;case"meta":if(w=xE("meta","content",m).get(h+(o.content||""))){for(C=0;C<w.length;C++)if(y=w[C],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(C,1);break e}}y=m.createElement(h),ei(y,h,o),m.head.appendChild(y);break;default:throw Error(s(468,h))}y[ci]=i,Ve(y),h=y}i.stateNode=h}else SE(m,i.type,i.stateNode);else i.stateNode=AE(m,h,i.memoizedProps);else y!==h?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,h===null?SE(m,i.type,i.stateNode):AE(m,h,i.memoizedProps)):h===null&&i.stateNode!==null&&H0(i,i.memoizedProps,o.memoizedProps)}break;case 27:Qi(n,i),Zi(i),h&512&&(Ee||o===null||gn(o,o.return)),o!==null&&h&4&&H0(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Qi(n,i),Zi(i),h&512&&(Ee||o===null||gn(o,o.return)),i.flags&32){m=i.stateNode;try{Gl(m,"")}catch(G){ne(i,i.return,G)}}h&4&&i.stateNode!=null&&(m=i.memoizedProps,H0(i,m,o!==null?o.memoizedProps:m)),h&1024&&(G0=!0);break;case 6:if(Qi(n,i),Zi(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,o=i.stateNode;try{o.nodeValue=h}catch(G){ne(i,i.return,G)}}break;case 3:if(wm=null,m=Gs,Gs=xm(n.containerInfo),Qi(n,i),Gs=m,Zi(i),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Yh(n.containerInfo)}catch(G){ne(i,i.return,G)}G0&&(G0=!1,Mw(i));break;case 4:h=Gs,Gs=xm(i.stateNode.containerInfo),Qi(n,i),Zi(i),Gs=h;break;case 12:Qi(n,i),Zi(i);break;case 13:Qi(n,i),Zi(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Q0=fn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,q0(i,h)));break;case 22:m=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,H=ea,Y=Ee;if(ea=H||m,Ee=Y||O,Qi(n,i),Ee=Y,ea=H,Zi(i),h&8192)t:for(n=i.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(o===null||O||ea||Ee||po(i)),o=null,n=i;;){if(n.tag===5||n.tag===26){if(o===null){O=o=n;try{if(y=O.stateNode,m)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=O.stateNode;var Q=O.memoizedProps.style,V=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;C.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(G){ne(O,O.return,G)}}}else if(n.tag===6){if(o===null){O=n;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(G){ne(O,O.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===i)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}h&4&&(h=i.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,q0(i,o))));break;case 19:Qi(n,i),Zi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,q0(i,h)));break;case 30:break;case 21:break;default:Qi(n,i),Zi(i)}}function Zi(i){var n=i.flags;if(n&2){try{for(var o,h=i.return;h!==null;){if(Aw(h)){o=h;break}h=h.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=V0(i);lm(i,y,m);break;case 5:var w=o.stateNode;o.flags&32&&(Gl(w,""),o.flags&=-33);var C=V0(i);lm(i,C,w);break;case 3:case 4:var O=o.stateNode.containerInfo,H=V0(i);U0(i,H,O);break;default:throw Error(s(161))}}catch(Y){ne(i,i.return,Y)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function Mw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var n=i;Mw(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),i=i.sibling}}function Za(i,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ww(i,n.alternate,n),n=n.sibling}function po(i){for(i=i.child;i!==null;){var n=i;switch(n.tag){case 0:case 11:case 14:case 15:Qa(4,n,n.return),po(n);break;case 1:gn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&bw(n,n.return,o),po(n);break;case 27:Fh(n.stateNode);case 26:case 5:gn(n,n.return),po(n);break;case 22:n.memoizedState===null&&po(n);break;case 30:po(n);break;default:po(n)}i=i.sibling}}function Ja(i,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var h=n.alternate,m=i,y=n,w=y.flags;switch(y.tag){case 0:case 11:case 15:Ja(m,y,o),Rh(4,y);break;case 1:if(Ja(m,y,o),h=y,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(H){ne(h,h.return,H)}if(h=y,m=h.updateQueue,m!==null){var C=h.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)s1(O[m],C)}catch(H){ne(h,h.return,H)}}o&&w&64&&yw(y),Dh(y,y.return);break;case 27:xw(y);case 26:case 5:Ja(m,y,o),o&&h===null&&w&4&&vw(y),Dh(y,y.return);break;case 12:Ja(m,y,o);break;case 13:Ja(m,y,o),o&&w&4&&_w(m,y);break;case 22:y.memoizedState===null&&Ja(m,y,o),Dh(y,y.return);break;case 30:break;default:Ja(m,y,o)}n=n.sibling}}function X0(i,n){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&mh(o))}function Y0(i,n){i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&mh(i))}function yn(i,n,o,h){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rw(i,n,o,h),n=n.sibling}function Rw(i,n,o,h){var m=n.flags;switch(n.tag){case 0:case 11:case 15:yn(i,n,o,h),m&2048&&Rh(9,n);break;case 1:yn(i,n,o,h);break;case 3:yn(i,n,o,h),m&2048&&(i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&mh(i)));break;case 12:if(m&2048){yn(i,n,o,h),i=n.stateNode;try{var y=n.memoizedProps,w=y.id,C=y.onPostCommit;typeof C=="function"&&C(w,n.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){ne(n,n.return,O)}}else yn(i,n,o,h);break;case 13:yn(i,n,o,h);break;case 23:break;case 22:y=n.stateNode,w=n.alternate,n.memoizedState!==null?y._visibility&2?yn(i,n,o,h):Nh(i,n):y._visibility&2?yn(i,n,o,h):(y._visibility|=2,cc(i,n,o,h,(n.subtreeFlags&10256)!==0)),m&2048&&X0(w,n);break;case 24:yn(i,n,o,h),m&2048&&Y0(n.alternate,n);break;default:yn(i,n,o,h)}}function cc(i,n,o,h,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=i,w=n,C=o,O=h,H=w.flags;switch(w.tag){case 0:case 11:case 15:cc(y,w,C,O,m),Rh(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?cc(y,w,C,O,m):Nh(y,w):(Y._visibility|=2,cc(y,w,C,O,m)),m&&H&2048&&X0(w.alternate,w);break;case 24:cc(y,w,C,O,m),m&&H&2048&&Y0(w.alternate,w);break;default:cc(y,w,C,O,m)}n=n.sibling}}function Nh(i,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=i,h=n,m=h.flags;switch(h.tag){case 22:Nh(o,h),m&2048&&X0(h.alternate,h);break;case 24:Nh(o,h),m&2048&&Y0(h.alternate,h);break;default:Nh(o,h)}n=n.sibling}}var Lh=8192;function uc(i){if(i.subtreeFlags&Lh)for(i=i.child;i!==null;)Dw(i),i=i.sibling}function Dw(i){switch(i.tag){case 26:uc(i),i.flags&Lh&&i.memoizedState!==null&&IN(Gs,i.memoizedState,i.memoizedProps);break;case 5:uc(i);break;case 3:case 4:var n=Gs;Gs=xm(i.stateNode.containerInfo),uc(i),Gs=n;break;case 22:i.memoizedState===null&&(n=i.alternate,n!==null&&n.memoizedState!==null?(n=Lh,Lh=16777216,uc(i),Lh=n):uc(i));break;default:uc(i)}}function Nw(i){var n=i.alternate;if(n!==null&&(i=n.child,i!==null)){n.child=null;do n=i.sibling,i.sibling=null,i=n;while(i!==null)}}function Oh(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var h=n[o];Ge=h,Ow(h,i)}Nw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Lw(i),i=i.sibling}function Lw(i){switch(i.tag){case 0:case 11:case 15:Oh(i),i.flags&2048&&Qa(9,i,i.return);break;case 3:Oh(i);break;case 12:Oh(i);break;case 22:var n=i.stateNode;i.memoizedState!==null&&n._visibility&2&&(i.return===null||i.return.tag!==13)?(n._visibility&=-3,cm(i)):Oh(i);break;default:Oh(i)}}function cm(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var h=n[o];Ge=h,Ow(h,i)}Nw(i)}for(i=i.child;i!==null;){switch(n=i,n.tag){case 0:case 11:case 15:Qa(8,n,n.return),cm(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,cm(n));break;default:cm(n)}i=i.sibling}}function Ow(i,n){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:Qa(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:mh(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,Ge=h;else t:for(o=i;Ge!==null;){h=Ge;var m=h.sibling,y=h.return;if(Ew(h),h===o){Ge=null;break t}if(m!==null){m.return=y,Ge=m;break t}Ge=y}}}var J2={getCacheForType:function(i){var n=ui(Pe),o=n.data.get(i);return o===void 0&&(o=i(),n.data.set(i,o)),o}},tN=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,jt=null,Ft=0,$t=0,Ji=null,tr=!1,hc=!1,K0=!1,sa=0,Ae=0,er=0,mo=0,$0=0,_s=0,dc=0,kh=null,Ii=null,W0=!1,Q0=0,um=1/0,hm=null,ir=null,ti=0,sr=null,fc=null,pc=0,Z0=0,J0=null,kw=null,Ph=0,tb=null;function ts(){if((Kt&2)!==0&&Ft!==0)return Ft&-Ft;if(B.T!==null){var i=ec;return i!==0?i:ob()}return Wx()}function Pw(){_s===0&&(_s=(Ft&536870912)===0||Xt?Xx():536870912);var i=Ts.current;return i!==null&&(i.flags|=32),_s}function es(i,n,o){(i===re&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(mc(i,0),nr(i,Ft,_s,!1)),Ju(i,o),((Kt&2)===0||i!==re)&&(i===re&&((Kt&2)===0&&(mo|=o),Ae===4&&nr(i,Ft,_s,!1)),bn(i))}function jw(i,n,o){if((Kt&6)!==0)throw Error(s(327));var h=!o&&(n&124)===0&&(n&i.expiredLanes)===0||Zu(i,n),m=h?sN(i,n):sb(i,n,!0),y=h;do{if(m===0){hc&&!h&&nr(i,n,0,!1);break}else{if(o=i.current.alternate,y&&!eN(o)){m=sb(i,n,!1),y=!1;continue}if(m===2){if(y=n,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;t:{var C=i;m=kh;var O=C.current.memoizedState.isDehydrated;if(O&&(mc(C,w).flags|=256),w=sb(C,w,!1),w!==2){if(K0&&!O){C.errorRecoveryDisabledLanes|=y,mo|=y,m=4;break t}y=Ii,Ii=m,y!==null&&(Ii===null?Ii=y:Ii.push.apply(Ii,y))}m=w}if(y=!1,m!==2)continue}}if(m===1){mc(i,0),nr(i,n,0,!0);break}t:{switch(h=i,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:nr(h,n,_s,!tr);break t;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=Q0+300-fn(),10<m)){if(nr(h,n,_s,!tr),Sp(h,0,!0)!==0)break t;h.timeoutHandle=hE(Iw.bind(null,h,o,Ii,hm,W0,n,_s,mo,dc,tr,y,2,-0,0),m);break t}Iw(h,o,Ii,hm,W0,n,_s,mo,dc,tr,y,0,-0,0)}}break}while(!0);bn(i)}function Iw(i,n,o,h,m,y,w,C,O,H,Y,Q,V,G){if(i.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Vh={stylesheets:null,count:0,unsuspend:jN},Dw(n),Q=BN(),Q!==null)){i.cancelPendingCommit=Q(Gw.bind(null,i,n,y,o,h,m,w,C,O,Y,1,V,G)),nr(i,y,w,!H);return}Gw(i,n,y,o,h,m,w,C,O)}function eN(i){for(var n=i;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var m=o[h],y=m.getSnapshot;m=m.value;try{if(!$i(y(),m))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(i,n,o,h){n&=~$0,n&=~mo,i.suspendedLanes|=n,i.pingedLanes&=~n,h&&(i.warmLanes|=n),h=i.expirationTimes;for(var m=n;0<m;){var y=31-Ki(m),w=1<<y;h[y]=-1,m&=~w}o!==0&&Kx(i,o,n)}function dm(){return(Kt&6)===0?(jh(0),!1):!0}function eb(){if(jt!==null){if($t===0)var i=jt.return;else i=jt,$n=lo=null,b0(i),oc=null,_h=0,i=jt;for(;i!==null;)gw(i.alternate,i),i=i.return;jt=null}}function mc(i,n){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,vN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),eb(),re=i,jt=o=Xn(i.current,null),Ft=n,$t=0,Ji=null,tr=!1,hc=Zu(i,n),K0=!1,dc=_s=$0=mo=er=Ae=0,Ii=kh=null,W0=!1,(n&8)!==0&&(n|=n&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=n;0<h;){var m=31-Ki(h),y=1<<m;n|=i[m],h&=~y}return sa=n,kp(),o}function Bw(i,n){Dt=null,B.H=Jp,n===yh||n===Up?(n=e1(),$t=3):n===ZS?(n=e1(),$t=4):$t=n===iw?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ji=n,jt===null&&(Ae=1,nm(i,xs(n,i.current)))}function Fw(){var i=B.H;return B.H=Jp,i===null?Jp:i}function zw(){var i=B.A;return B.A=J2,i}function ib(){Ae=4,tr||(Ft&4194048)!==Ft&&Ts.current!==null||(hc=!0),(er&134217727)===0&&(mo&134217727)===0||re===null||nr(re,Ft,_s,!1)}function sb(i,n,o){var h=Kt;Kt|=2;var m=Fw(),y=zw();(re!==i||Ft!==n)&&(hm=null,mc(i,n)),n=!1;var w=Ae;t:do try{if($t!==0&&jt!==null){var C=jt,O=Ji;switch($t){case 8:eb(),w=6;break t;case 3:case 2:case 9:case 6:Ts.current===null&&(n=!0);var H=$t;if($t=0,Ji=null,gc(i,C,O,H),o&&hc){w=0;break t}break;default:H=$t,$t=0,Ji=null,gc(i,C,O,H)}}iN(),w=Ae;break}catch(Y){Bw(i,Y)}while(!0);return n&&i.shellSuspendCounter++,$n=lo=null,Kt=h,B.H=m,B.A=y,jt===null&&(re=null,Ft=0,kp()),w}function iN(){for(;jt!==null;)Hw(jt)}function sN(i,n){var o=Kt;Kt|=2;var h=Fw(),m=zw();re!==i||Ft!==n?(hm=null,um=fn()+500,mc(i,n)):hc=Zu(i,n);t:do try{if($t!==0&&jt!==null){n=jt;var y=Ji;e:switch($t){case 1:$t=0,Ji=null,gc(i,n,y,1);break;case 2:case 9:if(JS(y)){$t=0,Ji=null,Vw(n);break}n=function(){$t!==2&&$t!==9||re!==i||($t=7),bn(i)},y.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:JS(y)?($t=0,Ji=null,Vw(n)):($t=0,Ji=null,gc(i,n,y,7));break;case 5:var w=null;switch(jt.tag){case 26:w=jt.memoizedState;case 5:case 27:var C=jt;if(!w||wE(w)){$t=0,Ji=null;var O=C.sibling;if(O!==null)jt=O;else{var H=C.return;H!==null?(jt=H,fm(H)):jt=null}break e}}$t=0,Ji=null,gc(i,n,y,5);break;case 6:$t=0,Ji=null,gc(i,n,y,6);break;case 8:eb(),Ae=6;break t;default:throw Error(s(462))}}nN();break}catch(Y){Bw(i,Y)}while(!0);return $n=lo=null,B.H=h,B.A=m,Kt=o,jt!==null?0:(re=null,Ft=0,kp(),Ae)}function nN(){for(;jt!==null&&!_D();)Hw(jt)}function Hw(i){var n=pw(i.alternate,i,sa);i.memoizedProps=i.pendingProps,n===null?fm(i):jt=n}function Vw(i){var n=i,o=n.alternate;switch(n.tag){case 15:case 0:n=lw(o,n,n.pendingProps,n.type,void 0,Ft);break;case 11:n=lw(o,n,n.pendingProps,n.type.render,n.ref,Ft);break;case 5:b0(n);default:gw(o,n),n=jt=US(n,sa),n=pw(o,n,sa)}i.memoizedProps=i.pendingProps,n===null?fm(i):jt=n}function gc(i,n,o,h){$n=lo=null,b0(n),oc=null,_h=0;var m=n.return;try{if(Y2(i,m,n,o,Ft)){Ae=1,nm(i,xs(o,i.current)),jt=null;return}}catch(y){if(m!==null)throw jt=m,y;Ae=1,nm(i,xs(o,i.current)),jt=null;return}n.flags&32768?(Xt||h===1?i=!0:hc||(Ft&536870912)!==0?i=!1:(tr=i=!0,(h===2||h===9||h===3||h===6)&&(h=Ts.current,h!==null&&h.tag===13&&(h.flags|=16384))),Uw(n,i)):fm(n)}function fm(i){var n=i;do{if((n.flags&32768)!==0){Uw(n,tr);return}i=n.return;var o=$2(n.alternate,n,sa);if(o!==null){jt=o;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=i}while(n!==null);Ae===0&&(Ae=5)}function Uw(i,n){do{var o=W2(i.alternate,i);if(o!==null){o.flags&=32767,jt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(i=i.sibling,i!==null)){jt=i;return}jt=i=o}while(i!==null);Ae=6,jt=null}function Gw(i,n,o,h,m,y,w,C,O){i.cancelPendingCommit=null;do pm();while(ti!==0);if((Kt&6)!==0)throw Error(s(327));if(n!==null){if(n===i.current)throw Error(s(177));if(y=n.lanes|n.childLanes,y|=Yy,jD(i,o,y,w,C,O),i===re&&(jt=re=null,Ft=0),fc=n,sr=i,pc=o,Z0=y,J0=m,kw=h,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lN(vp,function(){return $w(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,m=X.p,X.p=2,w=Kt,Kt|=4;try{Q2(i,n,o)}finally{Kt=w,X.p=m,B.T=h}}ti=1,qw(),Xw(),Yw()}}function qw(){if(ti===1){ti=0;var i=sr,n=fc,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var h=X.p;X.p=2;var m=Kt;Kt|=4;try{Cw(n,i);var y=mb,w=OS(i.containerInfo),C=y.focusedElem,O=y.selectionRange;if(w!==C&&C&&C.ownerDocument&&LS(C.ownerDocument.documentElement,C)){if(O!==null&&Vy(C)){var H=O.start,Y=O.end;if(Y===void 0&&(Y=H),"selectionStart"in C)C.selectionStart=H,C.selectionEnd=Math.min(Y,C.value.length);else{var Q=C.ownerDocument||document,V=Q&&Q.defaultView||window;if(V.getSelection){var G=V.getSelection(),vt=C.textContent.length,mt=Math.min(O.start,vt),ee=O.end===void 0?mt:Math.min(O.end,vt);!G.extend&&mt>ee&&(w=ee,ee=mt,mt=w);var F=NS(C,mt),I=NS(C,ee);if(F&&I&&(G.rangeCount!==1||G.anchorNode!==F.node||G.anchorOffset!==F.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var z=Q.createRange();z.setStart(F.node,F.offset),G.removeAllRanges(),mt>ee?(G.addRange(z),G.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),G.addRange(z))}}}}for(Q=[],G=C;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Q.length;C++){var K=Q[C];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}_m=!!pb,mb=pb=null}finally{Kt=m,X.p=h,B.T=o}}i.current=n,ti=2}}function Xw(){if(ti===2){ti=0;var i=sr,n=fc,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var h=X.p;X.p=2;var m=Kt;Kt|=4;try{ww(i,n.alternate,n)}finally{Kt=m,X.p=h,B.T=o}}ti=3}}function Yw(){if(ti===4||ti===3){ti=0,CD();var i=sr,n=fc,o=pc,h=kw;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ti=5:(ti=0,fc=sr=null,Kw(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(ir=null),xy(o),n=n.stateNode,Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(Qu,n,void 0,(n.current.flags&128)===128)}catch{}if(h!==null){n=B.T,m=X.p,X.p=2,B.T=null;try{for(var y=i.onRecoverableError,w=0;w<h.length;w++){var C=h[w];y(C.value,{componentStack:C.stack})}}finally{B.T=n,X.p=m}}(pc&3)!==0&&pm(),bn(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===tb?Ph++:(Ph=0,tb=i):Ph=0,jh(0)}}function Kw(i,n){(i.pooledCacheLanes&=n)===0&&(n=i.pooledCache,n!=null&&(i.pooledCache=null,mh(n)))}function pm(i){return qw(),Xw(),Yw(),$w()}function $w(){if(ti!==5)return!1;var i=sr,n=Z0;Z0=0;var o=xy(pc),h=B.T,m=X.p;try{X.p=32>o?32:o,B.T=null,o=J0,J0=null;var y=sr,w=pc;if(ti=0,fc=sr=null,pc=0,(Kt&6)!==0)throw Error(s(331));var C=Kt;if(Kt|=4,Lw(y.current),Rw(y,y.current,w,o),Kt=C,jh(0,!1),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(Qu,y)}catch{}return!0}finally{X.p=m,B.T=h,Kw(i,n)}}function Ww(i,n,o){n=xs(o,n),n=L0(i.stateNode,n,2),i=Ya(i,n,2),i!==null&&(Ju(i,2),bn(i))}function ne(i,n,o){if(i.tag===3)Ww(i,i,o);else for(;n!==null;){if(n.tag===3){Ww(n,i,o);break}else if(n.tag===1){var h=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ir===null||!ir.has(h))){i=xs(o,i),o=tw(2),h=Ya(n,o,2),h!==null&&(ew(o,h,n,i),Ju(h,2),bn(h));break}}n=n.return}}function nb(i,n,o){var h=i.pingCache;if(h===null){h=i.pingCache=new tN;var m=new Set;h.set(n,m)}else m=h.get(n),m===void 0&&(m=new Set,h.set(n,m));m.has(o)||(K0=!0,m.add(o),i=aN.bind(null,i,n,o),n.then(i,i))}function aN(i,n,o){var h=i.pingCache;h!==null&&h.delete(n),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,re===i&&(Ft&o)===o&&(Ae===4||Ae===3&&(Ft&62914560)===Ft&&300>fn()-Q0?(Kt&2)===0&&mc(i,0):$0|=o,dc===Ft&&(dc=0)),bn(i)}function Qw(i,n){n===0&&(n=Yx()),i=Ql(i,n),i!==null&&(Ju(i,n),bn(i))}function rN(i){var n=i.memoizedState,o=0;n!==null&&(o=n.retryLane),Qw(i,o)}function oN(i,n){var o=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(n),Qw(i,o)}function lN(i,n){return yy(i,n)}var mm=null,yc=null,ab=!1,gm=!1,rb=!1,go=0;function bn(i){i!==yc&&i.next===null&&(yc===null?mm=yc=i:yc=yc.next=i),gm=!0,ab||(ab=!0,uN())}function jh(i,n){if(!rb&&gm){rb=!0;do for(var o=!1,h=mm;h!==null;){if(i!==0){var m=h.pendingLanes;if(m===0)var y=0;else{var w=h.suspendedLanes,C=h.pingedLanes;y=(1<<31-Ki(42|i)+1)-1,y&=m&~(w&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,eE(h,y))}else y=Ft,y=Sp(h,h===re?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Zu(h,y)||(o=!0,eE(h,y));h=h.next}while(o);rb=!1}}function cN(){Zw()}function Zw(){gm=ab=!1;var i=0;go!==0&&(bN()&&(i=go),go=0);for(var n=fn(),o=null,h=mm;h!==null;){var m=h.next,y=Jw(h,n);y===0?(h.next=null,o===null?mm=m:o.next=m,m===null&&(yc=o)):(o=h,(i!==0||(y&3)!==0)&&(gm=!0)),h=m}jh(i)}function Jw(i,n){for(var o=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Ki(y),C=1<<w,O=m[w];O===-1?((C&o)===0||(C&h)!==0)&&(m[w]=PD(C,n)):O<=n&&(i.expiredLanes|=C),y&=~C}if(n=re,o=Ft,o=Sp(i,i===n?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,o===0||i===n&&($t===2||$t===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&by(h),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Zu(i,o)){if(n=o&-o,n===i.callbackPriority)return n;switch(h!==null&&by(h),xy(o)){case 2:case 8:o=Gx;break;case 32:o=vp;break;case 268435456:o=qx;break;default:o=vp}return h=tE.bind(null,i),o=yy(o,h),i.callbackPriority=n,i.callbackNode=o,n}return h!==null&&h!==null&&by(h),i.callbackPriority=2,i.callbackNode=null,2}function tE(i,n){if(ti!==0&&ti!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(pm()&&i.callbackNode!==o)return null;var h=Ft;return h=Sp(i,i===re?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(jw(i,h,n),Jw(i,fn()),i.callbackNode!=null&&i.callbackNode===o?tE.bind(null,i):null)}function eE(i,n){if(pm())return null;jw(i,n,!0)}function uN(){AN(function(){(Kt&6)!==0?yy(Ux,cN):Zw()})}function ob(){return go===0&&(go=Xx()),go}function iE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Cp(""+i)}function sE(i,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,i.id&&o.setAttribute("form",i.id),n.parentNode.insertBefore(o,n),i=new FormData(i),o.parentNode.removeChild(o),i}function hN(i,n,o,h,m){if(n==="submit"&&o&&o.stateNode===m){var y=iE((m[Oi]||null).action),w=h.submitter;w&&(n=(n=w[Oi]||null)?iE(n.formAction):w.getAttribute("formAction"),n!==null&&(y=n,w=null));var C=new Np("action","action",null,h,m);i.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(go!==0){var O=w?sE(m,w):new FormData(m);C0(o,{pending:!0,data:O,method:m.method,action:y},null,O)}}else typeof y=="function"&&(C.preventDefault(),O=w?sE(m,w):new FormData(m),C0(o,{pending:!0,data:O,method:m.method,action:y},y,O))},currentTarget:m}]})}}for(var lb=0;lb<Xy.length;lb++){var cb=Xy[lb],dN=cb.toLowerCase(),fN=cb[0].toUpperCase()+cb.slice(1);Us(dN,"on"+fN)}Us(jS,"onAnimationEnd"),Us(IS,"onAnimationIteration"),Us(BS,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(D2,"onTransitionRun"),Us(N2,"onTransitionStart"),Us(L2,"onTransitionCancel"),Us(FS,"onTransitionEnd"),Hl("onMouseEnter",["mouseout","mouseover"]),Hl("onMouseLeave",["mouseout","mouseover"]),Hl("onPointerEnter",["pointerout","pointerover"]),Hl("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ih));function nE(i,n){n=(n&4)!==0;for(var o=0;o<i.length;o++){var h=i[o],m=h.event;h=h.listeners;t:{var y=void 0;if(n)for(var w=h.length-1;0<=w;w--){var C=h[w],O=C.instance,H=C.currentTarget;if(C=C.listener,O!==y&&m.isPropagationStopped())break t;y=C,m.currentTarget=H;try{y(m)}catch(Y){sm(Y)}m.currentTarget=null,y=O}else for(w=0;w<h.length;w++){if(C=h[w],O=C.instance,H=C.currentTarget,C=C.listener,O!==y&&m.isPropagationStopped())break t;y=C,m.currentTarget=H;try{y(m)}catch(Y){sm(Y)}m.currentTarget=null,y=O}}}}function It(i,n){var o=n[Sy];o===void 0&&(o=n[Sy]=new Set);var h=i+"__bubble";o.has(h)||(aE(n,i,2,!1),o.add(h))}function ub(i,n,o){var h=0;n&&(h|=4),aE(o,i,h,n)}var ym="_reactListening"+Math.random().toString(36).slice(2);function hb(i){if(!i[ym]){i[ym]=!0,Zx.forEach(function(o){o!=="selectionchange"&&(pN.has(o)||ub(o,!1,i),ub(o,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[ym]||(n[ym]=!0,ub("selectionchange",!1,n))}}function aE(i,n,o,h){switch(RE(n)){case 2:var m=HN;break;case 8:m=VN;break;default:m=Tb}o=m.bind(null,n,o,i),m=void 0,!Oy||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(n,o,{capture:!0,passive:m}):i.addEventListener(n,o,!0):m!==void 0?i.addEventListener(n,o,{passive:m}):i.addEventListener(n,o,!1)}function db(i,n,o,h,m){var y=h;if((n&1)===0&&(n&2)===0&&h!==null)t:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var C=h.stateNode.containerInfo;if(C===m)break;if(w===4)for(w=h.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;C!==null;){if(w=Bl(C),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){h=y=w;continue t}C=C.parentNode}}h=h.return}dS(function(){var H=y,Y=Ny(o),Q=[];t:{var V=zS.get(i);if(V!==void 0){var G=Np,vt=i;switch(i){case"keypress":if(Rp(o)===0)break t;case"keydown":case"keyup":G=l2;break;case"focusin":vt="focus",G=Iy;break;case"focusout":vt="blur",G=Iy;break;case"beforeblur":case"afterblur":G=Iy;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=mS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=WD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=h2;break;case jS:case IS:case BS:G=JD;break;case FS:G=f2;break;case"scroll":case"scrollend":G=KD;break;case"wheel":G=m2;break;case"copy":case"cut":case"paste":G=e2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=yS;break;case"toggle":case"beforetoggle":G=y2}var mt=(n&4)!==0,ee=!mt&&(i==="scroll"||i==="scrollend"),F=mt?V!==null?V+"Capture":null:V;mt=[];for(var I=H,z;I!==null;){var K=I;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||F===null||(K=ih(I,F),K!=null&&mt.push(Bh(I,K,z))),ee)break;I=I.return}0<mt.length&&(V=new G(V,vt,null,o,Y),Q.push({event:V,listeners:mt}))}}if((n&7)===0){t:{if(V=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",V&&o!==Dy&&(vt=o.relatedTarget||o.fromElement)&&(Bl(vt)||vt[Il]))break t;if((G||V)&&(V=Y.window===Y?Y:(V=Y.ownerDocument)?V.defaultView||V.parentWindow:window,G?(vt=o.relatedTarget||o.toElement,G=H,vt=vt?Bl(vt):null,vt!==null&&(ee=l(vt),mt=vt.tag,vt!==ee||mt!==5&&mt!==27&&mt!==6)&&(vt=null)):(G=null,vt=H),G!==vt)){if(mt=mS,K="onMouseLeave",F="onMouseEnter",I="mouse",(i==="pointerout"||i==="pointerover")&&(mt=yS,K="onPointerLeave",F="onPointerEnter",I="pointer"),ee=G==null?V:eh(G),z=vt==null?V:eh(vt),V=new mt(K,I+"leave",G,o,Y),V.target=ee,V.relatedTarget=z,K=null,Bl(Y)===H&&(mt=new mt(F,I+"enter",vt,o,Y),mt.target=z,mt.relatedTarget=ee,K=mt),ee=K,G&&vt)e:{for(mt=G,F=vt,I=0,z=mt;z;z=bc(z))I++;for(z=0,K=F;K;K=bc(K))z++;for(;0<I-z;)mt=bc(mt),I--;for(;0<z-I;)F=bc(F),z--;for(;I--;){if(mt===F||F!==null&&mt===F.alternate)break e;mt=bc(mt),F=bc(F)}mt=null}else mt=null;G!==null&&rE(Q,V,G,mt,!1),vt!==null&&ee!==null&&rE(Q,ee,vt,mt,!0)}}t:{if(V=H?eh(H):window,G=V.nodeName&&V.nodeName.toLowerCase(),G==="select"||G==="input"&&V.type==="file")var lt=TS;else if(wS(V))if(_S)lt=C2;else{lt=T2;var Ot=E2}else G=V.nodeName,!G||G.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?H&&Ry(H.elementType)&&(lt=TS):lt=_2;if(lt&&(lt=lt(i,H))){ES(Q,lt,o,Y);break t}Ot&&Ot(i,V,H),i==="focusout"&&H&&V.type==="number"&&H.memoizedProps.value!=null&&My(V,"number",V.value)}switch(Ot=H?eh(H):window,i){case"focusin":(wS(Ot)||Ot.contentEditable==="true")&&(Kl=Ot,Uy=H,uh=null);break;case"focusout":uh=Uy=Kl=null;break;case"mousedown":Gy=!0;break;case"contextmenu":case"mouseup":case"dragend":Gy=!1,kS(Q,o,Y);break;case"selectionchange":if(R2)break;case"keydown":case"keyup":kS(Q,o,Y)}var pt;if(Fy)t:{switch(i){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Yl?xS(i,o)&&(bt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(bt="onCompositionStart");bt&&(bS&&o.locale!=="ko"&&(Yl||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Yl&&(pt=fS()):(Ua=Y,ky="value"in Ua?Ua.value:Ua.textContent,Yl=!0)),Ot=bm(H,bt),0<Ot.length&&(bt=new gS(bt,i,null,o,Y),Q.push({event:bt,listeners:Ot}),pt?bt.data=pt:(pt=SS(o),pt!==null&&(bt.data=pt)))),(pt=v2?A2(i,o):x2(i,o))&&(bt=bm(H,"onBeforeInput"),0<bt.length&&(Ot=new gS("onBeforeInput","beforeinput",null,o,Y),Q.push({event:Ot,listeners:bt}),Ot.data=pt)),hN(Q,i,H,o,Y)}nE(Q,n)})}function Bh(i,n,o){return{instance:i,listener:n,currentTarget:o}}function bm(i,n){for(var o=n+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=ih(i,o),m!=null&&h.unshift(Bh(i,m,y)),m=ih(i,n),m!=null&&h.push(Bh(i,m,y))),i.tag===3)return h;i=i.return}return[]}function bc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function rE(i,n,o,h,m){for(var y=n._reactName,w=[];o!==null&&o!==h;){var C=o,O=C.alternate,H=C.stateNode;if(C=C.tag,O!==null&&O===h)break;C!==5&&C!==26&&C!==27||H===null||(O=H,m?(H=ih(o,y),H!=null&&w.unshift(Bh(o,H,O))):m||(H=ih(o,y),H!=null&&w.push(Bh(o,H,O)))),o=o.return}w.length!==0&&i.push({event:n,listeners:w})}var mN=/\r\n?/g,gN=/\u0000|\uFFFD/g;function oE(i){return(typeof i=="string"?i:""+i).replace(mN,`
`).replace(gN,"")}function lE(i,n){return n=oE(n),oE(i)===n}function vm(){}function te(i,n,o,h,m,y){switch(o){case"children":typeof h=="string"?n==="body"||n==="textarea"&&h===""||Gl(i,h):(typeof h=="number"||typeof h=="bigint")&&n!=="body"&&Gl(i,""+h);break;case"className":Ep(i,"class",h);break;case"tabIndex":Ep(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ep(i,o,h);break;case"style":uS(i,h,y);break;case"data":if(n!=="object"){Ep(i,"data",h);break}case"src":case"href":if(h===""&&(n!=="a"||o!=="href")){i.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(o);break}h=Cp(""+h),i.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(n!=="input"&&te(i,n,"name",m.name,m,null),te(i,n,"formEncType",m.formEncType,m,null),te(i,n,"formMethod",m.formMethod,m,null),te(i,n,"formTarget",m.formTarget,m,null)):(te(i,n,"encType",m.encType,m,null),te(i,n,"method",m.method,m,null),te(i,n,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(o);break}h=Cp(""+h),i.setAttribute(o,h);break;case"onClick":h!=null&&(i.onclick=vm);break;case"onScroll":h!=null&&It("scroll",i);break;case"onScrollEnd":h!=null&&It("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}o=Cp(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(o,""+h):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":h===!0?i.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(o,h):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(o,h):i.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(o):i.setAttribute(o,h);break;case"popover":It("beforetoggle",i),It("toggle",i),wp(i,"popover",h);break;case"xlinkActuate":Gn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Gn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Gn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Gn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Gn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Gn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":wp(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=XD.get(o)||o,wp(i,o,h))}}function fb(i,n,o,h,m,y){switch(o){case"style":uS(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof h=="string"?Gl(i,h):(typeof h=="number"||typeof h=="bigint")&&Gl(i,""+h);break;case"onScroll":h!=null&&It("scroll",i);break;case"onScrollEnd":h!=null&&It("scrollend",i);break;case"onClick":h!=null&&(i.onclick=vm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jx.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),n=o.slice(2,m?o.length-7:void 0),y=i[Oi]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(n,y,m),typeof h=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(n,h,m);break t}o in i?i[o]=h:h===!0?i.setAttribute(o,""):wp(i,o,h)}}}function ei(i,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",i),It("load",i);var h=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(i,n,y,w,o,null)}}m&&te(i,n,"srcSet",o.srcSet,o,null),h&&te(i,n,"src",o.src,o,null);return;case"input":It("invalid",i);var C=y=w=m=null,O=null,H=null;for(h in o)if(o.hasOwnProperty(h)){var Y=o[h];if(Y!=null)switch(h){case"name":m=Y;break;case"type":w=Y;break;case"checked":O=Y;break;case"defaultChecked":H=Y;break;case"value":y=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:te(i,n,h,Y,o,null)}}rS(i,y,C,O,H,w,m,!1),Tp(i);return;case"select":It("invalid",i),h=w=y=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":w=C;break;case"multiple":h=C;default:te(i,n,m,C,o,null)}n=y,o=w,i.multiple=!!h,n!=null?Ul(i,!!h,n,!1):o!=null&&Ul(i,!!h,o,!0);return;case"textarea":It("invalid",i),y=m=h=null;for(w in o)if(o.hasOwnProperty(w)&&(C=o[w],C!=null))switch(w){case"value":h=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:te(i,n,w,C,o,null)}lS(i,h,m,y),Tp(i);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(h=o[O],h!=null))switch(O){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:te(i,n,O,h,o,null)}return;case"dialog":It("beforetoggle",i),It("toggle",i),It("cancel",i),It("close",i);break;case"iframe":case"object":It("load",i);break;case"video":case"audio":for(h=0;h<Ih.length;h++)It(Ih[h],i);break;case"image":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"embed":case"source":case"link":It("error",i),It("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(h=o[H],h!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(i,n,H,h,o,null)}return;default:if(Ry(n)){for(Y in o)o.hasOwnProperty(Y)&&(h=o[Y],h!==void 0&&fb(i,n,Y,h,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(h=o[C],h!=null&&te(i,n,C,h,o,null))}function yN(i,n,o,h){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,w=null,C=null,O=null,H=null,Y=null;for(G in o){var Q=o[G];if(o.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=Q;default:h.hasOwnProperty(G)||te(i,n,G,null,h,Q)}}for(var V in h){var G=h[V];if(Q=o[V],h.hasOwnProperty(V)&&(G!=null||Q!=null))switch(V){case"type":y=G;break;case"name":m=G;break;case"checked":H=G;break;case"defaultChecked":Y=G;break;case"value":w=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==Q&&te(i,n,V,G,h,Q)}}Cy(i,w,C,O,H,Y,y,m);return;case"select":G=w=C=V=null;for(y in o)if(O=o[y],o.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":G=O;default:h.hasOwnProperty(y)||te(i,n,y,null,h,O)}for(m in h)if(y=h[m],O=o[m],h.hasOwnProperty(m)&&(y!=null||O!=null))switch(m){case"value":V=y;break;case"defaultValue":C=y;break;case"multiple":w=y;default:y!==O&&te(i,n,m,y,h,O)}n=C,o=w,h=G,V!=null?Ul(i,!!o,V,!1):!!h!=!!o&&(n!=null?Ul(i,!!o,n,!0):Ul(i,!!o,o?[]:"",!1));return;case"textarea":G=V=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:te(i,n,C,null,h,m)}for(w in h)if(m=h[w],y=o[w],h.hasOwnProperty(w)&&(m!=null||y!=null))switch(w){case"value":V=m;break;case"defaultValue":G=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&te(i,n,w,m,h,y)}oS(i,V,G);return;case"option":for(var vt in o)if(V=o[vt],o.hasOwnProperty(vt)&&V!=null&&!h.hasOwnProperty(vt))switch(vt){case"selected":i.selected=!1;break;default:te(i,n,vt,null,h,V)}for(O in h)if(V=h[O],G=o[O],h.hasOwnProperty(O)&&V!==G&&(V!=null||G!=null))switch(O){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:te(i,n,O,V,h,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in o)V=o[mt],o.hasOwnProperty(mt)&&V!=null&&!h.hasOwnProperty(mt)&&te(i,n,mt,null,h,V);for(H in h)if(V=h[H],G=o[H],h.hasOwnProperty(H)&&V!==G&&(V!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,n));break;default:te(i,n,H,V,h,G)}return;default:if(Ry(n)){for(var ee in o)V=o[ee],o.hasOwnProperty(ee)&&V!==void 0&&!h.hasOwnProperty(ee)&&fb(i,n,ee,void 0,h,V);for(Y in h)V=h[Y],G=o[Y],!h.hasOwnProperty(Y)||V===G||V===void 0&&G===void 0||fb(i,n,Y,V,h,G);return}}for(var F in o)V=o[F],o.hasOwnProperty(F)&&V!=null&&!h.hasOwnProperty(F)&&te(i,n,F,null,h,V);for(Q in h)V=h[Q],G=o[Q],!h.hasOwnProperty(Q)||V===G||V==null&&G==null||te(i,n,Q,V,h,G)}var pb=null,mb=null;function Am(i){return i.nodeType===9?i:i.ownerDocument}function cE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uE(i,n){if(i===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&n==="foreignObject"?0:i}function gb(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yb=null;function bN(){var i=window.event;return i&&i.type==="popstate"?i===yb?!1:(yb=i,!0):(yb=null,!1)}var hE=typeof setTimeout=="function"?setTimeout:void 0,vN=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,AN=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(i){return dE.resolve(null).then(i).catch(xN)}:hE;function xN(i){setTimeout(function(){throw i})}function ar(i){return i==="head"}function fE(i,n){var o=n,h=0,m=0;do{var y=o.nextSibling;if(i.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<h&&8>h){o=h;var w=i.ownerDocument;if(o&1&&Fh(w.documentElement),o&2&&Fh(w.body),o&4)for(o=w.head,Fh(o),w=o.firstChild;w;){var C=w.nextSibling,O=w.nodeName;w[th]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=C}}if(m===0){i.removeChild(y),Yh(n);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:h=o.charCodeAt(0)-48;else h=0;o=y}while(o);Yh(n)}function bb(i){var n=i.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bb(o),wy(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function SN(i,n,o,h){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==n.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[th])switch(n){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(n==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=qs(i.nextSibling),i===null)break}return null}function wN(i,n,o){if(n==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=qs(i.nextSibling),i===null))return null;return i}function vb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function EN(i,n){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")n();else{var h=function(){n(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function qs(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return i}var Ab=null;function pE(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return i;n--}else o==="/$"&&n++}i=i.previousSibling}return null}function mE(i,n,o){switch(n=Am(o),i){case"html":if(i=n.documentElement,!i)throw Error(s(452));return i;case"head":if(i=n.head,!i)throw Error(s(453));return i;case"body":if(i=n.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Fh(i){for(var n=i.attributes;n.length;)i.removeAttributeNode(n[0]);wy(i)}var Cs=new Map,gE=new Set;function xm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var na=X.d;X.d={f:TN,r:_N,D:CN,C:MN,L:RN,m:DN,X:LN,S:NN,M:ON};function TN(){var i=na.f(),n=dm();return i||n}function _N(i){var n=Fl(i);n!==null&&n.tag===5&&n.type==="form"?j1(n):na.r(i)}var vc=typeof document>"u"?null:document;function yE(i,n,o){var h=vc;if(h&&typeof n=="string"&&n){var m=As(n);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),gE.has(m)||(gE.add(m),i={rel:i,crossOrigin:o,href:n},h.querySelector(m)===null&&(n=h.createElement("link"),ei(n,"link",i),Ve(n),h.head.appendChild(n)))}}function CN(i){na.D(i),yE("dns-prefetch",i,null)}function MN(i,n){na.C(i,n),yE("preconnect",i,n)}function RN(i,n,o){na.L(i,n,o);var h=vc;if(h&&i&&n){var m='link[rel="preload"][as="'+As(n)+'"]';n==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+As(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+As(o.imageSizes)+'"]')):m+='[href="'+As(i)+'"]';var y=m;switch(n){case"style":y=Ac(i);break;case"script":y=xc(i)}Cs.has(y)||(i=g({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:i,as:n},o),Cs.set(y,i),h.querySelector(m)!==null||n==="style"&&h.querySelector(zh(y))||n==="script"&&h.querySelector(Hh(y))||(n=h.createElement("link"),ei(n,"link",i),Ve(n),h.head.appendChild(n)))}}function DN(i,n){na.m(i,n);var o=vc;if(o&&i){var h=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+As(h)+'"][href="'+As(i)+'"]',y=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=xc(i)}if(!Cs.has(y)&&(i=g({rel:"modulepreload",href:i},n),Cs.set(y,i),o.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hh(y)))return}h=o.createElement("link"),ei(h,"link",i),Ve(h),o.head.appendChild(h)}}}function NN(i,n,o){na.S(i,n,o);var h=vc;if(h&&i){var m=zl(h).hoistableStyles,y=Ac(i);n=n||"default";var w=m.get(y);if(!w){var C={loading:0,preload:null};if(w=h.querySelector(zh(y)))C.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":n},o),(o=Cs.get(y))&&xb(i,o);var O=w=h.createElement("link");Ve(O),ei(O,"link",i),O._p=new Promise(function(H,Y){O.onload=H,O.onerror=Y}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Sm(w,n,h)}w={type:"stylesheet",instance:w,count:1,state:C},m.set(y,w)}}}function LN(i,n){na.X(i,n);var o=vc;if(o&&i){var h=zl(o).hoistableScripts,m=xc(i),y=h.get(m);y||(y=o.querySelector(Hh(m)),y||(i=g({src:i,async:!0},n),(n=Cs.get(m))&&Sb(i,n),y=o.createElement("script"),Ve(y),ei(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function ON(i,n){na.M(i,n);var o=vc;if(o&&i){var h=zl(o).hoistableScripts,m=xc(i),y=h.get(m);y||(y=o.querySelector(Hh(m)),y||(i=g({src:i,async:!0,type:"module"},n),(n=Cs.get(m))&&Sb(i,n),y=o.createElement("script"),Ve(y),ei(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function bE(i,n,o,h){var m=(m=ct.current)?xm(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Ac(o.href),o=zl(m).hoistableStyles,h=o.get(n),h||(h={type:"style",instance:null,count:0,state:null},o.set(n,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ac(o.href);var y=zl(m).hoistableStyles,w=y.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=m.querySelector(zh(i)))&&!y._p&&(w.instance=y,w.state.loading=5),Cs.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Cs.set(i,o),y||kN(m,i,o,w.state))),n&&h===null)throw Error(s(528,""));return w}if(n&&h!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xc(o),o=zl(m).hoistableScripts,h=o.get(n),h||(h={type:"script",instance:null,count:0,state:null},o.set(n,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ac(i){return'href="'+As(i)+'"'}function zh(i){return'link[rel="stylesheet"]['+i+"]"}function vE(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function kN(i,n,o,h){i.querySelector('link[rel="preload"][as="style"]['+n+"]")?h.loading=1:(n=i.createElement("link"),h.preload=n,n.addEventListener("load",function(){return h.loading|=1}),n.addEventListener("error",function(){return h.loading|=2}),ei(n,"link",o),Ve(n),i.head.appendChild(n))}function xc(i){return'[src="'+As(i)+'"]'}function Hh(i){return"script[async]"+i}function AE(i,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var h=i.querySelector('style[data-href~="'+As(o.href)+'"]');if(h)return n.instance=h,Ve(h),h;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ve(h),ei(h,"style",m),Sm(h,o.precedence,i),n.instance=h;case"stylesheet":m=Ac(o.href);var y=i.querySelector(zh(m));if(y)return n.state.loading|=4,n.instance=y,Ve(y),y;h=vE(o),(m=Cs.get(m))&&xb(h,m),y=(i.ownerDocument||i).createElement("link"),Ve(y);var w=y;return w._p=new Promise(function(C,O){w.onload=C,w.onerror=O}),ei(y,"link",h),n.state.loading|=4,Sm(y,o.precedence,i),n.instance=y;case"script":return y=xc(o.src),(m=i.querySelector(Hh(y)))?(n.instance=m,Ve(m),m):(h=o,(m=Cs.get(y))&&(h=g({},o),Sb(h,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ve(m),ei(m,"link",h),i.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(h=n.instance,n.state.loading|=4,Sm(h,o.precedence,i));return n.instance}function Sm(i,n,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,y=m,w=0;w<h.length;w++){var C=h[w];if(C.dataset.precedence===n)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(i,n.firstChild))}function xb(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.title==null&&(i.title=n.title)}function Sb(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.integrity==null&&(i.integrity=n.integrity)}var wm=null;function xE(i,n,o){if(wm===null){var h=new Map,m=wm=new Map;m.set(o,h)}else m=wm,h=m.get(o),h||(h=new Map,m.set(o,h));if(h.has(i))return h;for(h.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[th]||y[ci]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(n)||"";w=i+w;var C=h.get(w);C?C.push(y):h.set(w,[y])}}return h}function SE(i,n,o){i=i.ownerDocument||i,i.head.insertBefore(o,n==="title"?i.querySelector("head > title"):null)}function PN(i,n,o){if(o===1||n.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return i=n.disabled,typeof n.precedence=="string"&&i==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Vh=null;function jN(){}function IN(i,n,o){if(Vh===null)throw Error(s(475));var h=Vh;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=Ac(o.href),y=i.querySelector(zh(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Em.bind(h),i.then(h,h)),n.state.loading|=4,n.instance=y,Ve(y);return}y=i.ownerDocument||i,o=vE(o),(m=Cs.get(m))&&xb(o,m),y=y.createElement("link"),Ve(y);var w=y;w._p=new Promise(function(C,O){w.onload=C,w.onerror=O}),ei(y,"link",o),n.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(n,i),(i=n.state.preload)&&(n.state.loading&3)===0&&(h.count++,n=Em.bind(h),i.addEventListener("load",n),i.addEventListener("error",n))}}function BN(){if(Vh===null)throw Error(s(475));var i=Vh;return i.stylesheets&&i.count===0&&wb(i,i.stylesheets),0<i.count?function(n){var o=setTimeout(function(){if(i.stylesheets&&wb(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=n,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Em(){if(this.count--,this.count===0){if(this.stylesheets)wb(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Tm=null;function wb(i,n){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Tm=new Map,n.forEach(FN,i),Tm=null,Em.call(i))}function FN(i,n){if(!(n.state.loading&4)){var o=Tm.get(i);if(o)var h=o.get(null);else{o=new Map,Tm.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var w=m[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),h=w)}h&&o.set(null,h)}m=n.instance,w=m.getAttribute("data-precedence"),y=o.get(w)||h,y===h&&o.set(null,m),o.set(w,m),this.count++,h=Em.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),n.state.loading|=4}}var Uh={$$typeof:N,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function zN(i,n,o,h,m,y,w,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vy(0),this.hiddenUpdates=vy(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function EE(i,n,o,h,m,y,w,C,O,H,Y,Q){return i=new zN(i,n,o,w,C,O,H,Q),n=1,y===!0&&(n|=24),y=Wi(3,null,null,n),i.current=y,y.stateNode=i,n=n0(),n.refCount++,i.pooledCache=n,n.refCount++,y.memoizedState={element:h,isDehydrated:o,cache:n},l0(y),i}function TE(i){return i?(i=Zl,i):Zl}function _E(i,n,o,h,m,y){m=TE(m),h.context===null?h.context=m:h.pendingContext=m,h=Xa(n),h.payload={element:o},y=y===void 0?null:y,y!==null&&(h.callback=y),o=Ya(i,h,n),o!==null&&(es(o,i,n),vh(o,i,n))}function CE(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<n?o:n}}function Eb(i,n){CE(i,n),(i=i.alternate)&&CE(i,n)}function ME(i){if(i.tag===13){var n=Ql(i,67108864);n!==null&&es(n,i,67108864),Eb(i,67108864)}}var _m=!0;function HN(i,n,o,h){var m=B.T;B.T=null;var y=X.p;try{X.p=2,Tb(i,n,o,h)}finally{X.p=y,B.T=m}}function VN(i,n,o,h){var m=B.T;B.T=null;var y=X.p;try{X.p=8,Tb(i,n,o,h)}finally{X.p=y,B.T=m}}function Tb(i,n,o,h){if(_m){var m=_b(h);if(m===null)db(i,n,h,Cm,o),DE(i,h);else if(GN(m,i,n,o,h))h.stopPropagation();else if(DE(i,h),n&4&&-1<UN.indexOf(i)){for(;m!==null;){var y=Fl(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Zr(y.pendingLanes);if(w!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var O=1<<31-Ki(w);C.entanglements[1]|=O,w&=~O}bn(y),(Kt&6)===0&&(um=fn()+500,jh(0))}}break;case 13:C=Ql(y,2),C!==null&&es(C,y,2),dm(),Eb(y,2)}if(y=_b(h),y===null&&db(i,n,h,Cm,o),y===m)break;m=y}m!==null&&h.stopPropagation()}else db(i,n,h,null,o)}}function _b(i){return i=Ny(i),Cb(i)}var Cm=null;function Cb(i){if(Cm=null,i=Bl(i),i!==null){var n=l(i);if(n===null)i=null;else{var o=n.tag;if(o===13){if(i=c(n),i!==null)return i;i=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null)}}return Cm=i,null}function RE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(MD()){case Ux:return 2;case Gx:return 8;case vp:case RD:return 32;case qx:return 268435456;default:return 32}default:return 32}}var Mb=!1,rr=null,or=null,lr=null,Gh=new Map,qh=new Map,cr=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DE(i,n){switch(i){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Gh.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qh.delete(n.pointerId)}}function Xh(i,n,o,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:n,domEventName:o,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},n!==null&&(n=Fl(n),n!==null&&ME(n)),i):(i.eventSystemFlags|=h,n=i.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),i)}function GN(i,n,o,h,m){switch(n){case"focusin":return rr=Xh(rr,i,n,o,h,m),!0;case"dragenter":return or=Xh(or,i,n,o,h,m),!0;case"mouseover":return lr=Xh(lr,i,n,o,h,m),!0;case"pointerover":var y=m.pointerId;return Gh.set(y,Xh(Gh.get(y)||null,i,n,o,h,m)),!0;case"gotpointercapture":return y=m.pointerId,qh.set(y,Xh(qh.get(y)||null,i,n,o,h,m)),!0}return!1}function NE(i){var n=Bl(i.target);if(n!==null){var o=l(n);if(o!==null){if(n=o.tag,n===13){if(n=c(o),n!==null){i.blockedOn=n,ID(i.priority,function(){if(o.tag===13){var h=ts();h=Ay(h);var m=Ql(o,h);m!==null&&es(m,o,h),Eb(o,h)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mm(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var o=_b(i.nativeEvent);if(o===null){o=i.nativeEvent;var h=new o.constructor(o.type,o);Dy=h,o.target.dispatchEvent(h),Dy=null}else return n=Fl(o),n!==null&&ME(n),i.blockedOn=o,!1;n.shift()}return!0}function LE(i,n,o){Mm(i)&&o.delete(n)}function qN(){Mb=!1,rr!==null&&Mm(rr)&&(rr=null),or!==null&&Mm(or)&&(or=null),lr!==null&&Mm(lr)&&(lr=null),Gh.forEach(LE),qh.forEach(LE)}function Rm(i,n){i.blockedOn===n&&(i.blockedOn=null,Mb||(Mb=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,qN)))}var Dm=null;function OE(i){Dm!==i&&(Dm=i,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Dm===i&&(Dm=null);for(var n=0;n<i.length;n+=3){var o=i[n],h=i[n+1],m=i[n+2];if(typeof h!="function"){if(Cb(h||o)===null)continue;break}var y=Fl(o);y!==null&&(i.splice(n,3),n-=3,C0(y,{pending:!0,data:m,method:o.method,action:h},h,m))}}))}function Yh(i){function n(O){return Rm(O,i)}rr!==null&&Rm(rr,i),or!==null&&Rm(or,i),lr!==null&&Rm(lr,i),Gh.forEach(n),qh.forEach(n);for(var o=0;o<cr.length;o++){var h=cr[o];h.blockedOn===i&&(h.blockedOn=null)}for(;0<cr.length&&(o=cr[0],o.blockedOn===null);)NE(o),o.blockedOn===null&&cr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var m=o[h],y=o[h+1],w=m[Oi]||null;if(typeof y=="function")w||OE(o);else if(w){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,w=y[Oi]||null)C=w.formAction;else if(Cb(m)!==null)continue}else C=w.action;typeof C=="function"?o[h+1]=C:(o.splice(h,3),h-=3),OE(o)}}}function Rb(i){this._internalRoot=i}Nm.prototype.render=Rb.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,h=ts();_E(o,h,i,n,null,null)},Nm.prototype.unmount=Rb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;_E(i.current,2,null,i,null,null),dm(),n[Il]=null}};function Nm(i){this._internalRoot=i}Nm.prototype.unstable_scheduleHydration=function(i){if(i){var n=Wx();i={blockedOn:null,target:i,priority:n};for(var o=0;o<cr.length&&n!==0&&n<cr[o].priority;o++);cr.splice(o,0,i),o===0&&NE(i)}};var kE=t.version;if(kE!=="19.1.0")throw Error(s(527,kE,"19.1.0"));X.findDOMNode=function(i){var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=f(n),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var XN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lm.isDisabled&&Lm.supportsFiber)try{Qu=Lm.inject(XN),Yi=Lm}catch{}}return $h.createRoot=function(i,n){if(!r(i))throw Error(s(299));var o=!1,h="",m=W1,y=Q1,w=Z1,C=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks)),n=EE(i,1,!1,null,null,o,h,m,y,w,C,null),i[Il]=n.current,hb(i),new Rb(n)},$h.hydrateRoot=function(i,n,o){if(!r(i))throw Error(s(299));var h=!1,m="",y=W1,w=Q1,C=Z1,O=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),n=EE(i,1,!0,n,o??null,h,m,y,w,C,O,H),n.context=TE(null),o=n.current,h=ts(),h=Ay(h),m=Xa(h),m.callback=null,Ya(o,m,h),o=h,n.current.lanes=o,Ju(n,o),bn(n),i[Il]=n.current,hb(i),new Nm(n)},$h.version="19.1.0",$h}var qE;function rL(){if(qE)return Ob.exports;qE=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ob.exports=aL(),Ob.exports}var oL=rL();class up{constructor(t=0,e="Network Error"){this.status=t,this.text=e}}const lL=()=>{if(!(typeof localStorage>"u"))return{get:a=>Promise.resolve(localStorage.getItem(a)),set:(a,t)=>Promise.resolve(localStorage.setItem(a,t)),remove:a=>Promise.resolve(localStorage.removeItem(a))}},li={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:lL()},VA=a=>a?typeof a=="string"?{publicKey:a}:a.toString()==="[object Object]"?a:{}:{},cL=(a,t="https://api.emailjs.com")=>{if(!a)return;const e=VA(a);li.publicKey=e.publicKey,li.blockHeadless=e.blockHeadless,li.storageProvider=e.storageProvider,li.blockList=e.blockList,li.limitRate=e.limitRate,li.origin=e.origin||t},B_=async(a,t,e={})=>{const s=await fetch(li.origin+a,{method:"POST",headers:e,body:t}),r=await s.text(),l=new up(s.status,r);if(s.ok)return l;throw l},F_=(a,t,e)=>{if(!a||typeof a!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e||typeof e!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},uL=a=>{if(a&&a.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},z_=a=>a.webdriver||!a.languages||a.languages.length===0,H_=()=>new up(451,"Unavailable For Headless Browser"),hL=(a,t)=>{if(!Array.isArray(a))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},dL=a=>{var t;return!((t=a.list)!=null&&t.length)||!a.watchVariable},fL=(a,t)=>a instanceof FormData?a.get(t):a[t],V_=(a,t)=>{if(dL(a))return!1;hL(a.list,a.watchVariable);const e=fL(t,a.watchVariable);return typeof e!="string"?!1:a.list.includes(e)},U_=()=>new up(403,"Forbidden"),pL=(a,t)=>{if(typeof a!="number"||a<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},mL=async(a,t,e)=>{const s=Number(await e.get(a)||0);return t-Date.now()+s},G_=async(a,t,e)=>{if(!t.throttle||!e)return!1;pL(t.throttle,t.id);const s=t.id||a;return await mL(s,t.throttle,e)>0?!0:(await e.set(s,Date.now().toString()),!1)},q_=()=>new up(429,"Too Many Requests"),gL=async(a,t,e,s)=>{const r=VA(s),l=r.publicKey||li.publicKey,c=r.blockHeadless||li.blockHeadless,u=r.storageProvider||li.storageProvider,f={...li.blockList,...r.blockList},p={...li.limitRate,...r.limitRate};return c&&z_(navigator)?Promise.reject(H_()):(F_(l,a,t),uL(e),e&&V_(f,e)?Promise.reject(U_()):await G_(location.pathname,p,u)?Promise.reject(q_()):B_("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:a,template_id:t,template_params:e}),{"Content-type":"application/json"}))},yL=a=>{if(!a||a.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},bL=a=>typeof a=="string"?document.querySelector(a):a,vL=async(a,t,e,s)=>{const r=VA(s),l=r.publicKey||li.publicKey,c=r.blockHeadless||li.blockHeadless,u=li.storageProvider||r.storageProvider,f={...li.blockList,...r.blockList},p={...li.limitRate,...r.limitRate};if(c&&z_(navigator))return Promise.reject(H_());const g=bL(e);F_(l,a,t),yL(g);const b=new FormData(g);return V_(f,b)?Promise.reject(U_()):await G_(location.pathname,p,u)?Promise.reject(q_()):(b.append("lib_version","4.4.1"),b.append("service_id",a),b.append("template_id",t),b.append("user_id",l),B_("/api/v1.0/email/send-form",b))},XE={init:cL,send:gL,sendForm:vL,EmailJSResponseStatus:up},Om={SERVICE_ID:"service_28981m6",TEMPLATE_ID:"template_cj6b5ke",PUBLIC_KEY:"sii1O-iJWiwvvrO1-"};var av=new Map,km=new WeakMap,YE=0,AL=void 0;function xL(a){return a?(km.has(a)||(YE+=1,km.set(a,YE.toString())),km.get(a)):"0"}function SL(a){return Object.keys(a).sort().filter(t=>a[t]!==void 0).map(t=>`${t}_${t==="root"?xL(a.root):a[t]}`).toString()}function wL(a){const t=SL(a);let e=av.get(t);if(!e){const s=new Map;let r;const l=new IntersectionObserver(c=>{c.forEach(u=>{var f;const p=u.isIntersecting&&r.some(g=>u.intersectionRatio>=g);a.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=p),(f=s.get(u.target))==null||f.forEach(g=>{g(p,u)})})},a);r=l.thresholds||(Array.isArray(a.threshold)?a.threshold:[a.threshold||0]),e={id:t,observer:l,elements:s},av.set(t,e)}return e}function EL(a,t,e={},s=AL){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const f=a.getBoundingClientRect();return t(s,{isIntersecting:s,target:a,intersectionRatio:typeof e.threshold=="number"?e.threshold:0,time:0,boundingClientRect:f,intersectionRect:f,rootBounds:f}),()=>{}}const{id:r,observer:l,elements:c}=wL(e),u=c.get(a)||[];return c.has(a)||c.set(a,u),u.push(t),l.observe(a),function(){u.splice(u.indexOf(t),1),u.length===0&&(c.delete(a),l.unobserve(a)),c.size===0&&(l.disconnect(),av.delete(r))}}function UA({threshold:a,delay:t,trackVisibility:e,rootMargin:s,root:r,triggerOnce:l,skip:c,initialInView:u,fallbackInView:f,onChange:p}={}){var g;const[b,v]=J.useState(null),A=J.useRef(p),[S,E]=J.useState({inView:!!u,entry:void 0});A.current=p,J.useEffect(()=>{if(c||!b)return;let N;return N=EL(b,(j,P)=>{E({inView:j,entry:P}),A.current&&A.current(j,P),P.isIntersecting&&l&&N&&(N(),N=void 0)},{root:r,rootMargin:s,threshold:a,trackVisibility:e,delay:t},f),()=>{N&&N()}},[Array.isArray(a)?a.toString():a,b,r,s,l,c,e,f,t]);const D=(g=S.entry)==null?void 0:g.target,R=J.useRef(void 0);!b&&D&&!l&&!c&&R.current!==D&&(R.current=D,E({inView:!!u,entry:void 0}));const L=[v,S.inView,S.entry];return L.ref=L[0],L.inView=L[1],L.entry=L[2],L}const X_=J.createContext({});function ny(a){const t=J.useRef(null);return t.current===null&&(t.current=a()),t.current}const GA=typeof window<"u",qA=GA?J.useLayoutEffect:J.useEffect,XA=J.createContext(null);function YA(a,t){a.indexOf(t)===-1&&a.push(t)}function KA(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}const Vn=(a,t,e)=>e>t?t:e<a?a:e;let Cd=()=>{};const Ba={},Y_=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function K_(a){return typeof a=="object"&&a!==null}const $_=a=>/^0[^.\s]+$/u.test(a);function $A(a){let t;return()=>(t===void 0&&(t=a()),t)}const Xi=a=>a,TL=(a,t)=>e=>t(a(e)),hp=(...a)=>a.reduce(TL),Gu=(a,t,e)=>{const s=t-a;return s===0?1:(e-a)/s};class WA{constructor(){this.subscriptions=[]}add(t){return YA(this.subscriptions,t),()=>KA(this.subscriptions,t)}notify(t,e,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,s);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fn=a=>a*1e3,zn=a=>a/1e3;function QA(a,t){return t?a*(1e3/t):0}const W_=(a,t,e)=>(((1-3*e+3*t)*a+(3*e-6*t))*a+3*t)*a,_L=1e-7,CL=12;function ML(a,t,e,s,r){let l,c,u=0;do c=t+(e-t)/2,l=W_(c,s,r)-a,l>0?e=c:t=c;while(Math.abs(l)>_L&&++u<CL);return c}function dp(a,t,e,s){if(a===t&&e===s)return Xi;const r=l=>ML(l,0,1,a,e);return l=>l===0||l===1?l:W_(r(l),t,s)}const Q_=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,Z_=a=>t=>1-a(1-t),J_=dp(.33,1.53,.69,.99),ZA=Z_(J_),tC=Q_(ZA),eC=a=>(a*=2)<1?.5*ZA(a):.5*(2-Math.pow(2,-10*(a-1))),JA=a=>1-Math.sin(Math.acos(a)),iC=Z_(JA),sC=Q_(JA),RL=dp(.42,0,1,1),DL=dp(0,0,.58,1),nC=dp(.42,0,.58,1),NL=a=>Array.isArray(a)&&typeof a[0]!="number",aC=a=>Array.isArray(a)&&typeof a[0]=="number",LL={linear:Xi,easeIn:RL,easeInOut:nC,easeOut:DL,circIn:JA,circInOut:sC,circOut:iC,backIn:ZA,backInOut:tC,backOut:J_,anticipate:eC},OL=a=>typeof a=="string",KE=a=>{if(aC(a)){Cd(a.length===4);const[t,e,s,r]=a;return dp(t,e,s,r)}else if(OL(a))return LL[a];return a},Pm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function kL(a,t){let e=new Set,s=new Set,r=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(g){c.has(g)&&(p.schedule(g),a()),g(u)}const p={schedule:(g,b=!1,v=!1)=>{const S=v&&r?e:s;return b&&c.add(g),S.has(g)||S.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(u=g,r){l=!0;return}r=!0,[e,s]=[s,e],e.forEach(f),e.clear(),r=!1,l&&(l=!1,p.process(g))}};return p}const PL=40;function rC(a,t){let e=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=Pm.reduce((N,j)=>(N[j]=kL(l),N),{}),{setup:u,read:f,resolveKeyframes:p,preUpdate:g,update:b,preRender:v,render:A,postRender:S}=c,E=()=>{const N=Ba.useManualTiming?r.timestamp:performance.now();e=!1,Ba.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(N-r.timestamp,PL),1)),r.timestamp=N,r.isProcessing=!0,u.process(r),f.process(r),p.process(r),g.process(r),b.process(r),v.process(r),A.process(r),S.process(r),r.isProcessing=!1,e&&t&&(s=!1,a(E))},D=()=>{e=!0,s=!0,r.isProcessing||a(E)};return{schedule:Pm.reduce((N,j)=>{const P=c[j];return N[j]=(U,q=!1,$=!1)=>(e||D(),P.schedule(U,q,$)),N},{}),cancel:N=>{for(let j=0;j<Pm.length;j++)c[Pm[j]].cancel(N)},state:r,steps:c}}const{schedule:Zt,cancel:un,state:Ze,steps:Ib}=rC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xi,!0);let Gm;function jL(){Gm=void 0}const qi={now:()=>(Gm===void 0&&qi.set(Ze.isProcessing||Ba.useManualTiming?Ze.timestamp:performance.now()),Gm),set:a=>{Gm=a,queueMicrotask(jL)}},oC=a=>t=>typeof t=="string"&&t.startsWith(a),tx=oC("--"),IL=oC("var(--"),ex=a=>IL(a)?BL.test(a.split("/*")[0].trim()):!1,BL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yu={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},Md={...Yu,transform:a=>Vn(0,1,a)},jm={...Yu,default:1},vd=a=>Math.round(a*1e5)/1e5,ix=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FL(a){return a==null}const zL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sx=(a,t)=>e=>!!(typeof e=="string"&&zL.test(e)&&e.startsWith(a)||t&&!FL(e)&&Object.prototype.hasOwnProperty.call(e,t)),lC=(a,t,e)=>s=>{if(typeof s!="string")return s;const[r,l,c,u]=s.match(ix);return{[a]:parseFloat(r),[t]:parseFloat(l),[e]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},HL=a=>Vn(0,255,a),Bb={...Yu,transform:a=>Math.round(HL(a))},Eo={test:sx("rgb","red"),parse:lC("red","green","blue"),transform:({red:a,green:t,blue:e,alpha:s=1})=>"rgba("+Bb.transform(a)+", "+Bb.transform(t)+", "+Bb.transform(e)+", "+vd(Md.transform(s))+")"};function VL(a){let t="",e="",s="",r="";return a.length>5?(t=a.substring(1,3),e=a.substring(3,5),s=a.substring(5,7),r=a.substring(7,9)):(t=a.substring(1,2),e=a.substring(2,3),s=a.substring(3,4),r=a.substring(4,5),t+=t,e+=e,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const rv={test:sx("#"),parse:VL,transform:Eo.transform},fp=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),hr=fp("deg"),Hn=fp("%"),At=fp("px"),UL=fp("vh"),GL=fp("vw"),$E={...Hn,parse:a=>Hn.parse(a)/100,transform:a=>Hn.transform(a*100)},Rc={test:sx("hsl","hue"),parse:lC("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(a)+", "+Hn.transform(vd(t))+", "+Hn.transform(vd(e))+", "+vd(Md.transform(s))+")"},Le={test:a=>Eo.test(a)||rv.test(a)||Rc.test(a),parse:a=>Eo.test(a)?Eo.parse(a):Rc.test(a)?Rc.parse(a):rv.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Eo.transform(a):Rc.transform(a),getAnimatableNone:a=>{const t=Le.parse(a);return t.alpha=0,Le.transform(t)}},qL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XL(a){var t,e;return isNaN(a)&&typeof a=="string"&&(((t=a.match(ix))==null?void 0:t.length)||0)+(((e=a.match(qL))==null?void 0:e.length)||0)>0}const cC="number",uC="color",YL="var",KL="var(",WE="${}",$L=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rd(a){const t=a.toString(),e=[],s={color:[],number:[],var:[]},r=[];let l=0;const u=t.replace($L,f=>(Le.test(f)?(s.color.push(l),r.push(uC),e.push(Le.parse(f))):f.startsWith(KL)?(s.var.push(l),r.push(YL),e.push(f)):(s.number.push(l),r.push(cC),e.push(parseFloat(f))),++l,WE)).split(WE);return{values:e,split:u,indexes:s,types:r}}function hC(a){return Rd(a).values}function dC(a){const{split:t,types:e}=Rd(a),s=t.length;return r=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],r[c]!==void 0){const u=e[c];u===cC?l+=vd(r[c]):u===uC?l+=Le.transform(r[c]):l+=r[c]}return l}}const WL=a=>typeof a=="number"?0:Le.test(a)?Le.getAnimatableNone(a):a;function QL(a){const t=hC(a);return dC(a)(t.map(WL))}const Xr={test:XL,parse:hC,createTransformer:dC,getAnimatableNone:QL};function Fb(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+(t-a)*6*e:e<1/2?t:e<2/3?a+(t-a)*(2/3-e)*6:a}function ZL({hue:a,saturation:t,lightness:e,alpha:s}){a/=360,t/=100,e/=100;let r=0,l=0,c=0;if(!t)r=l=c=e;else{const u=e<.5?e*(1+t):e+t-e*t,f=2*e-u;r=Fb(f,u,a+1/3),l=Fb(f,u,a),c=Fb(f,u,a-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function _g(a,t){return e=>e>0?t:a}const ye=(a,t,e)=>a+(t-a)*e,zb=(a,t,e)=>{const s=a*a,r=e*(t*t-s)+s;return r<0?0:Math.sqrt(r)},JL=[rv,Eo,Rc],tO=a=>JL.find(t=>t.test(a));function QE(a){const t=tO(a);if(!t)return!1;let e=t.parse(a);return t===Rc&&(e=ZL(e)),e}const ZE=(a,t)=>{const e=QE(a),s=QE(t);if(!e||!s)return _g(a,t);const r={...e};return l=>(r.red=zb(e.red,s.red,l),r.green=zb(e.green,s.green,l),r.blue=zb(e.blue,s.blue,l),r.alpha=ye(e.alpha,s.alpha,l),Eo.transform(r))},ov=new Set(["none","hidden"]);function eO(a,t){return ov.has(a)?e=>e<=0?a:t:e=>e>=1?t:a}function iO(a,t){return e=>ye(a,t,e)}function nx(a){return typeof a=="number"?iO:typeof a=="string"?ex(a)?_g:Le.test(a)?ZE:aO:Array.isArray(a)?fC:typeof a=="object"?Le.test(a)?ZE:sO:_g}function fC(a,t){const e=[...a],s=e.length,r=a.map((l,c)=>nx(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)e[c]=r[c](l);return e}}function sO(a,t){const e={...a,...t},s={};for(const r in e)a[r]!==void 0&&t[r]!==void 0&&(s[r]=nx(a[r])(a[r],t[r]));return r=>{for(const l in s)e[l]=s[l](r);return e}}function nO(a,t){const e=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const l=t.types[r],c=a.indexes[l][s[l]],u=a.values[c]??0;e[r]=u,s[l]++}return e}const aO=(a,t)=>{const e=Xr.createTransformer(t),s=Rd(a),r=Rd(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?ov.has(a)&&!r.values.length||ov.has(t)&&!s.values.length?eO(a,t):hp(fC(nO(s,r),r.values),e):_g(a,t)};function pC(a,t,e){return typeof a=="number"&&typeof t=="number"&&typeof e=="number"?ye(a,t,e):nx(a)(a,t)}const rO=a=>{const t=({timestamp:e})=>a(e);return{start:(e=!0)=>Zt.update(t,e),stop:()=>un(t),now:()=>Ze.isProcessing?Ze.timestamp:qi.now()}},mC=(a,t,e=10)=>{let s="";const r=Math.max(Math.round(t/e),2);for(let l=0;l<r;l++)s+=Math.round(a(l/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Cg=2e4;function ax(a){let t=0;const e=50;let s=a.next(t);for(;!s.done&&t<Cg;)t+=e,s=a.next(t);return t>=Cg?1/0:t}function oO(a,t=100,e){const s=e({...a,keyframes:[0,t]}),r=Math.min(ax(s),Cg);return{type:"keyframes",ease:l=>s.next(r*l).value/t,duration:zn(r)}}const lO=5;function gC(a,t,e){const s=Math.max(t-lO,0);return QA(e-a(s),t-s)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hb=.001;function cO({duration:a=Se.duration,bounce:t=Se.bounce,velocity:e=Se.velocity,mass:s=Se.mass}){let r,l,c=1-t;c=Vn(Se.minDamping,Se.maxDamping,c),a=Vn(Se.minDuration,Se.maxDuration,zn(a)),c<1?(r=p=>{const g=p*c,b=g*a,v=g-e,A=lv(p,c),S=Math.exp(-b);return Hb-v/A*S},l=p=>{const b=p*c*a,v=b*e+e,A=Math.pow(c,2)*Math.pow(p,2)*a,S=Math.exp(-b),E=lv(Math.pow(p,2),c);return(-r(p)+Hb>0?-1:1)*((v-A)*S)/E}):(r=p=>{const g=Math.exp(-p*a),b=(p-e)*a+1;return-Hb+g*b},l=p=>{const g=Math.exp(-p*a),b=(e-p)*(a*a);return g*b});const u=5/a,f=hO(r,l,u);if(a=Fn(a),isNaN(f))return{stiffness:Se.stiffness,damping:Se.damping,duration:a};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:a}}}const uO=12;function hO(a,t,e){let s=e;for(let r=1;r<uO;r++)s=s-a(s)/t(s);return s}function lv(a,t){return a*Math.sqrt(1-t*t)}const dO=["duration","bounce"],fO=["stiffness","damping","mass"];function JE(a,t){return t.some(e=>a[e]!==void 0)}function pO(a){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...a};if(!JE(a,fO)&&JE(a,dO))if(a.visualDuration){const e=a.visualDuration,s=2*Math.PI/(e*1.2),r=s*s,l=2*Vn(.05,1,1-(a.bounce||0))*Math.sqrt(r);t={...t,mass:Se.mass,stiffness:r,damping:l}}else{const e=cO(a);t={...t,...e,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function Mg(a=Se.visualDuration,t=Se.bounce){const e=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:s,restDelta:r}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],u={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:b,velocity:v,isResolvedFromDuration:A}=pO({...e,velocity:-zn(e.velocity||0)}),S=v||0,E=p/(2*Math.sqrt(f*g)),D=c-l,R=zn(Math.sqrt(f/g)),L=Math.abs(D)<5;s||(s=L?Se.restSpeed.granular:Se.restSpeed.default),r||(r=L?Se.restDelta.granular:Se.restDelta.default);let N;if(E<1){const P=lv(R,E);N=U=>{const q=Math.exp(-E*R*U);return c-q*((S+E*R*D)/P*Math.sin(P*U)+D*Math.cos(P*U))}}else if(E===1)N=P=>c-Math.exp(-R*P)*(D+(S+R*D)*P);else{const P=R*Math.sqrt(E*E-1);N=U=>{const q=Math.exp(-E*R*U),$=Math.min(P*U,300);return c-q*((S+E*R*D)*Math.sinh($)+P*D*Math.cosh($))/P}}const j={calculatedDuration:A&&b||null,next:P=>{const U=N(P);if(A)u.done=P>=b;else{let q=P===0?S:0;E<1&&(q=P===0?Fn(S):gC(N,P,U));const $=Math.abs(q)<=s,tt=Math.abs(c-U)<=r;u.done=$&&tt}return u.value=u.done?c:U,u},toString:()=>{const P=Math.min(ax(j),Cg),U=mC(q=>j.next(P*q).value,P,30);return P+"ms "+U},toTransition:()=>{}};return j}Mg.applyToOptions=a=>{const t=oO(a,100,Mg);return a.ease=t.ease,a.duration=Fn(t.duration),a.type="keyframes",a};function cv({keyframes:a,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:f,restDelta:p=.5,restSpeed:g}){const b=a[0],v={done:!1,value:b},A=$=>u!==void 0&&$<u||f!==void 0&&$>f,S=$=>u===void 0?f:f===void 0||Math.abs(u-$)<Math.abs(f-$)?u:f;let E=e*t;const D=b+E,R=c===void 0?D:c(D);R!==D&&(E=R-b);const L=$=>-E*Math.exp(-$/s),N=$=>R+L($),j=$=>{const tt=L($),ft=N($);v.done=Math.abs(tt)<=p,v.value=v.done?R:ft};let P,U;const q=$=>{A(v.value)&&(P=$,U=Mg({keyframes:[v.value,S(v.value)],velocity:gC(N,$,v.value),damping:r,stiffness:l,restDelta:p,restSpeed:g}))};return q(0),{calculatedDuration:null,next:$=>{let tt=!1;return!U&&P===void 0&&(tt=!0,j($),q($)),P!==void 0&&$>=P?U.next($-P):(!tt&&j($),v)}}}function mO(a,t,e){const s=[],r=e||Ba.mix||pC,l=a.length-1;for(let c=0;c<l;c++){let u=r(a[c],a[c+1]);if(t){const f=Array.isArray(t)?t[c]||Xi:t;u=hp(f,u)}s.push(u)}return s}function rx(a,t,{clamp:e=!0,ease:s,mixer:r}={}){const l=a.length;if(Cd(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=a[0]===a[1];a[0]>a[l-1]&&(a=[...a].reverse(),t=[...t].reverse());const u=mO(t,s,r),f=u.length,p=g=>{if(c&&g<a[0])return t[0];let b=0;if(f>1)for(;b<a.length-2&&!(g<a[b+1]);b++);const v=Gu(a[b],a[b+1],g);return u[b](v)};return e?g=>p(Vn(a[0],a[l-1],g)):p}function gO(a,t){const e=a[a.length-1];for(let s=1;s<=t;s++){const r=Gu(0,t,s);a.push(ye(e,1,r))}}function yC(a){const t=[0];return gO(t,a.length-1),t}function yO(a,t){return a.map(e=>e*t)}function bO(a,t){return a.map(()=>t||nC).splice(0,a.length-1)}function Ad({duration:a=300,keyframes:t,times:e,ease:s="easeInOut"}){const r=NL(s)?s.map(KE):KE(s),l={done:!1,value:t[0]},c=yO(e&&e.length===t.length?e:yC(t),a),u=rx(c,t,{ease:Array.isArray(r)?r:bO(t,r)});return{calculatedDuration:a,next:f=>(l.value=u(f),l.done=f>=a,l)}}const vO=a=>a!==null;function ox(a,{repeat:t,repeatType:e="loop"},s,r=1){const l=a.filter(vO),u=r<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!u||s===void 0?l[u]:s}const AO={decay:cv,inertia:cv,tween:Ad,keyframes:Ad,spring:Mg};function bC(a){typeof a.type=="string"&&(a.type=AO[a.type])}class lx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const xO=a=>a/100;class cx extends lx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:e}=this.options;e&&e.updatedAt!==qi.now()&&this.tick(qi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bC(t);const{type:e=Ad,repeat:s=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=t;let{keyframes:u}=t;const f=e||Ad;f!==Ad&&typeof u[0]!="number"&&(this.mixKeyframes=hp(xO,pC(u[0],u[1])),u=[0,100]);const p=f({...t,keyframes:u});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...u].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=ax(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:g,repeat:b,repeatType:v,repeatDelay:A,type:S,onUpdate:E,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const R=this.currentTime-p*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?R<0:R>r;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,j=s;if(b){const $=Math.min(this.currentTime,r)/u;let tt=Math.floor($),ft=$%1;!ft&&$>=1&&(ft=1),ft===1&&tt--,tt=Math.min(tt,b+1),!!(tt%2)&&(v==="reverse"?(ft=1-ft,A&&(ft-=A/u)):v==="mirror"&&(j=c)),N=Vn(0,1,ft)*u}const P=L?{done:!1,value:g[0]}:j.next(N);l&&(P.value=l(P.value));let{done:U}=P;!L&&f!==null&&(U=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return q&&S!==cv&&(P.value=ox(g,this.options,D,this.speed)),E&&E(P.value),q&&this.finish(),P}then(t,e){return this.finished.then(t,e)}get duration(){return zn(this.calculatedDuration)}get time(){return zn(this.currentTime)}set time(t){var e;t=Fn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(qi.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=zn(this.currentTime))}play(){var r,l;if(this.isStopped)return;const{driver:t=rO,startTime:e}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(r=this.options).onPlay)==null||l.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function SO(a){for(let t=1;t<a.length;t++)a[t]??(a[t]=a[t-1])}const To=a=>a*180/Math.PI,uv=a=>{const t=To(Math.atan2(a[1],a[0]));return hv(t)},wO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:uv,rotateZ:uv,skewX:a=>To(Math.atan(a[1])),skewY:a=>To(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},hv=a=>(a=a%360,a<0&&(a+=360),a),tT=uv,eT=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),iT=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),EO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eT,scaleY:iT,scale:a=>(eT(a)+iT(a))/2,rotateX:a=>hv(To(Math.atan2(a[6],a[5]))),rotateY:a=>hv(To(Math.atan2(-a[2],a[0]))),rotateZ:tT,rotate:tT,skewX:a=>To(Math.atan(a[4])),skewY:a=>To(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function dv(a){return a.includes("scale")?1:0}function fv(a,t){if(!a||a==="none")return dv(t);const e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(e)s=EO,r=e;else{const u=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=wO,r=u}if(!r)return dv(t);const l=s[t],c=r[1].split(",").map(_O);return typeof l=="function"?l(c):c[l]}const TO=(a,t)=>{const{transform:e="none"}=getComputedStyle(a);return fv(e,t)};function _O(a){return parseFloat(a.trim())}const Ku=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$u=new Set(Ku),sT=a=>a===Yu||a===At,CO=new Set(["x","y","z"]),MO=Ku.filter(a=>!CO.has(a));function RO(a){const t=[];return MO.forEach(e=>{const s=a.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Dl={width:({x:a},{paddingLeft:t="0",paddingRight:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),height:({y:a},{paddingTop:t="0",paddingBottom:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:(a,{transform:t})=>fv(t,"x"),y:(a,{transform:t})=>fv(t,"y")};Dl.translateX=Dl.x;Dl.translateY=Dl.y;const Nl=new Set;let pv=!1,mv=!1,gv=!1;function vC(){if(mv){const a=Array.from(Nl).filter(s=>s.needsMeasurement),t=new Set(a.map(s=>s.element)),e=new Map;t.forEach(s=>{const r=RO(s);r.length&&(e.set(s,r),s.render())}),a.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=e.get(s);r&&r.forEach(([l,c])=>{var u;(u=s.getValue(l))==null||u.set(c)})}),a.forEach(s=>s.measureEndState()),a.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}mv=!1,pv=!1,Nl.forEach(a=>a.complete(gv)),Nl.clear()}function AC(){Nl.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(mv=!0)})}function DO(){gv=!0,AC(),vC(),gv=!1}class ux{constructor(t,e,s,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Nl.add(this),pv||(pv=!0,Zt.read(AC),Zt.resolveKeyframes(vC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:r}=this;if(t[0]===null){const l=r==null?void 0:r.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&e){const u=s.readValue(e,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),r&&l===void 0&&r.set(t[0])}SO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nl.delete(this)}cancel(){this.state==="scheduled"&&(Nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NO=a=>a.startsWith("--");function LO(a,t,e){NO(t)?a.style.setProperty(t,e):a.style[t]=e}const xC=$A(()=>window.ScrollTimeline!==void 0),OO={};function kO(a,t){const e=$A(a);return()=>OO[t]??e()}const SC=kO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),id=([a,t,e,s])=>`cubic-bezier(${a}, ${t}, ${e}, ${s})`,nT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:id([0,.65,.55,1]),circOut:id([.55,0,1,.45]),backIn:id([.31,.01,.66,-.59]),backOut:id([.33,1.53,.69,.99])};function wC(a,t){if(a)return typeof a=="function"?SC()?mC(a,t):"ease-out":aC(a)?id(a):Array.isArray(a)?a.map(e=>wC(e,t)||nT.easeOut):nT[a]}function PO(a,t,e,{delay:s=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:f}={},p=void 0){const g={[t]:e};f&&(g.offset=f);const b=wC(u,r);Array.isArray(b)&&(g.easing=b);const v={delay:s,duration:r,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),a.animate(g,v)}function EC(a){return typeof a=="function"&&"applyToOptions"in a}function jO({type:a,...t}){return EC(a)&&SC()?a.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class IO extends lx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Cd(typeof t.type!="string");const p=jO(t);this.animation=PO(e,s,r,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=ox(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):LO(e,s,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,s;const t=((s=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:s.call(e).duration)||0;return zn(Number(t))}get time(){return zn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Fn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&xC()?(this.animation.timeline=t,Xi):e(this)}}const TC={anticipate:eC,backInOut:tC,circInOut:sC};function BO(a){return a in TC}function FO(a){typeof a.ease=="string"&&BO(a.ease)&&(a.ease=TC[a.ease])}const aT=10;class zO extends IO{constructor(t){FO(t),bC(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:r,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new cx({...c,autoplay:!1}),f=Fn(this.finishedTime??this.time);e.setWithVelocity(u.sample(f-aT).value,u.sample(f).value,aT),u.stop()}}const rT=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Xr.test(a)||a==="0")&&!a.startsWith("url("));function HO(a){const t=a[0];if(a.length===1)return!0;for(let e=0;e<a.length;e++)if(a[e]!==t)return!0}function VO(a,t,e,s){const r=a[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const l=a[a.length-1],c=rT(r,t),u=rT(l,t);return!c||!u?!1:HO(a)||(e==="spring"||EC(e))&&s}function hx(a){return K_(a)&&"offsetHeight"in a}const UO=new Set(["opacity","clipPath","filter","transform"]),GO=$A(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qO(a){var p;const{motionValue:t,name:e,repeatDelay:s,repeatType:r,damping:l,type:c}=a;if(!hx((p=t==null?void 0:t.owner)==null?void 0:p.current))return!1;const{onUpdate:u,transformTemplate:f}=t.owner.getProps();return GO()&&e&&UO.has(e)&&(e!=="transform"||!f)&&!u&&!s&&r!=="mirror"&&l!==0&&c!=="inertia"}const XO=40;class YO extends lx{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:f,motionValue:p,element:g,...b}){var S;super(),this.stop=()=>{var E,D;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=qi.now();const v={autoplay:t,delay:e,type:s,repeat:r,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:g,...b},A=(g==null?void 0:g.KeyframeResolver)||ux;this.keyframeResolver=new A(u,(E,D,R)=>this.onKeyframesResolved(E,D,v,!R),f,p,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,e,s,r){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:f,isHandoff:p,onUpdate:g}=s;this.resolvedAt=qi.now(),VO(t,l,c,u)||((Ba.instantAnimations||!f)&&(g==null||g(ox(t,s,e))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>XO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},A=!p&&qO(v)?new zO({...v,element:v.motionValue.owner.current}):new cx(v);A.finished.then(()=>this.notifyFinished()).catch(Xi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),DO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const KO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $O(a){const t=KO.exec(a);if(!t)return[,];const[,e,s,r]=t;return[`--${e??s}`,r]}function _C(a,t,e=1){const[s,r]=$O(a);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Y_(c)?parseFloat(c):c}return ex(r)?_C(r,t,e+1):r}function dx(a,t){return(a==null?void 0:a[t])??(a==null?void 0:a.default)??a}const CC=new Set(["width","height","top","left","right","bottom",...Ku]),WO={test:a=>a==="auto",parse:a=>a},MC=a=>t=>t.test(a),RC=[Yu,At,Hn,hr,GL,UL,WO],oT=a=>RC.find(MC(a));function QO(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||$_(a):!0}const ZO=new Set(["brightness","contrast","saturate","opacity"]);function JO(a){const[t,e]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[s]=e.match(ix)||[];if(!s)return a;const r=e.replace(s,"");let l=ZO.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+r+")"}const tk=/\b([a-z-]*)\(.*?\)/gu,yv={...Xr,getAnimatableNone:a=>{const t=a.match(tk);return t?t.map(JO).join(" "):a}},lT={...Yu,transform:Math.round},ek={rotate:hr,rotateX:hr,rotateY:hr,rotateZ:hr,scale:jm,scaleX:jm,scaleY:jm,scaleZ:jm,skew:hr,skewX:hr,skewY:hr,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Md,originX:$E,originY:$E,originZ:At},fx={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...ek,zIndex:lT,fillOpacity:Md,strokeOpacity:Md,numOctaves:lT},ik={...fx,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:yv,WebkitFilter:yv},DC=a=>ik[a];function NC(a,t){let e=DC(a);return e!==yv&&(e=Xr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const sk=new Set(["auto","none","0"]);function nk(a,t,e){let s=0,r;for(;s<a.length&&!r;){const l=a[s];typeof l=="string"&&!sk.has(l)&&Rd(l).values.length&&(r=a[s]),s++}if(r&&e)for(const l of t)a[l]=NC(e,r)}class ak extends ux{constructor(t,e,s,r,l){super(t,e,s,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let p=t[f];if(typeof p=="string"&&(p=p.trim(),ex(p))){const g=_C(p,e.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!CC.has(s)||t.length!==2)return;const[r,l]=t,c=oT(r),u=oT(l);if(c!==u)if(sT(c)&&sT(u))for(let f=0;f<t.length;f++){const p=t[f];typeof p=="string"&&(t[f]=parseFloat(p))}else Dl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||QO(t[r]))&&s.push(r);s.length&&nk(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var u;const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Dl[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function LC(a,t,e){if(a instanceof EventTarget)return[a];if(typeof a=="string"){const r=document.querySelectorAll(a);return r?Array.from(r):[]}return Array.from(a)}const OC=(a,t)=>t&&typeof a=="number"?t.transform(a):a,cT=30,rk=a=>!isNaN(parseFloat(a)),xd={current:void 0};class ok{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var c,u;const l=qi.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();r&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=qi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new WA);const s=this.events[t].add(e);return t==="change"?()=>{s(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return xd.current&&xd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,cT);return QA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ln(a,t){return new ok(a,t)}const{schedule:px}=rC(queueMicrotask,!1),Xs={x:!1,y:!1};function kC(){return Xs.x||Xs.y}function lk(a){return a==="x"||a==="y"?Xs[a]?null:(Xs[a]=!0,()=>{Xs[a]=!1}):Xs.x||Xs.y?null:(Xs.x=Xs.y=!0,()=>{Xs.x=Xs.y=!1})}function PC(a,t){const e=LC(a),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[e,r,()=>s.abort()]}function uT(a){return!(a.pointerType==="touch"||kC())}function ck(a,t,e={}){const[s,r,l]=PC(a,e),c=u=>{if(!uT(u))return;const{target:f}=u,p=t(f,u);if(typeof p!="function"||!f)return;const g=b=>{uT(b)&&(p(b),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return s.forEach(u=>{u.addEventListener("pointerenter",c,r)}),l}const jC=(a,t)=>t?a===t?!0:jC(a,t.parentElement):!1,mx=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,uk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hk(a){return uk.has(a.tagName)||a.tabIndex!==-1}const qm=new WeakSet;function hT(a){return t=>{t.key==="Enter"&&a(t)}}function Vb(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const dk=(a,t)=>{const e=a.currentTarget;if(!e)return;const s=hT(()=>{if(qm.has(e))return;Vb(e,"down");const r=hT(()=>{Vb(e,"up")}),l=()=>Vb(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function dT(a){return mx(a)&&!kC()}function fk(a,t,e={}){const[s,r,l]=PC(a,e),c=u=>{const f=u.currentTarget;if(!dT(u))return;qm.add(f);const p=t(f,u),g=(A,S)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),qm.has(f)&&qm.delete(f),dT(A)&&typeof p=="function"&&p(A,{success:S})},b=A=>{g(A,f===window||f===document||e.useGlobalTarget||jC(f,A.target))},v=A=>{g(A,!1)};window.addEventListener("pointerup",b,r),window.addEventListener("pointercancel",v,r)};return s.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",c,r),hx(u)&&(u.addEventListener("focus",p=>dk(p,r)),!hk(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function gx(a){return K_(a)&&"ownerSVGElement"in a}const Xm=new WeakMap;let dr;const IC=(a,t,e)=>(s,r)=>r&&r[0]?r[0][a+"Size"]:gx(s)&&"getBBox"in s?s.getBBox()[t]:s[e],pk=IC("inline","width","offsetWidth"),mk=IC("block","height","offsetHeight");function gk({target:a,borderBoxSize:t}){var e;(e=Xm.get(a))==null||e.forEach(s=>{s(a,{get width(){return pk(a,t)},get height(){return mk(a,t)}})})}function yk(a){a.forEach(gk)}function bk(){typeof ResizeObserver>"u"||(dr=new ResizeObserver(yk))}function vk(a,t){dr||bk();const e=LC(a);return e.forEach(s=>{let r=Xm.get(s);r||(r=new Set,Xm.set(s,r)),r.add(t),dr==null||dr.observe(s)}),()=>{e.forEach(s=>{const r=Xm.get(s);r==null||r.delete(t),r!=null&&r.size||dr==null||dr.unobserve(s)})}}const Ym=new Set;let Dc;function Ak(){Dc=()=>{const a={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ym.forEach(t=>t(a))},window.addEventListener("resize",Dc)}function xk(a){return Ym.add(a),Dc||Ak(),()=>{Ym.delete(a),!Ym.size&&typeof Dc=="function"&&(window.removeEventListener("resize",Dc),Dc=void 0)}}function Sk(a,t){return typeof a=="function"?xk(a):vk(a,t)}function BC(a,t){let e;const s=()=>{const{currentTime:r}=t,c=(r===null?0:r.value)/100;e!==c&&a(c),e=c};return Zt.preUpdate(s,!0),()=>un(s)}function wk(a){return gx(a)&&a.tagName==="svg"}function Ek(...a){const t=!Array.isArray(a[0]),e=t?0:-1,s=a[0+e],r=a[1+e],l=a[2+e],c=a[3+e],u=rx(r,l,c);return t?u(s):u}const xi=a=>!!(a&&a.getVelocity),Tk=[...RC,Le,Xr],_k=a=>Tk.find(MC(a)),yx=J.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function Ck(a=!0){const t=J.useContext(XA);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:r}=t,l=J.useId();J.useEffect(()=>{if(a)return r(l)},[a]);const c=J.useCallback(()=>a&&s&&s(l),[l,s,a]);return!e&&s?[!1,c]:[!0]}const FC=J.createContext({strict:!1}),fT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qu={};for(const a in fT)qu[a]={isEnabled:t=>fT[a].some(e=>!!t[e])};function Mk(a){for(const t in a)qu[t]={...qu[t],...a[t]}}const Rk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rg(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||Rk.has(a)}let zC=a=>!Rg(a);function Dk(a){typeof a=="function"&&(zC=t=>t.startsWith("on")?!Rg(t):a(t))}try{Dk(require("@emotion/is-prop-valid").default)}catch{}function Nk(a,t,e){const s={};for(const r in a)r==="values"&&typeof a.values=="object"||(zC(r)||e===!0&&Rg(r)||!t&&!Rg(r)||a.draggable&&r.startsWith("onDrag"))&&(s[r]=a[r]);return s}function Lk(a){if(typeof Proxy>"u")return a;const t=new Map,e=(...s)=>a(...s);return new Proxy(e,{get:(s,r)=>r==="create"?a:(t.has(r)||t.set(r,a(r)),t.get(r))})}const ay=J.createContext({});function ry(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function Dd(a){return typeof a=="string"||Array.isArray(a)}const bx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vx=["initial",...bx];function oy(a){return ry(a.animate)||vx.some(t=>Dd(a[t]))}function HC(a){return!!(oy(a)||a.variants)}function Ok(a,t){if(oy(a)){const{initial:e,animate:s}=a;return{initial:e===!1||Dd(e)?e:void 0,animate:Dd(s)?s:void 0}}return a.inherit!==!1?t:{}}function kk(a){const{initial:t,animate:e}=Ok(a,J.useContext(ay));return J.useMemo(()=>({initial:t,animate:e}),[pT(t),pT(e)])}function pT(a){return Array.isArray(a)?a.join(" "):a}const Pk=Symbol.for("motionComponentSymbol");function Nc(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function jk(a,t,e){return J.useCallback(s=>{s&&a.onMount&&a.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):Nc(e)&&(e.current=s))},[t])}const Ax=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ik="framerAppearId",VC="data-"+Ax(Ik),UC=J.createContext({});function Bk(a,t,e,s,r){var E,D;const{visualElement:l}=J.useContext(ay),c=J.useContext(FC),u=J.useContext(XA),f=J.useContext(yx).reducedMotion,p=J.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(a,{visualState:t,parent:l,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,b=J.useContext(UC);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&Fk(p.current,e,r,b);const v=J.useRef(!1);J.useInsertionEffect(()=>{g&&v.current&&g.update(e,u)});const A=e[VC],S=J.useRef(!!A&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,A))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,A)));return qA(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),px.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),J.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,A)}),S.current=!1))}),g}function Fk(a,t,e,s){const{layoutId:r,layout:l,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=t;a.projection=new e(a.latestValues,t["data-framer-portal-id"]?void 0:GC(a.parent)),a.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||u&&Nc(u),visualElement:a,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:f,layoutRoot:p})}function GC(a){if(a)return a.options.allowProjection!==!1?a.projection:GC(a.parent)}function zk({preloadedFeatures:a,createVisualElement:t,useRender:e,useVisualState:s,Component:r}){a&&Mk(a);function l(u,f){let p;const g={...J.useContext(yx),...u,layoutId:Hk(u)},{isStatic:b}=g,v=kk(u),A=s(u,b);if(!b&&GA){Vk();const S=Uk(g);p=S.MeasureLayout,v.visualElement=Bk(r,A,g,t,S.ProjectionNode)}return M.jsxs(ay.Provider,{value:v,children:[p&&v.visualElement?M.jsx(p,{visualElement:v.visualElement,...g}):null,e(r,u,jk(A,v.visualElement,f),A,b,v.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const c=J.forwardRef(l);return c[Pk]=r,c}function Hk({layoutId:a}){const t=J.useContext(X_).id;return t&&a!==void 0?t+"-"+a:a}function Vk(a,t){J.useContext(FC).strict}function Uk(a){const{drag:t,layout:e}=qu;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(a)||e!=null&&e.isEnabled(a)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Nd={};function Gk(a){for(const t in a)Nd[t]=a[t],tx(t)&&(Nd[t].isCSSVariable=!0)}function qC(a,{layout:t,layoutId:e}){return $u.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!Nd[a]||a==="opacity")}const qk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xk=Ku.length;function Yk(a,t,e){let s="",r=!0;for(let l=0;l<Xk;l++){const c=Ku[l],u=a[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||e){const p=OC(u,fx[c]);if(!f){r=!1;const g=qk[c]||c;s+=`${g}(${p}) `}e&&(t[c]=p)}}return s=s.trim(),e?s=e(t,r?"":s):r&&(s="none"),s}function xx(a,t,e){const{style:s,vars:r,transformOrigin:l}=a;let c=!1,u=!1;for(const f in t){const p=t[f];if($u.has(f)){c=!0;continue}else if(tx(f)){r[f]=p;continue}else{const g=OC(p,fx[f]);f.startsWith("origin")?(u=!0,l[f]=g):s[f]=g}}if(t.transform||(c||e?s.transform=Yk(t,a.transform,e):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${p} ${g}`}}const Sx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XC(a,t,e){for(const s in t)!xi(t[s])&&!qC(s,e)&&(a[s]=t[s])}function Kk({transformTemplate:a},t){return J.useMemo(()=>{const e=Sx();return xx(e,t,a),Object.assign({},e.vars,e.style)},[t])}function $k(a,t){const e=a.style||{},s={};return XC(s,e,a),Object.assign(s,Kk(a,t)),s}function Wk(a,t){const e={},s=$k(a,t);return a.drag&&a.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=s,e}const Qk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zk={offset:"strokeDashoffset",array:"strokeDasharray"};function Jk(a,t,e=1,s=0,r=!0){a.pathLength=1;const l=r?Qk:Zk;a[l.offset]=At.transform(-s);const c=At.transform(t),u=At.transform(e);a[l.array]=`${c} ${u}`}function YC(a,{attrX:t,attrY:e,attrScale:s,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...u},f,p,g){if(xx(a,u,p),f){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:b,style:v}=a;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),e!==void 0&&(b.y=e),s!==void 0&&(b.scale=s),r!==void 0&&Jk(b,r,l,c,!1)}const KC=()=>({...Sx(),attrs:{}}),$C=a=>typeof a=="string"&&a.toLowerCase()==="svg";function tP(a,t,e,s){const r=J.useMemo(()=>{const l=KC();return YC(l,t,$C(s),a.transformTemplate,a.style),{...l.attrs,style:{...l.style}}},[t]);if(a.style){const l={};XC(l,a.style,a),r.style={...l,...r.style}}return r}const eP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wx(a){return typeof a!="string"||a.includes("-")?!1:!!(eP.indexOf(a)>-1||/[A-Z]/u.test(a))}function iP(a=!1){return(e,s,r,{latestValues:l},c)=>{const f=(wx(e)?tP:Wk)(s,l,c,e),p=Nk(s,typeof e=="string",a),g=e!==J.Fragment?{...p,...f,ref:r}:{},{children:b}=s,v=J.useMemo(()=>xi(b)?b.get():b,[b]);return J.createElement(e,{...g,children:v})}}function mT(a){const t=[{},{}];return a==null||a.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function Ex(a,t,e,s){if(typeof t=="function"){const[r,l]=mT(s);t=t(e!==void 0?e:a.custom,r,l)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[r,l]=mT(s);t=t(e!==void 0?e:a.custom,r,l)}return t}function Km(a){return xi(a)?a.get():a}function sP({scrapeMotionValuesFromProps:a,createRenderState:t},e,s,r){return{latestValues:nP(e,s,r,a),renderState:t()}}const WC=a=>(t,e)=>{const s=J.useContext(ay),r=J.useContext(XA),l=()=>sP(a,t,s,r);return e?l():ny(l)};function nP(a,t,e,s){const r={},l=s(a,{});for(const v in l)r[v]=Km(l[v]);let{initial:c,animate:u}=a;const f=oy(a),p=HC(a);t&&p&&!f&&a.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let g=e?e.initial===!1:!1;g=g||c===!1;const b=g?u:c;if(b&&typeof b!="boolean"&&!ry(b)){const v=Array.isArray(b)?b:[b];for(let A=0;A<v.length;A++){const S=Ex(a,v[A]);if(S){const{transitionEnd:E,transition:D,...R}=S;for(const L in R){let N=R[L];if(Array.isArray(N)){const j=g?N.length-1:0;N=N[j]}N!==null&&(r[L]=N)}for(const L in E)r[L]=E[L]}}}return r}function Tx(a,t,e){var l;const{style:s}=a,r={};for(const c in s)(xi(s[c])||t.style&&xi(t.style[c])||qC(c,a)||((l=e==null?void 0:e.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(r[c]=s[c]);return r}const aP={useVisualState:WC({scrapeMotionValuesFromProps:Tx,createRenderState:Sx})};function QC(a,t,e){const s=Tx(a,t,e);for(const r in a)if(xi(a[r])||xi(t[r])){const l=Ku.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[l]=a[r]}return s}const rP={useVisualState:WC({scrapeMotionValuesFromProps:QC,createRenderState:KC})};function oP(a,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const c={...wx(s)?rP:aP,preloadedFeatures:a,useRender:iP(r),createVisualElement:t,Component:s};return zk(c)}}function Ld(a,t,e){const s=a.getProps();return Ex(s,t,e!==void 0?e:s.custom,a)}const bv=a=>Array.isArray(a);function lP(a,t,e){a.hasValue(t)?a.getValue(t).set(e):a.addValue(t,ln(e))}function cP(a){return bv(a)?a[a.length-1]||0:a}function uP(a,t){const e=Ld(a,t);let{transitionEnd:s={},transition:r={},...l}=e||{};l={...l,...s};for(const c in l){const u=cP(l[c]);lP(a,c,u)}}function hP(a){return!!(xi(a)&&a.add)}function vv(a,t){const e=a.getValue("willChange");if(hP(e))return e.add(t);if(!e&&Ba.WillChange){const s=new Ba.WillChange("auto");a.addValue("willChange",s),s.add(t)}}function ZC(a){return a.props[VC]}const dP=a=>a!==null;function fP(a,{repeat:t,repeatType:e="loop"},s){const r=a.filter(dP),l=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[l]}const pP={type:"spring",stiffness:500,damping:25,restSpeed:10},mP=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),gP={type:"keyframes",duration:.8},yP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bP=(a,{keyframes:t})=>t.length>2?gP:$u.has(a)?a.startsWith("scale")?mP(t[1]):pP:yP;function vP({when:a,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:u,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const _x=(a,t,e,s={},r,l)=>c=>{const u=dx(s,a)||{},f=u.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Fn(f);const g={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-p,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:a,motionValue:t,element:l?void 0:r};vP(u)||Object.assign(g,bP(a,g)),g.duration&&(g.duration=Fn(g.duration)),g.repeatDelay&&(g.repeatDelay=Fn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(b=!0)),(Ba.instantAnimations||Ba.skipAnimations)&&(b=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,b&&!l&&t.get()!==void 0){const v=fP(g.keyframes,u);if(v!==void 0){Zt.update(()=>{g.onUpdate(v),g.onComplete()});return}}return u.isSync?new cx(g):new YO(g)};function AP({protectedKeys:a,needsAnimating:t},e){const s=a.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function JC(a,t,{delay:e=0,transitionOverride:s,type:r}={}){let{transition:l=a.getDefaultTransition(),transitionEnd:c,...u}=t;s&&(l=s);const f=[],p=r&&a.animationState&&a.animationState.getState()[r];for(const g in u){const b=a.getValue(g,a.latestValues[g]??null),v=u[g];if(v===void 0||p&&AP(p,g))continue;const A={delay:e,...dx(l||{},g)},S=b.get();if(S!==void 0&&!b.isAnimating&&!Array.isArray(v)&&v===S&&!A.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const R=ZC(a);if(R){const L=window.MotionHandoffAnimation(R,g,Zt);L!==null&&(A.startTime=L,E=!0)}}vv(a,g),b.start(_x(g,b,v,a.shouldReduceMotion&&CC.has(g)?{type:!1}:A,a,E));const D=b.animation;D&&f.push(D)}return c&&Promise.all(f).then(()=>{Zt.update(()=>{c&&uP(a,c)})}),f}function Av(a,t,e={}){var f;const s=Ld(a,t,e.type==="exit"?(f=a.presenceContext)==null?void 0:f.custom:void 0);let{transition:r=a.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(r=e.transitionOverride);const l=s?()=>Promise.all(JC(a,s,e)):()=>Promise.resolve(),c=a.variantChildren&&a.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:b,staggerDirection:v}=r;return xP(a,t,p,g,b,v,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[p,g]=u==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(e.delay)])}function xP(a,t,e=0,s=0,r=0,l=1,c){const u=[],f=a.variantChildren.size,p=(f-1)*r,g=typeof s=="function",b=g?v=>s(v,f):l===1?(v=0)=>v*r:(v=0)=>p-v*r;return Array.from(a.variantChildren).sort(SP).forEach((v,A)=>{v.notify("AnimationStart",t),u.push(Av(v,t,{...c,delay:e+(g?0:s)+b(A)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(u)}function SP(a,t){return a.sortNodePosition(t)}function wP(a,t,e={}){a.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(l=>Av(a,l,e));s=Promise.all(r)}else if(typeof t=="string")s=Av(a,t,e);else{const r=typeof t=="function"?Ld(a,t,e.custom):t;s=Promise.all(JC(a,r,e))}return s.then(()=>{a.notify("AnimationComplete",t)})}function tM(a,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==a.length)return!1;for(let s=0;s<e;s++)if(t[s]!==a[s])return!1;return!0}const EP=vx.length;function eM(a){if(!a)return;if(!a.isControllingVariants){const e=a.parent?eM(a.parent)||{}:{};return a.props.initial!==void 0&&(e.initial=a.props.initial),e}const t={};for(let e=0;e<EP;e++){const s=vx[e],r=a.props[s];(Dd(r)||r===!1)&&(t[s]=r)}return t}const TP=[...bx].reverse(),_P=bx.length;function CP(a){return t=>Promise.all(t.map(({animation:e,options:s})=>wP(a,e,s)))}function MP(a){let t=CP(a),e=gT(),s=!0;const r=f=>(p,g)=>{var v;const b=Ld(a,g,f==="exit"?(v=a.presenceContext)==null?void 0:v.custom:void 0);if(b){const{transition:A,transitionEnd:S,...E}=b;p={...p,...E,...S}}return p};function l(f){t=f(a)}function c(f){const{props:p}=a,g=eM(a.parent)||{},b=[],v=new Set;let A={},S=1/0;for(let D=0;D<_P;D++){const R=TP[D],L=e[R],N=p[R]!==void 0?p[R]:g[R],j=Dd(N),P=R===f?L.isActive:null;P===!1&&(S=D);let U=N===g[R]&&N!==p[R]&&j;if(U&&s&&a.manuallyAnimateOnMount&&(U=!1),L.protectedKeys={...A},!L.isActive&&P===null||!N&&!L.prevProp||ry(N)||typeof N=="boolean")continue;const q=RP(L.prevProp,N);let $=q||R===f&&L.isActive&&!U&&j||D>S&&j,tt=!1;const ft=Array.isArray(N)?N:[N];let ot=ft.reduce(r(R),{});P===!1&&(ot={});const{prevResolvedValues:St={}}=L,Gt={...St,...ot},Tt=X=>{$=!0,v.has(X)&&(tt=!0,v.delete(X)),L.needsAnimating[X]=!0;const st=a.getValue(X);st&&(st.liveStyle=!1)};for(const X in Gt){const st=ot[X],wt=St[X];if(A.hasOwnProperty(X))continue;let k=!1;bv(st)&&bv(wt)?k=!tM(st,wt):k=st!==wt,k?st!=null?Tt(X):v.add(X):st!==void 0&&v.has(X)?Tt(X):L.protectedKeys[X]=!0}L.prevProp=N,L.prevResolvedValues=ot,L.isActive&&(A={...A,...ot}),s&&a.blockInitialAnimation&&($=!1),$&&(!(U&&q)||tt)&&b.push(...ft.map(X=>({animation:X,options:{type:R}})))}if(v.size){const D={};if(typeof p.initial!="boolean"){const R=Ld(a,Array.isArray(p.initial)?p.initial[0]:p.initial);R&&R.transition&&(D.transition=R.transition)}v.forEach(R=>{const L=a.getBaseTarget(R),N=a.getValue(R);N&&(N.liveStyle=!0),D[R]=L??null}),b.push({animation:D})}let E=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(E=!1),s=!1,E?t(b):Promise.resolve()}function u(f,p){var b;if(e[f].isActive===p)return Promise.resolve();(b=a.variantChildren)==null||b.forEach(v=>{var A;return(A=v.animationState)==null?void 0:A.setActive(f,p)}),e[f].isActive=p;const g=c(f);for(const v in e)e[v].protectedKeys={};return g}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>e,reset:()=>{e=gT(),s=!0}}}function RP(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!tM(t,a):!1}function yo(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gT(){return{animate:yo(!0),whileInView:yo(),whileHover:yo(),whileTap:yo(),whileDrag:yo(),whileFocus:yo(),exit:yo()}}class Wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class DP extends Wr{constructor(t){super(t),t.animationState||(t.animationState=MP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ry(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let NP=0;class LP extends Wr{constructor(){super(...arguments),this.id=NP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const OP={animation:{Feature:DP},exit:{Feature:LP}};function Od(a,t,e,s={passive:!0}){return a.addEventListener(t,e,s),()=>a.removeEventListener(t,e)}function pp(a){return{point:{x:a.pageX,y:a.pageY}}}const kP=a=>t=>mx(t)&&a(t,pp(t));function Sd(a,t,e,s){return Od(a,t,kP(e),s)}function iM({top:a,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:a,max:s}}}function PP({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function jP(a,t){if(!t)return a;const e=t({x:a.left,y:a.top}),s=t({x:a.right,y:a.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}const sM=1e-4,IP=1-sM,BP=1+sM,nM=.01,FP=0-nM,zP=0+nM;function Ri(a){return a.max-a.min}function HP(a,t,e){return Math.abs(a-t)<=e}function yT(a,t,e,s=.5){a.origin=s,a.originPoint=ye(t.min,t.max,a.origin),a.scale=Ri(e)/Ri(t),a.translate=ye(e.min,e.max,a.origin)-a.originPoint,(a.scale>=IP&&a.scale<=BP||isNaN(a.scale))&&(a.scale=1),(a.translate>=FP&&a.translate<=zP||isNaN(a.translate))&&(a.translate=0)}function wd(a,t,e,s){yT(a.x,t.x,e.x,s?s.originX:void 0),yT(a.y,t.y,e.y,s?s.originY:void 0)}function bT(a,t,e){a.min=e.min+t.min,a.max=a.min+Ri(t)}function VP(a,t,e){bT(a.x,t.x,e.x),bT(a.y,t.y,e.y)}function vT(a,t,e){a.min=t.min-e.min,a.max=a.min+Ri(t)}function Ed(a,t,e){vT(a.x,t.x,e.x),vT(a.y,t.y,e.y)}const AT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lc=()=>({x:AT(),y:AT()}),xT=()=>({min:0,max:0}),Ce=()=>({x:xT(),y:xT()});function Ns(a){return[a("x"),a("y")]}function Ub(a){return a===void 0||a===1}function xv({scale:a,scaleX:t,scaleY:e}){return!Ub(a)||!Ub(t)||!Ub(e)}function bo(a){return xv(a)||aM(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function aM(a){return ST(a.x)||ST(a.y)}function ST(a){return a&&a!=="0%"}function Dg(a,t,e){const s=a-e,r=t*s;return e+r}function wT(a,t,e,s,r){return r!==void 0&&(a=Dg(a,r,s)),Dg(a,e,s)+t}function Sv(a,t=0,e=1,s,r){a.min=wT(a.min,t,e,s,r),a.max=wT(a.max,t,e,s,r)}function rM(a,{x:t,y:e}){Sv(a.x,t.translate,t.scale,t.originPoint),Sv(a.y,e.translate,e.scale,e.originPoint)}const ET=.999999999999,TT=1.0000000000001;function UP(a,t,e,s=!1){const r=e.length;if(!r)return;t.x=t.y=1;let l,c;for(let u=0;u<r;u++){l=e[u],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&kc(a,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,rM(a,c)),s&&bo(l.latestValues)&&kc(a,l.latestValues))}t.x<TT&&t.x>ET&&(t.x=1),t.y<TT&&t.y>ET&&(t.y=1)}function Oc(a,t){a.min=a.min+t,a.max=a.max+t}function _T(a,t,e,s,r=.5){const l=ye(a.min,a.max,r);Sv(a,t,e,l,s)}function kc(a,t){_T(a.x,t.x,t.scaleX,t.scale,t.originX),_T(a.y,t.y,t.scaleY,t.scale,t.originY)}function oM(a,t){return iM(jP(a.getBoundingClientRect(),t))}function GP(a,t,e){const s=oM(a,e),{scroll:r}=t;return r&&(Oc(s.x,r.offset.x),Oc(s.y,r.offset.y)),s}const lM=({current:a})=>a?a.ownerDocument.defaultView:null,CT=(a,t)=>Math.abs(a-t);function qP(a,t){const e=CT(a.x,t.x),s=CT(a.y,t.y);return Math.sqrt(e**2+s**2)}class cM{constructor(t,e,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=qb(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,S=qP(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!S)return;const{point:E}=v,{timestamp:D}=Ze;this.history.push({...E,timestamp:D});const{onStart:R,onMove:L}=this.handlers;A||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,v)},this.handlePointerMove=(v,A)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Gb(A,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(v,A)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=qb(v.type==="pointercancel"?this.lastMoveEventInfo:Gb(A,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,R),E&&E(v,R)},!mx(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=r||window;const u=pp(t),f=Gb(u,this.transformPagePoint),{point:p}=f,{timestamp:g}=Ze;this.history=[{...p,timestamp:g}];const{onSessionStart:b}=e;b&&b(t,qb(f,this.history)),this.removeListeners=hp(Sd(this.contextWindow,"pointermove",this.handlePointerMove),Sd(this.contextWindow,"pointerup",this.handlePointerUp),Sd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),un(this.updatePoint)}}function Gb(a,t){return t?{point:t(a.point)}:a}function MT(a,t){return{x:a.x-t.x,y:a.y-t.y}}function qb({point:a},t){return{point:a,delta:MT(a,uM(t)),offset:MT(a,XP(t)),velocity:YP(t,.1)}}function XP(a){return a[0]}function uM(a){return a[a.length-1]}function YP(a,t){if(a.length<2)return{x:0,y:0};let e=a.length-1,s=null;const r=uM(a);for(;e>=0&&(s=a[e],!(r.timestamp-s.timestamp>Fn(t)));)e--;if(!s)return{x:0,y:0};const l=zn(r.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-s.x)/l,y:(r.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function KP(a,{min:t,max:e},s){return t!==void 0&&a<t?a=s?ye(t,a,s.min):Math.max(a,t):e!==void 0&&a>e&&(a=s?ye(e,a,s.max):Math.min(a,e)),a}function RT(a,t,e){return{min:t!==void 0?a.min+t:void 0,max:e!==void 0?a.max+e-(a.max-a.min):void 0}}function $P(a,{top:t,left:e,bottom:s,right:r}){return{x:RT(a.x,e,r),y:RT(a.y,t,s)}}function DT(a,t){let e=t.min-a.min,s=t.max-a.max;return t.max-t.min<a.max-a.min&&([e,s]=[s,e]),{min:e,max:s}}function WP(a,t){return{x:DT(a.x,t.x),y:DT(a.y,t.y)}}function QP(a,t){let e=.5;const s=Ri(a),r=Ri(t);return r>s?e=Gu(t.min,t.max-s,a.min):s>r&&(e=Gu(a.min,a.max-r,t.min)),Vn(0,1,e)}function ZP(a,t){const e={};return t.min!==void 0&&(e.min=t.min-a.min),t.max!==void 0&&(e.max=t.max-a.min),e}const wv=.35;function JP(a=wv){return a===!1?a=0:a===!0&&(a=wv),{x:NT(a,"left","right"),y:NT(a,"top","bottom")}}function NT(a,t,e){return{min:LT(a,t),max:LT(a,e)}}function LT(a,t){return typeof a=="number"?a:a[t]||0}const t3=new WeakMap;class e3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ce(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(pp(b).point)},c=(b,v)=>{const{drag:A,dragPropagation:S,onDragStart:E}=this.getProps();if(A&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lk(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ns(R=>{let L=this.getAxisMotionValue(R).get()||0;if(Hn.test(L)){const{projection:N}=this.visualElement;if(N&&N.layout){const j=N.layout.layoutBox[R];j&&(L=Ri(j)*(parseFloat(L)/100))}}this.originPoint[R]=L}),E&&Zt.postRender(()=>E(b,v)),vv(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},u=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:A,dragDirectionLock:S,onDirectionLock:E,onDrag:D}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:R}=v;if(S&&this.currentDirection===null){this.currentDirection=i3(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),D&&D(b,v)},f=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ns(b=>{var v;return this.getAnimationState(b)==="paused"&&((v=this.getAxisMotionValue(b).animation)==null?void 0:v.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new cM(t,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:lM(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,r=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!s)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Zt.postRender(()=>u(s,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:r}=this.getProps();if(!s||!Im(t,r,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=KP(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,r=this.constraints;t&&Nc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=$P(s.layoutBox,t):this.constraints=!1,this.elastic=JP(e),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ns(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ZP(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Nc(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=GP(s,r.root,this.visualElement.getTransformPagePoint());let c=WP(r.layout.layoutBox,l);if(e){const u=e(PP(c));this.hasMutatedConstraints=!!u,u&&(c=iM(u))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},p=Ns(g=>{if(!Im(g,e,this.currentDirection))return;let b=f&&f[g]||{};c&&(b={min:0,max:0});const v=r?200:1e6,A=r?40:1e7,S={type:"inertia",velocity:s?t[g]:0,bounceStiffness:v,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(u)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return vv(this.visualElement,t),s.start(_x(t,s,0,e,this.visualElement,!1))}stopAnimation(){Ns(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ns(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[e];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Ns(e=>{const{drag:s}=this.getProps();if(!Im(e,s,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(e);if(r&&r.layout){const{min:c,max:u}=r.layout.layoutBox[e];l.set(t[e]-ye(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!Nc(e)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ns(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();r[c]=QP({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ns(c=>{if(!Im(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];u.set(ye(f,p,r[c]))})}addListeners(){if(!this.visualElement.current)return;t3.set(this.visualElement,this);const t=this.visualElement.current,e=Sd(t,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Nc(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Zt.read(s);const c=Od(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ns(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=f[g].translate,b.set(b.get()+f[g].translate))}),this.visualElement.render())});return()=>{c(),e(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=wv,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Im(a,t,e){return(t===!0||t===a)&&(e===null||e===a)}function i3(a,t=10){let e=null;return Math.abs(a.y)>t?e="y":Math.abs(a.x)>t&&(e="x"),e}class s3 extends Wr{constructor(t){super(t),this.removeGroupControls=Xi,this.removeListeners=Xi,this.controls=new e3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const OT=a=>(t,e)=>{a&&Zt.postRender(()=>a(t,e))};class n3 extends Wr{constructor(){super(...arguments),this.removePointerDownListener=Xi}onPointerDown(t){this.session=new cM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:OT(t),onStart:OT(e),onMove:s,onEnd:(l,c)=>{delete this.session,r&&Zt.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=Sd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $m={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kT(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const Wh={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(At.test(a))a=parseFloat(a);else return a;const e=kT(a,t.target.x),s=kT(a,t.target.y);return`${e}% ${s}%`}},a3={correct:(a,{treeScale:t,projectionDelta:e})=>{const s=a,r=Xr.parse(a);if(r.length>5)return s;const l=Xr.createTransformer(a),c=typeof r[0]!="number"?1:0,u=e.x.scale*t.x,f=e.y.scale*t.y;r[0+c]/=u,r[1+c]/=f;const p=ye(u,f,.5);return typeof r[2+c]=="number"&&(r[2+c]/=p),typeof r[3+c]=="number"&&(r[3+c]/=p),l(r)}};let PT=!1;class r3 extends J.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:r}=this.props,{projection:l}=t;Gk(o3),l&&(e.group&&e.group.add(l),s&&s.register&&r&&s.register(l),PT&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),$m.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:r,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,PT=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Zt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),px.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hM(a){const[t,e]=Ck(),s=J.useContext(X_);return M.jsx(r3,{...a,layoutGroup:s,switchLayoutGroup:J.useContext(UC),isPresent:t,safeToRemove:e})}const o3={borderRadius:{...Wh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wh,borderTopRightRadius:Wh,borderBottomLeftRadius:Wh,borderBottomRightRadius:Wh,boxShadow:a3};function l3(a,t,e){const s=xi(a)?a:ln(a);return s.start(_x("",s,t,e)),s.animation}const c3=(a,t)=>a.depth-t.depth;class u3{constructor(){this.children=[],this.isDirty=!1}add(t){YA(this.children,t),this.isDirty=!0}remove(t){KA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(c3),this.isDirty=!1,this.children.forEach(t)}}function h3(a,t){const e=qi.now(),s=({timestamp:r})=>{const l=r-e;l>=t&&(un(s),a(l-t))};return Zt.setup(s,!0),()=>un(s)}const dM=["TopLeft","TopRight","BottomLeft","BottomRight"],d3=dM.length,jT=a=>typeof a=="string"?parseFloat(a):a,IT=a=>typeof a=="number"||At.test(a);function f3(a,t,e,s,r,l){r?(a.opacity=ye(0,e.opacity??1,p3(s)),a.opacityExit=ye(t.opacity??1,0,m3(s))):l&&(a.opacity=ye(t.opacity??1,e.opacity??1,s));for(let c=0;c<d3;c++){const u=`border${dM[c]}Radius`;let f=BT(t,u),p=BT(e,u);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||IT(f)===IT(p)?(a[u]=Math.max(ye(jT(f),jT(p),s),0),(Hn.test(p)||Hn.test(f))&&(a[u]+="%")):a[u]=p}(t.rotate||e.rotate)&&(a.rotate=ye(t.rotate||0,e.rotate||0,s))}function BT(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const p3=fM(0,.5,iC),m3=fM(.5,.95,Xi);function fM(a,t,e){return s=>s<a?0:s>t?1:e(Gu(a,t,s))}function FT(a,t){a.min=t.min,a.max=t.max}function Ms(a,t){FT(a.x,t.x),FT(a.y,t.y)}function zT(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function HT(a,t,e,s,r){return a-=t,a=Dg(a,1/e,s),r!==void 0&&(a=Dg(a,1/r,s)),a}function g3(a,t=0,e=1,s=.5,r,l=a,c=a){if(Hn.test(t)&&(t=parseFloat(t),t=ye(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=ye(l.min,l.max,s);a===l&&(u-=t),a.min=HT(a.min,t,e,u,r),a.max=HT(a.max,t,e,u,r)}function VT(a,t,[e,s,r],l,c){g3(a,t[e],t[s],t[r],t.scale,l,c)}const y3=["x","scaleX","originX"],b3=["y","scaleY","originY"];function UT(a,t,e,s){VT(a.x,t,y3,e?e.x:void 0,s?s.x:void 0),VT(a.y,t,b3,e?e.y:void 0,s?s.y:void 0)}function GT(a){return a.translate===0&&a.scale===1}function pM(a){return GT(a.x)&&GT(a.y)}function qT(a,t){return a.min===t.min&&a.max===t.max}function v3(a,t){return qT(a.x,t.x)&&qT(a.y,t.y)}function XT(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function mM(a,t){return XT(a.x,t.x)&&XT(a.y,t.y)}function YT(a){return Ri(a.x)/Ri(a.y)}function KT(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class A3{constructor(){this.members=[]}add(t){YA(this.members,t),t.scheduleRender()}remove(t){if(KA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let s;for(let r=e;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x3(a,t,e){let s="";const r=a.x.translate/t.x,l=a.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((r||l||c)&&(s=`translate3d(${r}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:g,rotateX:b,rotateY:v,skewX:A,skewY:S}=e;p&&(s=`perspective(${p}px) ${s}`),g&&(s+=`rotate(${g}deg) `),b&&(s+=`rotateX(${b}deg) `),v&&(s+=`rotateY(${v}deg) `),A&&(s+=`skewX(${A}deg) `),S&&(s+=`skewY(${S}deg) `)}const u=a.x.scale*t.x,f=a.y.scale*t.y;return(u!==1||f!==1)&&(s+=`scale(${u}, ${f})`),s||"none"}const Xb=["","X","Y","Z"],S3=1e3;let w3=0;function Yb(a,t,e,s){const{latestValues:r}=t;r[a]&&(e[a]=r[a],t.setStaticValue(a,0),s&&(s[a]=0))}function gM(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const e=ZC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:l}=a.options;window.MotionCancelOptimisedAnimation(e,"transform",Zt,!(r||l))}const{parent:s}=a;s&&!s.hasCheckedOptimisedAppear&&gM(s)}function yM({attachResizeListener:a,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(c={},u=t==null?void 0:t()){this.id=w3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_3),this.nodes.forEach(D3),this.nodes.forEach(N3),this.nodes.forEach(C3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new u3)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new WA),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=gx(c)&&!wk(c),this.instance=c;const{layoutId:u,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),a){let g,b=0;const v=()=>this.root.updateBlockedByResize=!1;Zt.read(()=>{b=window.innerWidth}),a(c,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,g&&g(),g=h3(v,250),$m.hasAnimatedSinceResize&&($m.hasAnimatedSinceResize=!1,this.nodes.forEach(QT)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||j3,{onLayoutAnimationStart:E,onLayoutAnimationComplete:D}=p.getProps(),R=!this.targetLayout||!mM(this.targetLayout,A),L=!b&&v;if(this.options.layoutRoot||this.resumeFrom||L||b&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...dx(S,"layout"),onPlay:E,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(g,L)}else b||QT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(L3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($T);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(WT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(R3),this.nodes.forEach(E3),this.nodes.forEach(T3)):this.nodes.forEach(WT),this.clearAllSnapshots();const u=qi.now();Ze.delta=Vn(0,1e3/60,u-Ze.timestamp),Ze.timestamp=u,Ze.isProcessing=!0,Ib.update.process(Ze),Ib.preRender.process(Ze),Ib.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,px.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M3),this.sharedNodes.forEach(O3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ri(this.snapshot.measuredBox.x)&&!Ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ce(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!pM(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&this.instance&&(u||bo(this.latestValues)||g)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),I3(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Ce();const u=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(B3))){const{scroll:g}=this.root;g&&(Oc(u.x,g.offset.x),Oc(u.y,g.offset.y))}return u}removeElementScroll(c){var f;const u=Ce();if(Ms(u,c),(f=this.scroll)!=null&&f.wasRoot)return u;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:b,options:v}=g;g!==this.root&&b&&v.layoutScroll&&(b.wasRoot&&Ms(u,c),Oc(u.x,b.offset.x),Oc(u.y,b.offset.y))}return u}applyTransform(c,u=!1){const f=Ce();Ms(f,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&kc(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),bo(g.latestValues)&&kc(f,g.latestValues)}return bo(this.latestValues)&&kc(f,this.latestValues),f}removeTransform(c){const u=Ce();Ms(u,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!bo(p.latestValues))continue;xv(p.latestValues)&&p.updateSnapshot();const g=Ce(),b=p.measurePageBox();Ms(g,b),UT(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return bo(this.latestValues)&&UT(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!(!this.layout||!(g||b))){if(this.resolvedRelativeTargetAt=Ze.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ce(),this.relativeTargetOrigin=Ce(),Ed(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ce(),this.targetWithTransforms=Ce()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ms(this.target,this.layout.layoutBox),rM(this.target,this.targetDelta)):Ms(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ce(),this.relativeTargetOrigin=Ce(),Ed(this.relativeTargetOrigin,this.target,A.target),Ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xv(this.parent.latestValues)||aM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Ms(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;UP(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ce());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zT(this.prevProjectionDelta.x,this.projectionDelta.x),zT(this.prevProjectionDelta.y,this.projectionDelta.y)),wd(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!KT(this.projectionDelta.x,this.prevProjectionDelta.x)||!KT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lc(),this.projectionDelta=Lc(),this.projectionDeltaWithTransform=Lc()}setAnimationOrigin(c,u=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},b=Lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Ce(),A=f?f.source:void 0,S=this.layout?this.layout.source:void 0,E=A!==S,D=this.getStack(),R=!D||D.members.length<=1,L=!!(E&&!R&&this.options.crossfade===!0&&!this.path.some(P3));this.animationProgress=0;let N;this.mixTargetDelta=j=>{const P=j/1e3;ZT(b.x,c.x,P),ZT(b.y,c.y,P),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ed(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k3(this.relativeTarget,this.relativeTargetOrigin,v,P),N&&v3(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Ce()),Ms(N,this.relativeTarget)),E&&(this.animationValues=g,f3(g,p,this.latestValues,P,L,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,f,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{$m.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ln(0)),this.currentAnimation=l3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:p,latestValues:g}=c;if(!(!u||!f||!p)){if(this!==c&&this.layout&&p&&bM(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Ce();const b=Ri(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+b;const v=Ri(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+v}Ms(u,f),kc(u,g),wd(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new A3),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const p={};f.z&&Yb("z",c,p,this.animationValues);for(let g=0;g<Xb.length;g++)Yb(`rotate${Xb[g]}`,c,p,this.animationValues),Yb(`skew${Xb[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Km(u==null?void 0:u.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Km(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!bo(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=x3(this.projectionDeltaWithTransform,this.treeScale,g);f&&(b=f(g,b)),c.transform=b;const{x:v,y:A}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Nd){if(g[S]===void 0)continue;const{correct:E,applyTo:D,isCSSVariable:R}=Nd[S],L=b==="none"?g[S]:E(g[S],p);if(D){const N=D.length;for(let j=0;j<N;j++)c[D[j]]=L}else R?this.options.visualElement.renderState.vars[S]=L:c[S]=L}this.options.layoutId&&(c.pointerEvents=p===this?Km(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach($T),this.root.sharedNodes.clear()}}}function E3(a){a.updateLayout()}function T3(a){var e;const t=((e=a.resumeFrom)==null?void 0:e.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&t&&a.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=a.layout,{animationType:l}=a.options,c=t.source!==a.layout.source;l==="size"?Ns(b=>{const v=c?t.measuredBox[b]:t.layoutBox[b],A=Ri(v);v.min=s[b].min,v.max=v.min+A}):bM(l,t.layoutBox,s)&&Ns(b=>{const v=c?t.measuredBox[b]:t.layoutBox[b],A=Ri(s[b]);v.max=v.min+A,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[b].max=a.relativeTarget[b].min+A)});const u=Lc();wd(u,s,t.layoutBox);const f=Lc();c?wd(f,a.applyTransform(r,!0),t.measuredBox):wd(f,s,t.layoutBox);const p=!pM(u);let g=!1;if(!a.resumeFrom){const b=a.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:v,layout:A}=b;if(v&&A){const S=Ce();Ed(S,t.layoutBox,v.layoutBox);const E=Ce();Ed(E,s,A.layoutBox),mM(S,E)||(g=!0),b.options.layoutRoot&&(a.relativeTarget=E,a.relativeTargetOrigin=S,a.relativeParent=b)}}}a.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(a.isLead()){const{onExitComplete:s}=a.options;s&&s()}a.options.transition=void 0}function _3(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function C3(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function M3(a){a.clearSnapshot()}function $T(a){a.clearMeasurements()}function WT(a){a.isLayoutDirty=!1}function R3(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function QT(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function D3(a){a.resolveTargetDelta()}function N3(a){a.calcProjection()}function L3(a){a.resetSkewAndRotation()}function O3(a){a.removeLeadSnapshot()}function ZT(a,t,e){a.translate=ye(t.translate,0,e),a.scale=ye(t.scale,1,e),a.origin=t.origin,a.originPoint=t.originPoint}function JT(a,t,e,s){a.min=ye(t.min,e.min,s),a.max=ye(t.max,e.max,s)}function k3(a,t,e,s){JT(a.x,t.x,e.x,s),JT(a.y,t.y,e.y,s)}function P3(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const j3={duration:.45,ease:[.4,0,.1,1]},t_=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),e_=t_("applewebkit/")&&!t_("chrome/")?Math.round:Xi;function i_(a){a.min=e_(a.min),a.max=e_(a.max)}function I3(a){i_(a.x),i_(a.y)}function bM(a,t,e){return a==="position"||a==="preserve-aspect"&&!HP(YT(t),YT(e),.2)}function B3(a){var t;return a!==a.root&&((t=a.scroll)==null?void 0:t.wasRoot)}const F3=yM({attachResizeListener:(a,t)=>Od(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kb={current:void 0},vM=yM({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Kb.current){const a=new F3({});a.mount(window),a.setOptions({layoutScroll:!0}),Kb.current=a}return Kb.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),z3={pan:{Feature:n3},drag:{Feature:s3,ProjectionNode:vM,MeasureLayout:hM}};function s_(a,t,e){const{props:s}=a;a.animationState&&s.whileHover&&a.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,l=s[r];l&&Zt.postRender(()=>l(t,pp(t)))}class H3 extends Wr{mount(){const{current:t}=this.node;t&&(this.unmount=ck(t,(e,s)=>(s_(this.node,s,"Start"),r=>s_(this.node,r,"End"))))}unmount(){}}class V3 extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hp(Od(this.node.current,"focus",()=>this.onFocus()),Od(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n_(a,t,e){const{props:s}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&s.whileTap&&a.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),l=s[r];l&&Zt.postRender(()=>l(t,pp(t)))}class U3 extends Wr{mount(){const{current:t}=this.node;t&&(this.unmount=fk(t,(e,s)=>(n_(this.node,s,"Start"),(r,{success:l})=>n_(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ev=new WeakMap,$b=new WeakMap,G3=a=>{const t=Ev.get(a.target);t&&t(a)},q3=a=>{a.forEach(G3)};function X3({root:a,...t}){const e=a||document;$b.has(e)||$b.set(e,{});const s=$b.get(e),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(q3,{root:a,...t})),s[r]}function Y3(a,t,e){const s=X3(t);return Ev.set(a,e),s.observe(a),()=>{Ev.delete(a),s.unobserve(a)}}const K3={some:0,all:1};class $3 extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:r="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:K3[r]},u=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),v=p?g:b;v&&v(f)};return Y3(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(W3(t,e))&&this.startObserver()}unmount(){}}function W3({viewport:a={}},{viewport:t={}}={}){return e=>a[e]!==t[e]}const Q3={inView:{Feature:$3},tap:{Feature:U3},focus:{Feature:V3},hover:{Feature:H3}},Z3={layout:{ProjectionNode:vM,MeasureLayout:hM}},Tv={current:null},AM={current:!1};function J3(){if(AM.current=!0,!!GA)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tv.current=a.matches;a.addEventListener("change",t),t()}else Tv.current=!1}const tj=new WeakMap;function ej(a,t,e){for(const s in t){const r=t[s],l=e[s];if(xi(r))a.addValue(s,r);else if(xi(l))a.addValue(s,ln(r,{owner:a}));else if(l!==r)if(a.hasValue(s)){const c=a.getValue(s);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=a.getStaticValue(s);a.addValue(s,ln(c!==void 0?c:r,{owner:a}))}}for(const s in e)t[s]===void 0&&a.removeValue(s);return t}const a_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ij{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ux,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=qi.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Zt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=e.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=oy(e),this.isVariantNode=HC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const v in b){const A=b[v];f[v]!==void 0&&xi(A)&&A.set(f[v],!1)}}mount(t){this.current=t,tj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),AM.current||J3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),un(this.notifyUpdate),un(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=$u.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=e.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),l(),c&&c(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qu){const e=qu[t];if(!e)continue;const{isEnabled:s,Feature:r}=e;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ce()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<a_.length;s++){const r=a_[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=t[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=ej(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=ln(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Y_(s)||$_(s))?s=parseFloat(s):!_k(s)&&Xr.test(e)&&(s=NC(t,e)),this.setBaseTarget(t,xi(s)?s.get():s)),xi(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var l;const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const c=Ex(this.props,e,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(e&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!xi(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new WA),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class xM extends ij{constructor(){super(...arguments),this.KeyframeResolver=ak}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xi(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function SM(a,{style:t,vars:e},s,r){const l=a.style;let c;for(c in t)l[c]=t[c];r==null||r.applyProjectionStyles(l,s);for(c in e)l.setProperty(c,e[c])}function sj(a){return window.getComputedStyle(a)}class nj extends xM{constructor(){super(...arguments),this.type="html",this.renderInstance=SM}readValueFromInstance(t,e){var s;if($u.has(e))return(s=this.projection)!=null&&s.isProjecting?dv(e):TO(t,e);{const r=sj(t),l=(tx(e)?r.getPropertyValue(e):r[e])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:e}){return oM(t,e)}build(t,e,s){xx(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return Tx(t,e,s)}}const wM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aj(a,t,e,s){SM(a,t,void 0,s);for(const r in t.attrs)a.setAttribute(wM.has(r)?r:Ax(r),t.attrs[r])}class rj extends xM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ce}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if($u.has(e)){const s=DC(e);return s&&s.default||0}return e=wM.has(e)?e:Ax(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return QC(t,e,s)}build(t,e,s){YC(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,r){aj(t,e,s,r)}mount(t){this.isSVGTag=$C(t.tagName),super.mount(t)}}const oj=(a,t)=>wx(a)?new rj(t):new nj(t,{allowProjection:a!==J.Fragment}),lj=oP({...OP,...Q3,...z3,...Z3},oj),ge=Lk(lj),cj=50,r_=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),uj=()=>({time:0,x:r_(),y:r_()}),hj={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function o_(a,t,e,s){const r=e[t],{length:l,position:c}=hj[t],u=r.current,f=e.time;r.current=a[`scroll${c}`],r.scrollLength=a[`scroll${l}`]-a[`client${l}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Gu(0,r.scrollLength,r.current);const p=s-f;r.velocity=p>cj?0:QA(r.current-u,p)}function dj(a,t,e){o_(a,"x",t,e),o_(a,"y",t,e),t.time=e}function fj(a,t){const e={x:0,y:0};let s=a;for(;s&&s!==t;)if(hx(s))e.x+=s.offsetLeft,e.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const l=s.getBoundingClientRect();e.x+=r.left-l.left,e.y+=r.top-l.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:l}=s.getBBox();e.x+=r,e.y+=l;let c=null,u=s.parentNode;for(;!c;)u.tagName==="svg"&&(c=u),u=s.parentNode;s=c}else break;return e}const _v={start:0,center:.5,end:1};function l_(a,t,e=0){let s=0;if(a in _v&&(a=_v[a]),typeof a=="string"){const r=parseFloat(a);a.endsWith("px")?s=r:a.endsWith("%")?a=r/100:a.endsWith("vw")?s=r/100*document.documentElement.clientWidth:a.endsWith("vh")?s=r/100*document.documentElement.clientHeight:a=r}return typeof a=="number"&&(s=t*a),e+s}const pj=[0,0];function mj(a,t,e,s){let r=Array.isArray(a)?a:pj,l=0,c=0;return typeof a=="number"?r=[a,a]:typeof a=="string"&&(a=a.trim(),a.includes(" ")?r=a.split(" "):r=[a,_v[a]?a:"0"]),l=l_(r[0],e,s),c=l_(r[1],t),l-c}const gj={All:[[0,0],[1,1]]},yj={x:0,y:0};function bj(a){return"getBBox"in a&&a.tagName!=="svg"?a.getBBox():{width:a.clientWidth,height:a.clientHeight}}function vj(a,t,e){const{offset:s=gj.All}=e,{target:r=a,axis:l="y"}=e,c=l==="y"?"height":"width",u=r!==a?fj(r,a):yj,f=r===a?{width:a.scrollWidth,height:a.scrollHeight}:bj(r),p={width:a.clientWidth,height:a.clientHeight};t[l].offset.length=0;let g=!t[l].interpolate;const b=s.length;for(let v=0;v<b;v++){const A=mj(s[v],p[c],f[c],u[l]);!g&&A!==t[l].interpolatorOffsets[v]&&(g=!0),t[l].offset[v]=A}g&&(t[l].interpolate=rx(t[l].offset,yC(s),{clamp:!1}),t[l].interpolatorOffsets=[...t[l].offset]),t[l].progress=Vn(0,1,t[l].interpolate(t[l].current))}function Aj(a,t=a,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==a){let s=t;for(;s&&s!==a;)e.x.targetOffset+=s.offsetLeft,e.y.targetOffset+=s.offsetTop,s=s.offsetParent}e.x.targetLength=t===a?t.scrollWidth:t.clientWidth,e.y.targetLength=t===a?t.scrollHeight:t.clientHeight,e.x.containerLength=a.clientWidth,e.y.containerLength=a.clientHeight}function xj(a,t,e,s={}){return{measure:r=>{Aj(a,s.target,e),dj(a,e,r),(s.offset||s.target)&&vj(a,e,s)},notify:()=>t(e)}}const Qh=new WeakMap,c_=new WeakMap,Wb=new WeakMap,u_=a=>a===document.scrollingElement?window:a;function EM(a,{container:t=document.scrollingElement,...e}={}){if(!t)return Xi;let s=Wb.get(t);s||(s=new Set,Wb.set(t,s));const r=uj(),l=xj(t,a,r,e);if(s.add(l),!Qh.has(t)){const u=()=>{for(const b of s)b.measure(Ze.timestamp);Zt.preUpdate(f)},f=()=>{for(const b of s)b.notify()},p=()=>Zt.read(u);Qh.set(t,p);const g=u_(t);window.addEventListener("resize",p,{passive:!0}),t!==document.documentElement&&c_.set(t,Sk(t,p)),g.addEventListener("scroll",p,{passive:!0}),p()}const c=Qh.get(t);return Zt.read(c,!1,!0),()=>{var p;un(c);const u=Wb.get(t);if(!u||(u.delete(l),u.size))return;const f=Qh.get(t);Qh.delete(t),f&&(u_(t).removeEventListener("scroll",f),(p=c_.get(t))==null||p(),window.removeEventListener("resize",f))}}const h_=new Map;function Sj(a){const t={value:0},e=EM(s=>{t.value=s[a.axis].progress*100},a);return{currentTime:t,cancel:e}}function TM({source:a,container:t,...e}){const{axis:s}=e;a&&(t=a);const r=h_.get(t)??new Map;h_.set(t,r);const l=e.target??"self",c=r.get(l)??{},u=s+(e.offset??[]).join(",");return c[u]||(c[u]=!e.target&&xC()?new ScrollTimeline({source:t,axis:s}):Sj({container:t,...e})),c[u]}function wj(a,t){const e=TM(t);return a.attachTimeline({timeline:t.target?void 0:e,observe:s=>(s.pause(),BC(r=>{s.time=s.duration*r},e))})}function Ej(a){return a.length===2}function Tj(a,t){return Ej(a)?EM(e=>{a(e[t.axis].progress,e)},t):BC(a,TM(t))}function _j(a,{axis:t="y",container:e=document.scrollingElement,...s}={}){if(!e)return Xi;const r={axis:t,container:e,...s};return typeof a=="function"?Tj(a,r):wj(a,r)}const Cj=()=>({scrollX:ln(0),scrollY:ln(0),scrollXProgress:ln(0),scrollYProgress:ln(0)}),Bm=a=>a?!a.current:!1;function Qb({container:a,target:t,...e}={}){const s=ny(Cj),r=J.useRef(null),l=J.useRef(!1),c=J.useCallback(()=>(r.current=_j((u,{x:f,y:p})=>{s.scrollX.set(f.current),s.scrollXProgress.set(f.progress),s.scrollY.set(p.current),s.scrollYProgress.set(p.progress)},{...e,container:(a==null?void 0:a.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var u;(u=r.current)==null||u.call(r)}),[a,t,JSON.stringify(e.offset)]);return qA(()=>{if(l.current=!1,Bm(a)||Bm(t)){l.current=!0;return}else return c()},[c]),J.useEffect(()=>{if(l.current)return Cd(!Bm(a)),Cd(!Bm(t)),c()},[c]),s}function Mj(a){const t=ny(()=>ln(a)),{isStatic:e}=J.useContext(yx);if(e){const[,s]=J.useState(a);J.useEffect(()=>t.on("change",s),[])}return t}function _M(a,t){const e=Mj(t()),s=()=>e.set(t());return s(),qA(()=>{const r=()=>Zt.preRender(s,!1,!0),l=a.map(c=>c.on("change",r));return()=>{l.forEach(c=>c()),un(s)}}),e}function Rj(a){xd.current=[],a();const t=_M(xd.current,a);return xd.current=void 0,t}function is(a,t,e,s){if(typeof a=="function")return Rj(a);const r=typeof t=="function"?t:Ek(t,e,s);return Array.isArray(a)?d_(a,r):d_([a],([l])=>r(l))}function d_(a,t){const e=ny(()=>[]);return _M(a,()=>{e.length=0;const s=a.length;for(let r=0;r<s;r++)e[r]=a[r].get();return t(e)})}const Dj="/assets/CsB2k7HX.png",f_="/assets/CX-44SRM.png",p_="/assets/CL0B6Np9.jpeg",Nj="/assets/Ck1LFH3q.jpeg",Lj="/assets/CtfKFWcc.jpeg",Oj="/assets/VRpW7Nbi.jpeg",m_="/assets/xXVsIQJW.jpeg",kj="/assets/DqEPh-DP.png",Pj="/assets/DqrAN6F1.png",jj="/assets/Certificate-frankensteinz-C5bZVemM.pdf",Ij="/assets/THM-3YAANKUEPF-BrdG90G3.pdf",Bj="/assets/UC-0497434b-3c91-4447-b8a1-9044d7dbeaad-CS8CwsA7.pdf",Fj="/assets/UC-171e9dab-d53d-4b66-a57a-55e93a3cf0a5-DcBMgVmZ.pdf",zj="/assets/UC-9ebeab56-a4f1-4d4f-a1a7-1cfbb0901a8a-D4iik9Ee.pdf";var Td={};Td.d=(a,t)=>{for(var e in t)Td.o(t,e)&&!Td.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})};Td.o=(a,t)=>Object.prototype.hasOwnProperty.call(a,t);var xt=globalThis.pdfjsLib={};Td.d(xt,{AbortException:()=>Yr,AnnotationEditorLayer:()=>PA,AnnotationEditorParamsType:()=>Bt,AnnotationEditorType:()=>Ct,AnnotationEditorUIManager:()=>Ol,AnnotationLayer:()=>PB,AnnotationMode:()=>pr,ColorPicker:()=>jg,DOMSVGFactory:()=>Px,DrawLayer:()=>BA,FeatureTest:()=>Di,GlobalWorkerOptions:()=>Pa,ImageKind:()=>Wm,InvalidPDFException:()=>Mv,MissingPDFException:()=>kd,OPS:()=>Ks,OutputScale:()=>Dv,PDFDataRangeTransport:()=>MR,PDFDateString:()=>Nx,PDFWorker:()=>Bc,PasswordResponses:()=>Gj,PermissionFlag:()=>Uj,PixelsPerInch:()=>Kr,RenderingCancelledException:()=>Rx,TextLayer:()=>Pd,TouchManager:()=>kg,UnexpectedResponseException:()=>Ng,Util:()=>dt,VerbosityLevel:()=>ly,XfaLayer:()=>DR,build:()=>mB,createValidAbsoluteUrl:()=>Kj,fetchData:()=>dy,getDocument:()=>rB,getFilenameFromUrl:()=>sI,getPdfFilenameFromUrl:()=>nI,getXfaPageViewport:()=>aI,isDataScheme:()=>fy,isPdfFile:()=>Dx,noContextMenu:()=>hn,normalizeUnicode:()=>tI,setLayerDimensions:()=>Ll,shadow:()=>Pt,stopEvent:()=>ys,version:()=>pB});const Ai=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),CM=[1,0,0,1,0,0],Cv=[.001,0,0,.001,0,0],Hj=1e7,Zb=1.35,ms={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},pr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Vj="pdfjs_internal_editor_",Ct={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Uj={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},di={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Wm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ie={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Zh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ly={ERRORS:0,WARNINGS:1,INFOS:5},Ks={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Gj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let cy=ly.WARNINGS;function qj(a){Number.isInteger(a)&&(cy=a)}function Xj(){return cy}function uy(a){cy>=ly.INFOS&&console.log(`Info: ${a}`)}function Mt(a){cy>=ly.WARNINGS&&console.log(`Warning: ${a}`)}function ae(a){throw new Error(a)}function Oe(a,t){a||ae(t)}function Yj(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Kj(a,t=null,e=null){if(!a)return null;try{if(e&&typeof a=="string"){if(e.addDefaultProtocol&&a.startsWith("www.")){const r=a.match(/\./g);(r==null?void 0:r.length)>=2&&(a=`http://${a}`)}if(e.tryConvertEncoding)try{a=Jj(a)}catch{}}const s=t?new URL(a,t):new URL(a);if(Yj(s))return s}catch{}return null}function Pt(a,t,e,s=!1){return Object.defineProperty(a,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Qr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class g_ extends Qr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Jb extends Qr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Mv extends Qr{constructor(t){super(t,"InvalidPDFException")}}class kd extends Qr{constructor(t){super(t,"MissingPDFException")}}class Ng extends Qr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class $j extends Qr{constructor(t){super(t,"FormatError")}}class Yr extends Qr{constructor(t){super(t,"AbortException")}}function MM(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&ae("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const s=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),c=a.subarray(r,l);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function hy(a){typeof a!="string"&&ae("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=a.charCodeAt(s)&255;return e}function Wj(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function Cx(a){const t=Object.create(null);for(const[e,s]of a)t[e]=s;return t}function Qj(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function Zj(){try{return new Function(""),!0}catch{return!1}}class Di{static get isLittleEndian(){return Pt(this,"isLittleEndian",Qj())}static get isEvalSupported(){return Pt(this,"isEvalSupported",Zj())}static get isOffscreenCanvasSupported(){return Pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Pt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Pt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Pt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Pt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const tv=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var ja,Qm,Rv;class dt{static makeHexColor(t,e,s){return`#${tv[t]}${tv[e]}${tv[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,l]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],l[0],c[0]),Math.min(s[1],r[1],l[1],c[1]),Math.max(s[0],r[0],l[0],c[0]),Math.max(s[1],r[1],l[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],u=(s+c)/2,f=Math.sqrt((s+c)**2-4*(s*c-l*r))/2,p=u+f||1,g=u-f||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[s,l,r,c]}static bezierBoundingBox(t,e,s,r,l,c,u,f,p){return p?(p[0]=Math.min(p[0],t,u),p[1]=Math.min(p[1],e,f),p[2]=Math.max(p[2],t,u),p[3]=Math.max(p[3],e,f)):p=[Math.min(t,u),Math.min(e,f),Math.max(t,u),Math.max(e,f)],_(this,ja,Rv).call(this,t,s,l,u,e,r,c,f,3*(-t+3*(s-l)+u),6*(t-2*s+l),3*(s-t),p),_(this,ja,Rv).call(this,t,s,l,u,e,r,c,f,3*(-e+3*(r-c)+f),6*(e-2*r+c),3*(r-e),p),p}}ja=new WeakSet,Qm=function(t,e,s,r,l,c,u,f,p,g){if(p<=0||p>=1)return;const b=1-p,v=p*p,A=v*p,S=b*(b*(b*t+3*p*e)+3*v*s)+A*r,E=b*(b*(b*l+3*p*c)+3*v*u)+A*f;g[0]=Math.min(g[0],S),g[1]=Math.min(g[1],E),g[2]=Math.max(g[2],S),g[3]=Math.max(g[3],E)},Rv=function(t,e,s,r,l,c,u,f,p,g,b,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&_(this,ja,Qm).call(this,t,e,s,r,l,c,u,f,-b/g,v);return}const A=g**2-4*b*p;if(A<0)return;const S=Math.sqrt(A),E=2*p;_(this,ja,Qm).call(this,t,e,s,r,l,c,u,f,(-g+S)/E,v),_(this,ja,Qm).call(this,t,e,s,r,l,c,u,f,(-g-S)/E,v)},T(dt,ja);function Jj(a){return decodeURIComponent(escape(a))}let ev=null,y_=null;function tI(a){return ev||(ev=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,y_=new Map([["ﬅ","ſt"]])),a.replaceAll(ev,(t,e,s)=>e?e.normalize("NFKC"):y_.get(s))}function eI(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),MM(a)}const Mx="pdfjs_internal_id_";function iI(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(MM(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});const aa="http://www.w3.org/2000/svg",So=class So{};gt(So,"CSS",96),gt(So,"PDF",72),gt(So,"PDF_TO_CSS_UNITS",So.CSS/So.PDF);let Kr=So;async function dy(a,t="text"){if(sd(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class mp{constructor({viewBox:t,userUnit:e,scale:s,rotation:r,offsetX:l=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=s,this.rotation=r,this.offsetX=l,this.offsetY=c,s*=e;const f=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,b,v,A;switch(r%=360,r<0&&(r+=360),r){case 180:g=-1,b=0,v=0,A=1;break;case 90:g=0,b=1,v=1,A=0;break;case 270:g=0,b=-1,v=-1,A=0;break;case 0:g=1,b=0,v=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,A=-A);let S,E,D,R;g===0?(S=Math.abs(p-t[1])*s+l,E=Math.abs(f-t[0])*s+c,D=(t[3]-t[1])*s,R=(t[2]-t[0])*s):(S=Math.abs(f-t[0])*s+l,E=Math.abs(p-t[1])*s+c,D=(t[2]-t[0])*s,R=(t[3]-t[1])*s),this.transform=[g*s,b*s,v*s,A*s,S-g*s*f-v*s*p,E-b*s*f-A*s*p],this.width=D,this.height=R}get rawDims(){const{userUnit:t,viewBox:e}=this,s=e.map(r=>r*t);return Pt(this,"rawDims",{pageWidth:s[2]-s[0],pageHeight:s[3]-s[1],pageX:s[0],pageY:s[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new mp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){return dt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=dt.applyTransform([t[0],t[1]],this.transform),s=dt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return dt.applyInverseTransform([t,e],this.transform)}}class Rx extends Qr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function fy(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function Dx(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function sI(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function nI(a,t="document.pdf"){if(typeof a!="string")return t;if(fy(a))return Mt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(a);let l=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=s.exec(decodeURIComponent(l))[0]}catch{}return l||t}class b_{constructor(){gt(this,"started",Object.create(null));gt(this,"times",[])}time(t){t in this.started&&Mt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Mt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:l}of this.times)t.push(`${s.padEnd(e)} ${l-r}ms
`);return t.join("")}}function sd(a,t){try{const{protocol:e}=t?new URL(a,t):new URL(a);return e==="http:"||e==="https:"}catch{return!1}}function hn(a){a.preventDefault()}function ys(a){a.preventDefault(),a.stopPropagation()}var Bd;class Nx{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,Bd)||x(this,Bd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,Bd).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,p==="-"?(c+=g,u+=b):p==="+"&&(c-=g,u-=b),new Date(Date.UTC(s,r,l,c,u,f))}}Bd=new WeakMap,T(Nx,Bd);function aI(a,{scale:t=1,rotation:e=0}){const{width:s,height:r}=a.attributes.style,l=[0,0,parseInt(s),parseInt(r)];return new mp({viewBox:l,userUnit:1,scale:t,rotation:e})}function Lx(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Mt(`Not a valid color format: "${a}"`),[0,0,0])}function rI(a){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of a.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;a.set(e,Lx(s))}t.remove()}function he(a){const{a:t,b:e,c:s,d:r,e:l,f:c}=a.getTransform();return[t,e,s,r,l,c]}function vn(a){const{a:t,b:e,c:s,d:r,e:l,f:c}=a.getTransform().invertSelf();return[t,e,s,r,l,c]}function Ll(a,t,e=!1,s=!0){if(t instanceof mp){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:c}=a,u=Di.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${l}px`,g=u?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,b=u?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!e||t.rotation%180===0?(c.width=g,c.height=b):(c.width=b,c.height=g)}s&&a.setAttribute("data-main-rotation",t.rotation)}class Dv{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var mr,_o,$s,Co,Fd,zd,Fg,RM,Ni,DM,NM,Zm,LM,Lv;const la=class la{constructor(t){T(this,Ni);T(this,mr,null);T(this,_o,null);T(this,$s);T(this,Co,null);T(this,Fd,null);x(this,$s,t),d(la,zd)||x(la,zd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=x(this,mr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,$s)._uiManager._signal;t.addEventListener("contextmenu",hn,{signal:e}),t.addEventListener("pointerdown",_(la,Fg,RM),{signal:e});const s=x(this,Co,document.createElement("div"));s.className="buttons",t.append(s);const r=d(this,$s).toolbarPosition;if(r){const{style:l}=t,c=d(this,$s)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,Ni,LM).call(this),t}get div(){return d(this,mr)}hide(){var t;d(this,mr).classList.add("hidden"),(t=d(this,_o))==null||t.hideDropdown()}show(){var t;d(this,mr).classList.remove("hidden"),(t=d(this,Fd))==null||t.shown()}async addAltText(t){const e=await t.render();_(this,Ni,Zm).call(this,e),d(this,Co).prepend(e,d(this,Ni,Lv)),x(this,Fd,t)}addColorPicker(t){x(this,_o,t);const e=t.renderButton();_(this,Ni,Zm).call(this,e),d(this,Co).prepend(e,d(this,Ni,Lv))}remove(){var t;d(this,mr).remove(),(t=d(this,_o))==null||t.destroy(),x(this,_o,null)}};mr=new WeakMap,_o=new WeakMap,$s=new WeakMap,Co=new WeakMap,Fd=new WeakMap,zd=new WeakMap,Fg=new WeakSet,RM=function(t){t.stopPropagation()},Ni=new WeakSet,DM=function(t){d(this,$s)._focusEventsAllowed=!1,ys(t)},NM=function(t){d(this,$s)._focusEventsAllowed=!0,ys(t)},Zm=function(t){const e=d(this,$s)._uiManager._signal;t.addEventListener("focusin",_(this,Ni,DM).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",_(this,Ni,NM).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",hn,{signal:e})},LM=function(){const{editorType:t,_uiManager:e}=d(this,$s),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",d(la,zd)[t]),_(this,Ni,Zm).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),d(this,Co).append(s)},Lv=function(){const t=document.createElement("div");return t.className="divider",t},T(la,Fg),T(la,zd,null);let Nv=la;var Hd,Mo,Ro,$r,OM,kM,PM;class oI{constructor(t){T(this,$r);T(this,Hd,null);T(this,Mo,null);T(this,Ro);x(this,Ro,t)}show(t,e,s){const[r,l]=_(this,$r,kM).call(this,e,s),{style:c}=d(this,Mo)||x(this,Mo,_(this,$r,OM).call(this));t.append(d(this,Mo)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,Mo).remove()}}Hd=new WeakMap,Mo=new WeakMap,Ro=new WeakMap,$r=new WeakSet,OM=function(){const t=x(this,Mo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",hn,{signal:d(this,Ro)._signal});const e=x(this,Hd,document.createElement("div"));return e.className="buttons",t.append(e),_(this,$r,PM).call(this),t},kM=function(t,e){let s=0,r=0;for(const l of t){const c=l.y+l.height;if(c<s)continue;const u=l.x+(e?l.width:0);if(c>s){r=u,s=c;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,s]},PM=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=d(this,Ro)._signal;t.addEventListener("contextmenu",hn,{signal:s}),t.addEventListener("click",()=>{d(this,Ro).highlightSelection("floating_button")},{signal:s}),d(this,Hd).append(t)};function Lg(a,t,e){for(const s of e)t.addEventListener(s,a[s].bind(a))}var zg;class lI{constructor(){T(this,zg,0)}get id(){return`${Vj}${wi(this,zg)._++}`}}zg=new WeakMap;var Fc,Vd,mi,zc,Jm;const Ix=class Ix{constructor(){T(this,zc);T(this,Fc,eI());T(this,Vd,0);T(this,mi,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Pt(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:l}=t;return _(this,zc,Jm).call(this,`${e}_${s}_${r}_${l}`,t)}async getFromUrl(t){return _(this,zc,Jm).call(this,t,t)}async getFromBlob(t,e){const s=await e;return _(this,zc,Jm).call(this,t,s)}async getFromId(t){d(this,mi)||x(this,mi,new Map);const e=d(this,mi).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,mi)||x(this,mi,new Map);let s=d(this,mi).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${d(this,Fc)}_${wi(this,Vd)._++}`,refCounter:1,isSvg:!1},d(this,mi).set(t,s),d(this,mi).set(s.id,s),s}getSvgUrl(t){const e=d(this,mi).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;d(this,mi)||x(this,mi,new Map);const e=d(this,mi).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(s.width,s.height);l.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=l.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,Fc)}_`)}};Fc=new WeakMap,Vd=new WeakMap,mi=new WeakMap,zc=new WeakSet,Jm=async function(t,e){d(this,mi)||x(this,mi,new Map);let s=d(this,mi).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${d(this,Fc)}_${wi(this,Vd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await dy(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=Ix._isSVGFittingCanvas,c=new FileReader,u=new Image,f=new Promise((p,g)=>{u.onload=()=>{s.bitmap=u,s.isSvg=!0,p()},c.onload=async()=>{const b=s.svgUrl=c.result;u.src=await l?`${b}#svgView(preserveAspectRatio(none))`:b},u.onerror=c.onerror=g});c.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){Mt(r),s=null}return d(this,mi).set(t,s),s&&d(this,mi).set(s.id,s),s};let Ov=Ix;var Te,gr,Ud,pe;class cI{constructor(t=128){T(this,Te,[]);T(this,gr,!1);T(this,Ud);T(this,pe,-1);x(this,Ud,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(r&&t(),d(this,gr))return;const f={cmd:t,undo:e,post:s,type:l};if(d(this,pe)===-1){d(this,Te).length>0&&(d(this,Te).length=0),x(this,pe,0),d(this,Te).push(f);return}if(c&&d(this,Te)[d(this,pe)].type===l){u&&(f.undo=d(this,Te)[d(this,pe)].undo),d(this,Te)[d(this,pe)]=f;return}const p=d(this,pe)+1;p===d(this,Ud)?d(this,Te).splice(0,1):(x(this,pe,p),p<d(this,Te).length&&d(this,Te).splice(p)),d(this,Te).push(f)}undo(){if(d(this,pe)===-1)return;x(this,gr,!0);const{undo:t,post:e}=d(this,Te)[d(this,pe)];t(),e==null||e(),x(this,gr,!1),x(this,pe,d(this,pe)-1)}redo(){if(d(this,pe)<d(this,Te).length-1){x(this,pe,d(this,pe)+1),x(this,gr,!0);const{cmd:t,post:e}=d(this,Te)[d(this,pe)];t(),e==null||e(),x(this,gr,!1)}}hasSomethingToUndo(){return d(this,pe)!==-1}hasSomethingToRedo(){return d(this,pe)<d(this,Te).length-1}cleanType(t){if(d(this,pe)!==-1){for(let e=d(this,pe);e>=0;e--)if(d(this,Te)[e].type!==t){d(this,Te).splice(e+1,d(this,pe)-e),x(this,pe,e);return}d(this,Te).length=0,x(this,pe,-1)}}destroy(){x(this,Te,null)}}Te=new WeakMap,gr=new WeakMap,Ud=new WeakMap,pe=new WeakMap;var Hg,jM;class gp{constructor(t){T(this,Hg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Di.platform;for(const[s,r,l={}]of t)for(const c of s){const u=c.startsWith("mac+");e&&u?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!u&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(_(this,Hg,jM).call(this,e));if(!s)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:u=null}}=s;u&&!u(t,e)||(r.bind(t,...c,e)(),l||ys(e))}}Hg=new WeakSet,jM=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Vg=class Vg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return rI(t),Pt(this,"_colors",t)}convert(t){const e=Lx(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((l,c)=>l===e[c]))return Vg._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?dt.makeHexColor(...e):t}};gt(Vg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let kv=Vg;var Hc,ss,Fe,ii,Vc,ua,Uc,Ls,yr,Do,Gc,No,Sn,Ws,Lo,Gd,qd,qc,Xd,wn,br,Xc,vr,En,Ug,Ar,Yd,xr,Oo,Kd,$d,Xe,Wt,ha,ko,Wd,Qd,Sr,Tn,da,Zd,Os,it,tg,Pv,IM,BM,eg,FM,zM,HM,jv,VM,Iv,Bv,UM,Ei,ra,GM,qM,Fv,XM,nd,zv;const Pc=class Pc{constructor(t,e,s,r,l,c,u,f,p,g,b,v,A){T(this,it);T(this,Hc,new AbortController);T(this,ss,null);T(this,Fe,new Map);T(this,ii,new Map);T(this,Vc,null);T(this,ua,null);T(this,Uc,null);T(this,Ls,new cI);T(this,yr,null);T(this,Do,null);T(this,Gc,0);T(this,No,new Set);T(this,Sn,null);T(this,Ws,null);T(this,Lo,new Set);gt(this,"_editorUndoBar",null);T(this,Gd,!1);T(this,qd,!1);T(this,qc,!1);T(this,Xd,null);T(this,wn,null);T(this,br,null);T(this,Xc,null);T(this,vr,!1);T(this,En,null);T(this,Ug,new lI);T(this,Ar,!1);T(this,Yd,!1);T(this,xr,null);T(this,Oo,null);T(this,Kd,null);T(this,$d,null);T(this,Xe,Ct.NONE);T(this,Wt,new Set);T(this,ha,null);T(this,ko,null);T(this,Wd,null);T(this,Qd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,Sr,[0,0]);T(this,Tn,null);T(this,da,null);T(this,Zd,null);T(this,Os,null);const S=this._signal=d(this,Hc).signal;x(this,da,t),x(this,Zd,e),x(this,Vc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:S}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),r._on("setpreference",this.onSetPreference.bind(this),{signal:S}),r._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:S}),_(this,it,FM).call(this),_(this,it,UM).call(this),_(this,it,jv).call(this),x(this,ua,l.annotationStorage),x(this,Xd,l.filterFactory),x(this,ko,c),x(this,Xc,u||null),x(this,Gd,f),x(this,qd,p),x(this,qc,g),x(this,$d,b||null),this.viewParameters={realScale:Kr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=A!==!1}static get _keyboardManager(){const t=Pc.prototype,e=c=>d(c,da).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:f}=u;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new gp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&d(c,da).contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&d(c,da).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,s,r,l;(t=d(this,Os))==null||t.resolve(),x(this,Os,null),(e=d(this,Hc))==null||e.abort(),x(this,Hc,null),this._signal=null;for(const c of d(this,ii).values())c.destroy();d(this,ii).clear(),d(this,Fe).clear(),d(this,Lo).clear(),x(this,ss,null),d(this,Wt).clear(),d(this,Ls).destroy(),(s=d(this,Vc))==null||s.destroy(),(r=d(this,En))==null||r.hide(),x(this,En,null),d(this,wn)&&(clearTimeout(d(this,wn)),x(this,wn,null)),d(this,Tn)&&(clearTimeout(d(this,Tn)),x(this,Tn,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,$d)}get useNewAltTextFlow(){return d(this,qd)}get useNewAltTextWhenAddingImage(){return d(this,qc)}get hcmFilter(){return Pt(this,"hcmFilter",d(this,ko)?d(this,Xd).addHCMFilter(d(this,ko).foreground,d(this,ko).background):"none")}get direction(){return Pt(this,"direction",getComputedStyle(d(this,da)).direction)}get highlightColors(){return Pt(this,"highlightColors",d(this,Xc)?new Map(d(this,Xc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Pt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),x(this,Do,t)}setMainHighlightColorPicker(t){x(this,Kd,t)}editAltText(t,e=!1){var s;(s=d(this,Vc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":x(this,qc,e);break}}onPageChanging({pageNumber:t}){x(this,Gc,t-1)}focusMainContainer(){d(this,da).focus()}findParent(t,e){for(const s of d(this,ii).values()){const{x:r,y:l,width:c,height:u}=s.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=l&&e<=l+u)return s}return null}disableUserSelect(t=!1){d(this,Zd).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,Lo).add(t)}removeShouldRescale(t){d(this,Lo).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Kr.PDF_TO_CSS_UNITS;for(const s of d(this,Lo))s.onScaleChanging();(e=d(this,Do))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:c}=e,u=e.toString(),p=_(this,it,tg).call(this,e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const b=_(this,it,Pv).call(this,p),v=d(this,Xe)===Ct.NONE,A=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:c,text:u}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Ct.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,ua)&&!d(this,ua).has(t.id)&&d(this,ua).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,vr)&&(x(this,vr,!1),_(this,it,eg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,Wt))if(e.div.contains(t)){x(this,Oo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,Oo))return;const[t,e]=d(this,Oo);x(this,Oo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){_(this,it,jv).call(this),_(this,it,Iv).call(this)}removeEditListeners(){_(this,it,VM).call(this),_(this,it,Bv).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of d(this,Ws))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of d(this,Ws))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=d(this,ss))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of d(this,Wt)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of d(this,Ws))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){Mt(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of s){const p=await r.deserialize(f);if(!p)return;l.push(p)}const c=()=>{for(const f of l)_(this,it,Fv).call(this,f);_(this,it,zv).call(this,l)},u=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(l){Mt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,Xe)!==Ct.NONE&&!this.isEditorHandlingKeyboard&&Pc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,vr)&&(x(this,vr,!1),_(this,it,eg).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(_(this,it,zM).call(this),_(this,it,Iv).call(this),_(this,it,Ei).call(this,{isEditing:d(this,Xe)!==Ct.NONE,isEmpty:_(this,it,nd).call(this),hasSomethingToUndo:d(this,Ls).hasSomethingToUndo(),hasSomethingToRedo:d(this,Ls).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,it,HM).call(this),_(this,it,Bv).call(this),_(this,it,Ei).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,Ws)){x(this,Ws,t);for(const e of d(this,Ws))_(this,it,ra).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,Ug).id}get currentLayer(){return d(this,ii).get(d(this,Gc))}getLayer(t){return d(this,ii).get(t)}get currentPageIndex(){return d(this,Gc)}addLayer(t){d(this,ii).set(t.pageIndex,t),d(this,Ar)?t.enable():t.disable()}removeLayer(t){d(this,ii).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){var r;if(d(this,Xe)!==t&&!(d(this,Os)&&(await d(this,Os).promise,!d(this,Os)))){if(x(this,Os,Promise.withResolvers()),x(this,Xe,t),t===Ct.NONE){this.setEditingState(!1),_(this,it,qM).call(this),(r=this._editorUndoBar)==null||r.hide(),d(this,Os).resolve();return}this.setEditingState(!0),await _(this,it,GM).call(this),this.unselectAll();for(const l of d(this,ii).values())l.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),d(this,Os).resolve();return}for(const l of d(this,Fe).values())l.annotationElementId===e?(this.setSelected(l),l.enterInEditMode()):l.unselect();d(this,Os).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,Xe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(d(this,Ws)){switch(t){case Bt.CREATE:this.currentLayer.addNewEditor();return;case Bt.HIGHLIGHT_DEFAULT_COLOR:(s=d(this,Kd))==null||s.updateColor(e);break;case Bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,Wd)||x(this,Wd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of d(this,Wt))r.updateParams(t,e);for(const r of d(this,Ws))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var l;for(const c of d(this,Fe).values())c.editorType===t&&c.show(e);(((l=d(this,Wd))==null?void 0:l.get(Bt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&_(this,it,ra).call(this,[[Bt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,Yd)!==t){x(this,Yd,t);for(const e of d(this,ii).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of d(this,Fe).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return d(this,Fe).get(t)}addEditor(t){d(this,Fe).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(d(this,wn)&&clearTimeout(d(this,wn)),x(this,wn,setTimeout(()=>{this.focusMainContainer(),x(this,wn,null)},0))),d(this,Fe).delete(t.id),this.unselect(t),(!t.annotationElementId||!d(this,No).has(t.annotationElementId))&&((e=d(this,ua))==null||e.remove(t.id))}addDeletedAnnotationElement(t){d(this,No).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,No).has(t)}removeDeletedAnnotationElement(t){d(this,No).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,ss)!==t&&(x(this,ss,t),t&&_(this,it,ra).call(this,t.propertiesToUpdate))}updateUI(t){d(this,it,XM)===t&&_(this,it,ra).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){_(this,it,ra).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(d(this,Wt).has(t)){d(this,Wt).delete(t),t.unselect(),_(this,it,Ei).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,Wt).add(t),t.select(),_(this,it,ra).call(this,t.propertiesToUpdate),_(this,it,Ei).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=d(this,Do))==null||e.commitOrRemove();for(const s of d(this,Wt))s!==t&&s.unselect();d(this,Wt).clear(),d(this,Wt).add(t),t.select(),_(this,it,ra).call(this,t.propertiesToUpdate),_(this,it,Ei).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,Wt).has(t)}get firstSelectedEditor(){return d(this,Wt).values().next().value}unselect(t){t.unselect(),d(this,Wt).delete(t),_(this,it,Ei).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,Wt).size!==0}get isEnterHandled(){return d(this,Wt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;d(this,Ls).undo(),_(this,it,Ei).call(this,{hasSomethingToUndo:d(this,Ls).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,it,nd).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){d(this,Ls).redo(),_(this,it,Ei).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Ls).hasSomethingToRedo(),isEmpty:_(this,it,nd).call(this)})}addCommands(t){d(this,Ls).add(t),_(this,it,Ei).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,it,nd).call(this)})}cleanUndoStack(t){d(this,Ls).cleanType(t)}delete(){var l;this.commitOrRemove();const t=(l=this.currentLayer)==null?void 0:l.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...d(this,Wt)],s=()=>{var c;(c=this._editorUndoBar)==null||c.show(r,e.length===1?e[0].editorType:e.length);for(const u of e)u.remove()},r=()=>{for(const c of e)_(this,it,Fv).call(this,c)};this.addCommands({cmd:s,undo:r,mustExec:!0})}commitOrRemove(){var t;(t=d(this,ss))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,ss)||this.hasSelection}selectAll(){for(const t of d(this,Wt))t.commit();_(this,it,zv).call(this,d(this,Fe).values())}unselectAll(){var t;if(!(d(this,ss)&&(d(this,ss).commitOrRemove(),d(this,Xe)!==Ct.NONE))&&!((t=d(this,Do))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of d(this,Wt))e.unselect();d(this,Wt).clear(),_(this,it,Ei).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;d(this,Sr)[0]+=t,d(this,Sr)[1]+=e;const[r,l]=d(this,Sr),c=[...d(this,Wt)],u=1e3;d(this,Tn)&&clearTimeout(d(this,Tn)),x(this,Tn,setTimeout(()=>{x(this,Tn,null),d(this,Sr)[0]=d(this,Sr)[1]=0,this.addCommands({cmd:()=>{for(const f of c)d(this,Fe).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of c)d(this,Fe).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},u));for(const f of c)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(this,Sn,new Map);for(const t of d(this,Wt))d(this,Sn).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,Sn))return!1;this.disableUserSelect(!1);const t=d(this,Sn);x(this,Sn,null);let e=!1;for(const[{x:r,y:l,pageIndex:c},u]of t)u.newX=r,u.newY=l,u.newPageIndex=c,e||(e=r!==u.savedX||l!==u.savedY||c!==u.savedPageIndex);if(!e)return!1;const s=(r,l,c,u)=>{if(d(this,Fe).has(r.id)){const f=d(this,ii).get(u);f?r._setParentAndPosition(f,l,c):(r.pageIndex=u,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:u}]of t)s(r,l,c,u)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:u}]of t)s(r,l,c,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,Sn))for(const s of d(this,Sn).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,Wt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,ss)===t}getActive(){return d(this,ss)}getMode(){return d(this,Xe)}get imageManager(){return Pt(this,"imageManager",new Ov)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:r,width:l,height:c}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(p,g,b,v)=>({x:(g-r)/c,y:1-(p+b-s)/l,width:v/c,height:b/l});break;case"180":u=(p,g,b,v)=>({x:1-(p+b-s)/l,y:1-(g+v-r)/c,width:b/l,height:v/c});break;case"270":u=(p,g,b,v)=>({x:1-(g+v-r)/c,y:(p-s)/l,width:v/c,height:b/l});break;default:u=(p,g,b,v)=>({x:(p-s)/l,y:(g-r)/c,width:b/l,height:v/c});break}const f=[];for(let p=0,g=e.rangeCount;p<g;p++){const b=e.getRangeAt(p);if(!b.collapsed)for(const{x:v,y:A,width:S,height:E}of b.getClientRects())S===0||E===0||f.push(u(v,A,S,E))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,Uc)||x(this,Uc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,Uc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=d(this,Uc))==null?void 0:r.get(t.data.id);if(!e)return;const s=d(this,ua).getRawValue(e);s&&(d(this,Xe)===Ct.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};Hc=new WeakMap,ss=new WeakMap,Fe=new WeakMap,ii=new WeakMap,Vc=new WeakMap,ua=new WeakMap,Uc=new WeakMap,Ls=new WeakMap,yr=new WeakMap,Do=new WeakMap,Gc=new WeakMap,No=new WeakMap,Sn=new WeakMap,Ws=new WeakMap,Lo=new WeakMap,Gd=new WeakMap,qd=new WeakMap,qc=new WeakMap,Xd=new WeakMap,wn=new WeakMap,br=new WeakMap,Xc=new WeakMap,vr=new WeakMap,En=new WeakMap,Ug=new WeakMap,Ar=new WeakMap,Yd=new WeakMap,xr=new WeakMap,Oo=new WeakMap,Kd=new WeakMap,$d=new WeakMap,Xe=new WeakMap,Wt=new WeakMap,ha=new WeakMap,ko=new WeakMap,Wd=new WeakMap,Qd=new WeakMap,Sr=new WeakMap,Tn=new WeakMap,da=new WeakMap,Zd=new WeakMap,Os=new WeakMap,it=new WeakSet,tg=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Pv=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of d(this,ii).values())if(s.hasTextLayer(t))return s;return null},IM=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=_(this,it,tg).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(d(this,En)||x(this,En,new oI(this)),d(this,En).show(s,r,this.direction==="ltr"))},BM=function(){var l,c,u;const t=document.getSelection();if(!t||t.isCollapsed){d(this,ha)&&((l=d(this,En))==null||l.hide(),x(this,ha,null),_(this,it,Ei).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,ha))return;const r=_(this,it,tg).call(this,t).closest(".textLayer");if(!r){d(this,ha)&&((c=d(this,En))==null||c.hide(),x(this,ha,null),_(this,it,Ei).call(this,{hasSelectedText:!1}));return}if((u=d(this,En))==null||u.hide(),x(this,ha,e),_(this,it,Ei).call(this,{hasSelectedText:!0}),!(d(this,Xe)!==Ct.HIGHLIGHT&&d(this,Xe)!==Ct.NONE)&&(d(this,Xe)===Ct.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(this,vr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=d(this,Xe)===Ct.HIGHLIGHT?_(this,it,Pv).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),b=v=>{v.type==="pointerup"&&v.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),v.type==="pointerup"&&_(this,it,eg).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:g}),window.addEventListener("blur",b,{signal:g})}},eg=function(t=""){d(this,Xe)===Ct.HIGHLIGHT?this.highlightSelection(t):d(this,Gd)&&_(this,it,IM).call(this)},FM=function(){document.addEventListener("selectionchange",_(this,it,BM).bind(this),{signal:this._signal})},zM=function(){if(d(this,br))return;x(this,br,new AbortController);const t=this.combinedSignal(d(this,br));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},HM=function(){var t;(t=d(this,br))==null||t.abort(),x(this,br,null)},jv=function(){if(d(this,xr))return;x(this,xr,new AbortController);const t=this.combinedSignal(d(this,xr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},VM=function(){var t;(t=d(this,xr))==null||t.abort(),x(this,xr,null)},Iv=function(){if(d(this,yr))return;x(this,yr,new AbortController);const t=this.combinedSignal(d(this,yr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Bv=function(){var t;(t=d(this,yr))==null||t.abort(),x(this,yr,null)},UM=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Ei=function(t){Object.entries(t).some(([s,r])=>d(this,Qd)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Qd),t)}),d(this,Xe)===Ct.HIGHLIGHT&&t.hasSelectedEditor===!1&&_(this,it,ra).call(this,[[Bt.HIGHLIGHT_FREE,!0]]))},ra=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},GM=async function(){if(!d(this,Ar)){x(this,Ar,!0);const t=[];for(const e of d(this,ii).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,Fe).values())e.enable()}},qM=function(){if(this.unselectAll(),d(this,Ar)){x(this,Ar,!1);for(const t of d(this,ii).values())t.disable();for(const t of d(this,Fe).values())t.disable()}},Fv=function(t){const e=d(this,ii).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},XM=function(){let t=null;for(t of d(this,Wt));return t},nd=function(){if(d(this,Fe).size===0)return!0;if(d(this,Fe).size===1)for(const t of d(this,Fe).values())return t.isEmpty();return!1},zv=function(t){for(const e of d(this,Wt))e.unselect();d(this,Wt).clear();for(const e of t)e.isEmpty()||(d(this,Wt).add(e),e.select());_(this,it,Ei).call(this,{hasSelectedEditor:this.hasSelection})},gt(Pc,"TRANSLATE_SMALL",1),gt(Pc,"TRANSLATE_BIG",10);let Ol=Pc;var Ye,_n,Qs,Yc,Cn,ns,Kc,Mn,Hi,fa,Po,Rn,wr,cn,ad,ig;const Ti=class Ti{constructor(t){T(this,cn);T(this,Ye,null);T(this,_n,!1);T(this,Qs,null);T(this,Yc,null);T(this,Cn,null);T(this,ns,null);T(this,Kc,!1);T(this,Mn,null);T(this,Hi,null);T(this,fa,null);T(this,Po,null);T(this,Rn,!1);x(this,Hi,t),x(this,Rn,t._uiManager.useNewAltTextFlow),d(Ti,wr)||x(Ti,wr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ti._l10n??(Ti._l10n=t)}async render(){const t=x(this,Qs,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=x(this,Yc,document.createElement("span"));t.append(e),d(this,Rn)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(Ti,wr).missing),e.setAttribute("data-l10n-id",d(Ti,wr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=d(this,Hi)._uiManager._signal;t.addEventListener("contextmenu",hn,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const r=l=>{l.preventDefault(),d(this,Hi)._uiManager.editAltText(d(this,Hi)),d(this,Rn)&&d(this,Hi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,cn,ad)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(x(this,Kc,!0),r(l))},{signal:s}),await _(this,cn,ig).call(this),t}finish(){d(this,Qs)&&(d(this,Qs).focus({focusVisible:d(this,Kc)}),x(this,Kc,!1))}isEmpty(){return d(this,Rn)?d(this,Ye)===null:!d(this,Ye)&&!d(this,_n)}hasData(){return d(this,Rn)?d(this,Ye)!==null||!!d(this,fa):this.isEmpty()}get guessedText(){return d(this,fa)}async setGuessedText(t){d(this,Ye)===null&&(x(this,fa,t),x(this,Po,await Ti._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),_(this,cn,ig).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,Rn)||d(this,Ye)){(e=d(this,Mn))==null||e.remove(),x(this,Mn,null);return}if(!d(this,Mn)){const s=x(this,Mn,document.createElement("div"));s.className="noAltTextBadge",d(this,Hi).div.append(s)}d(this,Mn).classList.toggle("hidden",!t)}serialize(t){let e=d(this,Ye);return!t&&d(this,fa)===e&&(e=d(this,Po)),{altText:e,decorative:d(this,_n),guessedText:d(this,fa),textWithDisclaimer:d(this,Po)}}get data(){return{altText:d(this,Ye),decorative:d(this,_n)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:l=!1}){s&&(x(this,fa,s),x(this,Po,r)),!(d(this,Ye)===t&&d(this,_n)===e)&&(l||(x(this,Ye,t),x(this,_n,e)),_(this,cn,ig).call(this))}toggle(t=!1){d(this,Qs)&&(!t&&d(this,ns)&&(clearTimeout(d(this,ns)),x(this,ns,null)),d(this,Qs).disabled=!t)}shown(){d(this,Hi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,cn,ad)}})}destroy(){var t,e;(t=d(this,Qs))==null||t.remove(),x(this,Qs,null),x(this,Yc,null),x(this,Cn,null),(e=d(this,Mn))==null||e.remove(),x(this,Mn,null)}};Ye=new WeakMap,_n=new WeakMap,Qs=new WeakMap,Yc=new WeakMap,Cn=new WeakMap,ns=new WeakMap,Kc=new WeakMap,Mn=new WeakMap,Hi=new WeakMap,fa=new WeakMap,Po=new WeakMap,Rn=new WeakMap,wr=new WeakMap,cn=new WeakSet,ad=function(){return d(this,Ye)&&"added"||d(this,Ye)===null&&this.guessedText&&"review"||"missing"},ig=async function(){var r,l,c;const t=d(this,Qs);if(!t)return;if(d(this,Rn)){if(t.classList.toggle("done",!!d(this,Ye)),t.setAttribute("data-l10n-id",d(Ti,wr)[d(this,cn,ad)]),(r=d(this,Yc))==null||r.setAttribute("data-l10n-id",d(Ti,wr)[`${d(this,cn,ad)}-label`]),!d(this,Ye)){(l=d(this,Cn))==null||l.remove();return}}else{if(!d(this,Ye)&&!d(this,_n)){t.classList.remove("done"),(c=d(this,Cn))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,Cn);if(!e){x(this,Cn,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,Hi).id}`;const u=100,f=d(this,Hi)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(d(this,ns)),x(this,ns,null)},{once:!0}),t.addEventListener("mouseenter",()=>{x(this,ns,setTimeout(()=>{x(this,ns,null),d(this,Cn).classList.add("show"),d(this,Hi)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:f}),t.addEventListener("mouseleave",()=>{var p;d(this,ns)&&(clearTimeout(d(this,ns)),x(this,ns,null)),(p=d(this,Cn))==null||p.classList.remove("show")},{signal:f})}d(this,_n)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,Ye)),e.parentNode||t.append(e);const s=d(this,Hi).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},T(Ti,wr,null),gt(Ti,"_l10n",null);let Og=Ti;var Jd,jo,tf,ef,sf,nf,af,$c,pa,Io,Er,Fa,YM,KM,Hv;const Bx=class Bx{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:s=null,onPinchStart:r=null,onPinching:l=null,onPinchEnd:c=null,signal:u}){T(this,Fa);T(this,Jd);T(this,jo,!1);T(this,tf,null);T(this,ef);T(this,sf);T(this,nf);T(this,af);T(this,$c);T(this,pa,null);T(this,Io);T(this,Er,null);x(this,Jd,t),x(this,tf,s),x(this,ef,e),x(this,sf,r),x(this,nf,l),x(this,af,c),x(this,Io,new AbortController),x(this,$c,AbortSignal.any([u,d(this,Io).signal])),t.addEventListener("touchstart",_(this,Fa,YM).bind(this),{passive:!1,signal:d(this,$c)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Pt(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var t;(t=d(this,Io))==null||t.abort(),x(this,Io,null)}};Jd=new WeakMap,jo=new WeakMap,tf=new WeakMap,ef=new WeakMap,sf=new WeakMap,nf=new WeakMap,af=new WeakMap,$c=new WeakMap,pa=new WeakMap,Io=new WeakMap,Er=new WeakMap,Fa=new WeakSet,YM=function(t){var r,l,c;if((r=d(this,ef))!=null&&r.call(this)||t.touches.length<2)return;if(!d(this,Er)){x(this,Er,new AbortController);const u=AbortSignal.any([d(this,$c),d(this,Er).signal]),f=d(this,Jd),p={signal:u,passive:!1};f.addEventListener("touchmove",_(this,Fa,KM).bind(this),p),f.addEventListener("touchend",_(this,Fa,Hv).bind(this),p),f.addEventListener("touchcancel",_(this,Fa,Hv).bind(this),p),(l=d(this,sf))==null||l.call(this)}if(ys(t),t.touches.length!==2||(c=d(this,tf))!=null&&c.call(this)){x(this,pa,null);return}let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]),x(this,pa,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:s.screenX,touch1Y:s.screenY})},KM=function(t){var j;if(!d(this,pa)||t.touches.length!==2)return;let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]);const{screenX:r,screenY:l}=e,{screenX:c,screenY:u}=s,f=d(this,pa),{touch0X:p,touch0Y:g,touch1X:b,touch1Y:v}=f,A=b-p,S=v-g,E=c-r,D=u-l,R=Math.hypot(E,D)||1,L=Math.hypot(A,S)||1;if(!d(this,jo)&&Math.abs(L-R)<=Bx.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(f.touch0X=r,f.touch0Y=l,f.touch1X=c,f.touch1Y=u,t.preventDefault(),!d(this,jo)){x(this,jo,!0);return}const N=[(r+c)/2,(l+u)/2];(j=d(this,nf))==null||j.call(this,N,L,R)},Hv=function(t){var e;d(this,Er).abort(),x(this,Er,null),(e=d(this,af))==null||e.call(this),d(this,pa)&&(t.preventDefault(),x(this,pa,null),x(this,jo,!1))};let kg=Bx;var Bo,Zs,le,Wc,Tr,rf,Fo,si,zo,ma,_r,of,Ho,as,lf,Vo,ga,Dn,Qc,Zc,ks,Uo,cf,Gg,yt,Vv,uf,Uv,sg,$M,WM,Gv,ng,qv,QM,ZM,JM,Xv,tR,Yv,eR,iR,sR,Kv,rd;const Rt=class Rt{constructor(t){T(this,yt);T(this,Bo,null);T(this,Zs,null);T(this,le,null);T(this,Wc,!1);T(this,Tr,null);T(this,rf,"");T(this,Fo,!1);T(this,si,null);T(this,zo,null);T(this,ma,null);T(this,_r,null);T(this,of,"");T(this,Ho,!1);T(this,as,null);T(this,lf,!1);T(this,Vo,!1);T(this,ga,!1);T(this,Dn,null);T(this,Qc,0);T(this,Zc,0);T(this,ks,null);T(this,Uo,null);gt(this,"_editToolbar",null);gt(this,"_initialOptions",Object.create(null));gt(this,"_initialData",null);gt(this,"_isVisible",!0);gt(this,"_uiManager",null);gt(this,"_focusEventsAllowed",!0);T(this,cf,!1);T(this,Gg,Rt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[l,c];const[u,f]=this.parentDimensions;this.x=t.x/u,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Rt.prototype._resizeWithKeyboard,e=Ol.TRANSLATE_SMALL,s=Ol.TRANSLATE_BIG;return Pt(this,"_resizerKeyboardManager",new gp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],Rt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Pt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new uI({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Rt._l10n??(Rt._l10n=t),Rt._l10nResizer||(Rt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Rt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Rt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ae("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,cf)}set _isDraggable(t){var e;x(this,cf,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,Gg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):_(this,yt,rd).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,Ho)?x(this,Ho,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[l,c]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/l,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){_(this,yt,Vv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,as)||x(this,as,[this.x,this.y,this.width,this.height]),_(this,yt,Vv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){d(this,as)||x(this,as,[this.x,this.y,this.width,this.height]);const{div:s,parentDimensions:[r,l]}=this;if(this.x+=t/r,this.y+=e/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:b,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,b,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[f,p]=this.getBaseTranslation();c+=f,u+=p;const{style:g}=s;g.left=`${(100*c).toFixed(2)}%`,g.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),s.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!d(this,as)&&(d(this,as)[0]!==this.x||d(this,as)[1]!==this.y)}get _hasBeenResized(){return!!d(this,as)&&(d(this,as)[2]!==this.width||d(this,as)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=Rt,r=s/t,l=s/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[s,r]}=this;let{x:l,y:c,width:u,height:f}=this;if(u*=s,f*=r,l*=s,c*=r,this._mustFixPosition)switch(t){case 0:l=Math.max(0,Math.min(s-u,l)),c=Math.max(0,Math.min(r-f,c));break;case 90:l=Math.max(0,Math.min(s-f,l)),c=Math.min(r,Math.max(u,c));break;case 180:l=Math.min(s,Math.max(u,l)),c=Math.min(r,Math.max(f,c));break;case 270:l=Math.min(s,Math.max(f,l)),c=Math.max(0,Math.min(r-u,c));break}this.x=l/=s,this.y=c/=r;const[p,g]=this.getBaseTranslation();l+=p,c+=g,e.left=`${(100*l).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return _(s=Rt,uf,Uv).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return _(s=Rt,uf,Uv).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*t/s).toFixed(2)}%`,d(this,Fo)||(l.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),l=!d(this,Fo)&&e.endsWith("%");if(r&&l)return;const[c,u]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!d(this,Fo)&&!l&&(t.height=`${(100*parseFloat(e)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=d(this,le))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,Vo)?this._editToolbar:(this._editToolbar=new Nv(this),this.div.append(this._editToolbar.render()),d(this,le)&&await this._editToolbar.addAltText(d(this,le)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,le))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,le)||(Og.initialize(Rt._l10n),x(this,le,new Og(this)),d(this,Bo)&&(d(this,le).data=d(this,Bo),x(this,Bo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,le))==null?void 0:t.data}set altTextData(t){d(this,le)&&(d(this,le).data=t)}get guessedAltText(){var t;return(t=d(this,le))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,le))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,le))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,le)&&!d(this,le).isEmpty()}hasAltTextData(){var t;return((t=d(this,le))==null?void 0:t.hasData())??!1}render(){var l;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,Wc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),_(this,yt,Yv).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Lg(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,Uo)||x(this,Uo,new kg({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:_(this,yt,QM).bind(this),onPinching:_(this,yt,ZM).bind(this),onPinchEnd:_(this,yt,JM).bind(this),signal:this._uiManager._signal}))),(l=this._uiManager._editorUndoBar)==null||l.hide(),this.div}pointerdown(t){const{isMac:e}=Di.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(x(this,Ho,!0),this._isDraggable){_(this,yt,tR).call(this,t);return}_(this,yt,Xv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,Dn)&&clearTimeout(d(this,Dn)),x(this,Dn,setTimeout(()=>{var t;x(this,Dn,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,s=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[u,f]=this.pageTranslation,p=t/r,g=e/r,b=this.x*l,v=this.y*c,A=this.width*l,S=this.height*c;switch(s){case 0:return[b+p+u,c-v-g-S+f,b+p+A+u,c-v-g+f];case 90:return[b+g+u,c-v+p+f,b+g+S+u,c-v+p+A+f];case 180:return[b-p-A+u,c-v+g+f,b-p+u,c-v+g+S+f];case 270:return[b-g-S+u,c-v-p-A+f,b-g+u,c-v-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,l,c]=t,u=l-s,f=c-r;switch(this.rotation){case 0:return[s,e-c,u,f];case 90:return[s,e-r,f,u];case 180:return[l,e-r,u,f];case 270:return[l,e-c,f,u];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){x(this,Vo,!0)}disableEditMode(){x(this,Vo,!1)}isInEditMode(){return d(this,Vo)}shouldGetKeyboardEvents(){return d(this,ga)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:s,right:r}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return e<c&&r>0&&t<l&&s>0}rebuild(){_(this,yt,Yv).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ae("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,x(r,Bo,t.accessibilityData);const[l,c]=r.pageDimensions,[u,f,p,g]=r.getRectInCurrentCoords(t.rect,c);return r.x=u/l,r.y=f/c,r.width=p/l,r.height=g/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=d(this,_r))==null||t.abort(),x(this,_r,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,Dn)&&(clearTimeout(d(this,Dn)),x(this,Dn,null)),_(this,yt,rd).call(this),this.removeEditToolbar(),d(this,ks)){for(const s of d(this,ks).values())clearTimeout(s);x(this,ks,null)}this.parent=null,(e=d(this,Uo))==null||e.destroy(),x(this,Uo,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,yt,$M).call(this),d(this,si).classList.remove("hidden"),Lg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),x(this,ma,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,si).children;if(!d(this,Zs)){x(this,Zs,Array.from(e));const c=_(this,yt,eR).bind(this),u=_(this,yt,iR).bind(this),f=this._uiManager._signal;for(const p of d(this,Zs)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",u,{signal:f}),p.addEventListener("focus",_(this,yt,sR).bind(this,g),{signal:f}),p.setAttribute("data-l10n-id",Rt._l10nResizer[g])}}const s=d(this,Zs)[0];let r=0;for(const c of e){if(c===s)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(d(this,Zs).length/4);if(l!==r){if(l<r)for(let u=0;u<r-l;u++)d(this,si).append(d(this,si).firstChild);else if(l>r)for(let u=0;u<l-r;u++)d(this,si).firstChild.before(d(this,si).lastChild);let c=0;for(const u of e){const p=d(this,Zs)[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Rt._l10nResizer[p])}}_(this,yt,Kv).call(this,0),x(this,ga,!0),d(this,si).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,ga)&&_(this,yt,qv).call(this,d(this,of),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){_(this,yt,rd).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(s=d(this,le))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,l;(t=d(this,si))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=d(this,le))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,lf)}set isEditing(t){x(this,lf,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){x(this,Fo,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,ks)||x(this,ks,new Map);const{action:s}=t;let r=d(this,ks).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),d(this,ks).delete(s),d(this,ks).size===0&&x(this,ks,null)},Rt._telemetryTimeout),d(this,ks).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),x(this,Wc,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(this,Wc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Bo=new WeakMap,Zs=new WeakMap,le=new WeakMap,Wc=new WeakMap,Tr=new WeakMap,rf=new WeakMap,Fo=new WeakMap,si=new WeakMap,zo=new WeakMap,ma=new WeakMap,_r=new WeakMap,of=new WeakMap,Ho=new WeakMap,as=new WeakMap,lf=new WeakMap,Vo=new WeakMap,ga=new WeakMap,Dn=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,ks=new WeakMap,Uo=new WeakMap,cf=new WeakMap,Gg=new WeakMap,yt=new WeakSet,Vv=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},uf=new WeakSet,Uv=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},sg=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},$M=function(){if(d(this,si))return;x(this,si,document.createElement("div")),d(this,si).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");d(this,si).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",_(this,yt,WM).bind(this,s),{signal:e}),r.addEventListener("contextmenu",hn,{signal:e}),r.tabIndex=-1}this.div.prepend(d(this,si))},WM=function(t,e){var g;e.preventDefault();const{isMac:s}=Di.platform;if(e.button!==0||e.ctrlKey&&s)return;(g=d(this,le))==null||g.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,x(this,zo,[e.screenX,e.screenY]);const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,yt,qv).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",ys,{passive:!1,signal:c}),window.addEventListener("contextmenu",hn,{signal:c}),x(this,ma,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var b;l.abort(),this.parent.togglePointerEvents(!0),(b=d(this,le))==null||b.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=f,_(this,yt,ng).call(this)};window.addEventListener("pointerup",p,{signal:c}),window.addEventListener("blur",p,{signal:c})},Gv=function(t,e,s,r){this.width=s,this.height=r,this.x=t,this.y=e;const[l,c]=this.parentDimensions;this.setDims(l*s,c*r),this.fixAndSetPosition(),this._onResized()},ng=function(){if(!d(this,ma))return;const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=d(this,ma);x(this,ma,null);const l=this.x,c=this.y,u=this.width,f=this.height;l===t&&c===e&&u===s&&f===r||this.addCommands({cmd:_(this,yt,Gv).bind(this,l,c,u,f),undo:_(this,yt,Gv).bind(this,t,e,s,r),mustExec:!0})},qv=function(t,e){const[s,r]=this.parentDimensions,l=this.x,c=this.y,u=this.width,f=this.height,p=Rt.MIN_SIZE/s,g=Rt.MIN_SIZE/r,b=_(this,yt,sg).call(this,this.rotation),v=(B,X)=>[b[0]*B+b[2]*X,b[1]*B+b[3]*X],A=_(this,yt,sg).call(this,360-this.rotation),S=(B,X)=>[A[0]*B+A[2]*X,A[1]*B+A[3]*X];let E,D,R=!1,L=!1;switch(t){case"topLeft":R=!0,E=(B,X)=>[0,0],D=(B,X)=>[B,X];break;case"topMiddle":E=(B,X)=>[B/2,0],D=(B,X)=>[B/2,X];break;case"topRight":R=!0,E=(B,X)=>[B,0],D=(B,X)=>[0,X];break;case"middleRight":L=!0,E=(B,X)=>[B,X/2],D=(B,X)=>[0,X/2];break;case"bottomRight":R=!0,E=(B,X)=>[B,X],D=(B,X)=>[0,0];break;case"bottomMiddle":E=(B,X)=>[B/2,X],D=(B,X)=>[B/2,0];break;case"bottomLeft":R=!0,E=(B,X)=>[0,X],D=(B,X)=>[B,0];break;case"middleLeft":L=!0,E=(B,X)=>[0,X/2],D=(B,X)=>[B,X/2];break}const N=E(u,f),j=D(u,f);let P=v(...j);const U=Rt._round(l+P[0]),q=Rt._round(c+P[1]);let $=1,tt=1,ft,ot;if(e.fromKeyboard)({deltaX:ft,deltaY:ot}=e);else{const{screenX:B,screenY:X}=e,[st,wt]=d(this,zo);[ft,ot]=this.screenToPageTranslation(B-st,X-wt),d(this,zo)[0]=B,d(this,zo)[1]=X}if([ft,ot]=S(ft/s,ot/r),R){const B=Math.hypot(u,f);$=tt=Math.max(Math.min(Math.hypot(j[0]-N[0]-ft,j[1]-N[1]-ot)/B,1/u,1/f),p/u,g/f)}else L?$=Math.max(p,Math.min(1,Math.abs(j[0]-N[0]-ft)))/u:tt=Math.max(g,Math.min(1,Math.abs(j[1]-N[1]-ot)))/f;const St=Rt._round(u*$),Gt=Rt._round(f*tt);P=v(...D(St,Gt));const Tt=U-P[0],zt=q-P[1];d(this,as)||x(this,as,[this.x,this.y,this.width,this.height]),this.width=St,this.height=Gt,this.x=Tt,this.y=zt,this.setDims(s*St,r*Gt),this.fixAndSetPosition(),this._onResizing()},QM=function(){var t;x(this,ma,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=d(this,le))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},ZM=function(t,e,s){let l=.7*(s/e)+1-.7;if(l===1)return;const c=_(this,yt,sg).call(this,this.rotation),u=(U,q)=>[c[0]*U+c[2]*q,c[1]*U+c[3]*q],[f,p]=this.parentDimensions,g=this.x,b=this.y,v=this.width,A=this.height,S=Rt.MIN_SIZE/f,E=Rt.MIN_SIZE/p;l=Math.max(Math.min(l,1/v,1/A),S/v,E/A);const D=Rt._round(v*l),R=Rt._round(A*l);if(D===v&&R===A)return;d(this,as)||x(this,as,[g,b,v,A]);const L=u(v/2,A/2),N=Rt._round(g+L[0]),j=Rt._round(b+L[1]),P=u(D/2,R/2);this.x=N-P[0],this.y=j-P[1],this.width=D,this.height=R,this.setDims(f*D,p*R),this.fixAndSetPosition(),this._onResizing()},JM=function(){var t;(t=d(this,le))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),_(this,yt,ng).call(this)},Xv=function(t){const{isMac:e}=Di.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},tR=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let s=!1;const r=new AbortController,l=this._uiManager.combinedSignal(r),c={capture:!0,passive:!1,signal:l},u=p=>{r.abort(),x(this,Tr,null),x(this,Ho,!1),this._uiManager.endDragSession()||_(this,yt,Xv).call(this,p),s&&this._onStopDragging()};e&&(x(this,Qc,t.clientX),x(this,Zc,t.clientY),x(this,Tr,t.pointerId),x(this,rf,t.pointerType),window.addEventListener("pointermove",p=>{s||(s=!0,this._onStartDragging());const{clientX:g,clientY:b,pointerId:v}=p;if(v!==d(this,Tr)){ys(p);return}const[A,S]=this.screenToPageTranslation(g-d(this,Qc),b-d(this,Zc));x(this,Qc,g),x(this,Zc,b),this._uiManager.dragSelectedEditors(A,S)},c),window.addEventListener("touchmove",ys,c),window.addEventListener("pointerdown",p=>{p.pointerType===d(this,rf)&&(d(this,Uo)||p.isPrimary)&&u(p),ys(p)},c));const f=p=>{if(!d(this,Tr)||d(this,Tr)===p.pointerId){u(p);return}ys(p)};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})},Yv=function(){if(d(this,_r)||!this.div)return;x(this,_r,new AbortController);const t=this._uiManager.combinedSignal(d(this,_r));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},eR=function(t){Rt._resizerKeyboardManager.exec(this,t)},iR=function(t){var e;d(this,ga)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,si)&&_(this,yt,rd).call(this)},sR=function(t){x(this,of,d(this,ga)?t:"")},Kv=function(t){if(d(this,Zs))for(const e of d(this,Zs))e.tabIndex=t},rd=function(){x(this,ga,!1),_(this,yt,Kv).call(this,-1),_(this,yt,ng).call(this)},T(Rt,uf),gt(Rt,"_l10n",null),gt(Rt,"_l10nResizer",null),gt(Rt,"_borderLineWidth",-1),gt(Rt,"_colorManager",new kv),gt(Rt,"_zIndex",1),gt(Rt,"_telemetryTimeout",1e3);let be=Rt;class uI extends be{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const v_=3285377520,Rs=4294901760,An=65535;class nR{constructor(t){this.h1=t?t&4294967295:v_,this.h2=t?t&4294967295:v_}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let E=0,D=t.length;E<D;E++){const R=t.charCodeAt(E);R<=255?e[s++]=R:(e[s++]=R>>>8,e[s++]=R&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,l=s-r*4,c=new Uint32Array(e.buffer,0,r);let u=0,f=0,p=this.h1,g=this.h2;const b=3432918353,v=461845907,A=b&An,S=v&An;for(let E=0;E<r;E++)E&1?(u=c[E],u=u*b&Rs|u*A&An,u=u<<15|u>>>17,u=u*v&Rs|u*S&An,p^=u,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[E],f=f*b&Rs|f*A&An,f=f<<15|f>>>17,f=f*v&Rs|f*S&An,g^=f,g=g<<13|g>>>19,g=g*5+3864292196);switch(u=0,l){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*b&Rs|u*A&An,u=u<<15|u>>>17,u=u*v&Rs|u*S&An,r&1?p^=u:g^=u}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Rs|t*36045&An,e=e*4283543511&Rs|((e<<16|t>>>16)*2950163797&Rs)>>>16,t^=e>>>1,t=t*444984403&Rs|t*60499&An,e=e*3301882366&Rs|((e<<16|t>>>16)*3120437893&Rs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const $v=Object.freeze({map:null,hash:"",transfer:void 0});var Go,qo,Ke,qg,aR;class Ox{constructor(){T(this,qg);T(this,Go,!1);T(this,qo,null);T(this,Ke,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=d(this,Ke).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return d(this,Ke).get(t)}remove(t){if(d(this,Ke).delete(t),d(this,Ke).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,Ke).values())if(e instanceof be)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=d(this,Ke).get(t);let r=!1;if(s!==void 0)for(const[l,c]of Object.entries(e))s[l]!==c&&(r=!0,s[l]=c);else r=!0,d(this,Ke).set(t,e);r&&_(this,qg,aR).call(this),e instanceof be&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,Ke).has(t)}getAll(){return d(this,Ke).size>0?Cx(d(this,Ke)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return d(this,Ke).size}resetModified(){d(this,Go)&&(x(this,Go,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rR(this)}get serializable(){if(d(this,Ke).size===0)return $v;const t=new Map,e=new nR,s=[],r=Object.create(null);let l=!1;for(const[c,u]of d(this,Ke)){const f=u instanceof be?u.serialize(!1,r):u;f&&(t.set(c,f),e.update(`${c}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:$v}get editorStats(){let t=null;const e=new Map;for(const s of d(this,Ke).values()){if(!(s instanceof be))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[u,f]of Object.entries(r)){if(u==="type")continue;let p=c.get(u);p||(p=new Map,c.set(u,p));const g=p.get(f)??0;p.set(f,g+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){x(this,qo,null)}get modifiedIds(){if(d(this,qo))return d(this,qo);const t=[];for(const e of d(this,Ke).values())!(e instanceof be)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return x(this,qo,{ids:new Set(t),hash:t.join(",")})}}Go=new WeakMap,qo=new WeakMap,Ke=new WeakMap,qg=new WeakSet,aR=function(){d(this,Go)||(x(this,Go,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var hf;class rR extends Ox{constructor(e){super();T(this,hf);const{map:s,hash:r,transfer:l}=e.serializable,c=structuredClone(s,l?{transfer:l}:null);x(this,hf,{map:c,hash:r,transfer:l})}get print(){ae("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,hf)}get modifiedIds(){return Pt(this,"modifiedIds",{ids:new Set,hash:""})}}hf=new WeakMap;var Jc;class hI{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){T(this,Jc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,Jc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||d(this,Jc).has(t.loadedName))){if(Oe(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:l}=t,c=new FontFace(s,r,l);this.addNativeFontFace(c);try{await c.load(),d(this,Jc).add(s),e==null||e(t)}catch{Mt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ae("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Mt(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Pt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Ai||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Pt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Oe(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(j,P){return j.charCodeAt(P)<<24|j.charCodeAt(P+1)<<16|j.charCodeAt(P+2)<<8|j.charCodeAt(P+3)&255}function r(j,P,U,q){const $=j.substring(0,P),tt=j.substring(P+U);return $+q+tt}let l,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const f=u.getContext("2d");let p=0;function g(j,P){if(++p>30){Mt("Load test font never loaded."),P();return}if(f.font="30px "+j,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(g.bind(null,j,P))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,b.length,b);const S=16,E=1482184792;let D=s(v,S);for(l=0,c=b.length-3;l<c;l+=4)D=D-E+s(b,l)|0;l<b.length&&(D=D-E+s(b+"XXX",l)|0),v=r(v,S,4,Wj(D));const R=`url(data:font/opentype;base64,${btoa(v)});`,L=`@font-face {font-family:"${b}";src:${R}}`;this.insertRule(L);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const j of[t.loadedName,b]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=j,N.append(P)}this._document.body.append(N),g(b,()=>{N.remove(),e.complete()})}}Jc=new WeakMap;class dI{constructor(t,{disableFontFace:e=!1,fontExtraProperties:s=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const l in t)this[l]=t[l];this.disableFontFace=e===!0,this.fontExtraProperties=s===!0,this._inspectFont=r}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${iI(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const s=this.loadedName+"_path_"+e;let r;try{r=t.get(s)}catch(c){Mt(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(r||"");return this.fontExtraProperties||t.delete(s),this.compiledGlyphs[e]=l}}const Fm={DATA:1,ERROR:2},Ne={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function A_(){}function Fi(a){if(a instanceof Yr||a instanceof Mv||a instanceof kd||a instanceof g_||a instanceof Ng||a instanceof Jb)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||ae('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Yr(a.message);case"InvalidPDFException":return new Mv(a.message);case"MissingPDFException":return new kd(a.message);case"PasswordException":return new g_(a.message,a.code);case"UnexpectedResponseException":return new Ng(a.message,a.status);case"UnknownErrorException":return new Jb(a.message,a.details)}return new Jb(a.message,a.toString())}var tu,Hs,oR,lR,cR,ag;class od{constructor(t,e,s){T(this,Hs);T(this,tu,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",_(this,Hs,oR).bind(this),{signal:d(this,tu).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,s,r){const l=this.streamId++,c=this.sourceName,u=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:u,action:t,streamId:l,data:e,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,f.postMessage({sourceName:c,targetName:u,stream:Ne.PULL,streamId:l,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Oe(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:u,stream:Ne.CANCEL,streamId:l,reason:Fi(p)}),g.promise}},s)}destroy(){var t;(t=d(this,tu))==null||t.abort(),x(this,tu,null)}}tu=new WeakMap,Hs=new WeakSet,oR=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){_(this,Hs,cR).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Fm.DATA)r.resolve(t.data);else if(t.callback===Fm.ERROR)r.reject(Fi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,l=this.comObj;Promise.try(e,t.data).then(function(c){l.postMessage({sourceName:s,targetName:r,callback:Fm.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:s,targetName:r,callback:Fm.ERROR,callbackId:t.callbackId,reason:Fi(c)})});return}if(t.streamId){_(this,Hs,lR).call(this,t);return}e(t.data)},lR=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,c=this,u=this.actionHandler[t.action],f={enqueue(p,g=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:r,stream:Ne.ENQUEUE,streamId:e,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:Ne.CLOSE,streamId:e}),delete c.streamSinks[e])},error(p){Oe(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:Ne.ERROR,streamId:e,reason:Fi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,Promise.try(u,t.data,f).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Ne.START_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:r,stream:Ne.START_COMPLETE,streamId:e,reason:Fi(p)})})},cR=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,c=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Ne.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Fi(t.reason));break;case Ne.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Fi(t.reason));break;case Ne.PULL:if(!u){l.postMessage({sourceName:s,targetName:r,stream:Ne.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||A_).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Ne.PULL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:r,stream:Ne.PULL_COMPLETE,streamId:e,reason:Fi(p)})});break;case Ne.ENQUEUE:if(Oe(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Ne.CLOSE:if(Oe(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),_(this,Hs,ag).call(this,c,e);break;case Ne.ERROR:Oe(c,"error should have stream controller"),c.controller.error(Fi(t.reason)),_(this,Hs,ag).call(this,c,e);break;case Ne.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Fi(t.reason)),_(this,Hs,ag).call(this,c,e);break;case Ne.CANCEL:if(!u)break;const f=Fi(t.reason);Promise.try(u.onCancel||A_,f).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Ne.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:r,stream:Ne.CANCEL_COMPLETE,streamId:e,reason:Fi(p)})}),u.sinkCapability.reject(f),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},ag=async function(t,e){var s,r,l;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var df;class uR{constructor({enableHWA:t=!1}){T(this,df,!1);x(this,df,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!d(this,df)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ae("Abstract method `_createCanvas` called.")}}df=new WeakMap;class fI extends uR{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class hR{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class dR extends hR{async _fetch(t){const e=await dy(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):hy(e)}}class fR{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,l){return"none"}destroy(t=!1){}}var Xo,eu,ya,ba,gi,Yo,Ko,nt,fi,ld,Sc,rg,wc,pR,Wv,Ec,cd,ud,Qv,hd;class pI extends fR{constructor({docId:e,ownerDocument:s=globalThis.document}){super();T(this,nt);T(this,Xo);T(this,eu);T(this,ya);T(this,ba);T(this,gi);T(this,Yo);T(this,Ko,0);x(this,ba,e),x(this,gi,s)}addFilter(e){if(!e)return"none";let s=d(this,nt,fi).get(e);if(s)return s;const[r,l,c]=_(this,nt,rg).call(this,e),u=e.length===1?r:`${r}${l}${c}`;if(s=d(this,nt,fi).get(u),s)return d(this,nt,fi).set(e,s),s;const f=`g_${d(this,ba)}_transfer_map_${wi(this,Ko)._++}`,p=_(this,nt,wc).call(this,f);d(this,nt,fi).set(e,p),d(this,nt,fi).set(u,p);const g=_(this,nt,Ec).call(this,f);return _(this,nt,ud).call(this,r,l,c,g),p}addHCMFilter(e,s){var S;const r=`${e}-${s}`,l="base";let c=d(this,nt,ld).get(l);if((c==null?void 0:c.key)===r||(c?((S=c.filter)==null||S.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},d(this,nt,ld).set(l,c)),!e||!s))return c.url;const u=_(this,nt,hd).call(this,e);e=dt.makeHexColor(...u);const f=_(this,nt,hd).call(this,s);if(s=dt.makeHexColor(...f),d(this,nt,Sc).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return c.url;const p=new Array(256);for(let E=0;E<=255;E++){const D=E/255;p[E]=D<=.03928?D/12.92:((D+.055)/1.055)**2.4}const g=p.join(","),b=`g_${d(this,ba)}_hcm_filter`,v=c.filter=_(this,nt,Ec).call(this,b);_(this,nt,ud).call(this,g,g,g,v),_(this,nt,Wv).call(this,v);const A=(E,D)=>{const R=u[E]/255,L=f[E]/255,N=new Array(D+1);for(let j=0;j<=D;j++)N[j]=R+j/D*(L-R);return N.join(",")};return _(this,nt,ud).call(this,A(0,5),A(1,5),A(2,5),v),c.url=_(this,nt,wc).call(this,b),c.url}addAlphaFilter(e){let s=d(this,nt,fi).get(e);if(s)return s;const[r]=_(this,nt,rg).call(this,[e]),l=`alpha_${r}`;if(s=d(this,nt,fi).get(l),s)return d(this,nt,fi).set(e,s),s;const c=`g_${d(this,ba)}_alpha_map_${wi(this,Ko)._++}`,u=_(this,nt,wc).call(this,c);d(this,nt,fi).set(e,u),d(this,nt,fi).set(l,u);const f=_(this,nt,Ec).call(this,c);return _(this,nt,Qv).call(this,r,f),u}addLuminosityFilter(e){let s=d(this,nt,fi).get(e||"luminosity");if(s)return s;let r,l;if(e?([r]=_(this,nt,rg).call(this,[e]),l=`luminosity_${r}`):l="luminosity",s=d(this,nt,fi).get(l),s)return d(this,nt,fi).set(e,s),s;const c=`g_${d(this,ba)}_luminosity_map_${wi(this,Ko)._++}`,u=_(this,nt,wc).call(this,c);d(this,nt,fi).set(e,u),d(this,nt,fi).set(l,u);const f=_(this,nt,Ec).call(this,c);return _(this,nt,pR).call(this,f),e&&_(this,nt,Qv).call(this,r,f),u}addHighlightHCMFilter(e,s,r,l,c){var L;const u=`${s}-${r}-${l}-${c}`;let f=d(this,nt,ld).get(e);if((f==null?void 0:f.key)===u||(f?((L=f.filter)==null||L.remove(),f.key=u,f.url="none",f.filter=null):(f={key:u,url:"none",filter:null},d(this,nt,ld).set(e,f)),!s||!r))return f.url;const[p,g]=[s,r].map(_(this,nt,hd).bind(this));let b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[A,S]=[l,c].map(_(this,nt,hd).bind(this));v<b&&([b,v,A,S]=[v,b,S,A]),d(this,nt,Sc).style.color="";const E=(N,j,P)=>{const U=new Array(256),q=(v-b)/P,$=N/255,tt=(j-N)/(255*P);let ft=0;for(let ot=0;ot<=P;ot++){const St=Math.round(b+ot*q),Gt=$+ot*tt;for(let Tt=ft;Tt<=St;Tt++)U[Tt]=Gt;ft=St+1}for(let ot=ft;ot<256;ot++)U[ot]=U[ft-1];return U.join(",")},D=`g_${d(this,ba)}_hcm_${e}_filter`,R=f.filter=_(this,nt,Ec).call(this,D);return _(this,nt,Wv).call(this,R),_(this,nt,ud).call(this,E(A[0],S[0],5),E(A[1],S[1],5),E(A[2],S[2],5),R),f.url=_(this,nt,wc).call(this,D),f.url}destroy(e=!1){var s,r,l,c;e&&((s=d(this,Yo))!=null&&s.size)||((r=d(this,ya))==null||r.parentNode.parentNode.remove(),x(this,ya,null),(l=d(this,eu))==null||l.clear(),x(this,eu,null),(c=d(this,Yo))==null||c.clear(),x(this,Yo,null),x(this,Ko,0))}}Xo=new WeakMap,eu=new WeakMap,ya=new WeakMap,ba=new WeakMap,gi=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,nt=new WeakSet,fi=function(){return d(this,eu)||x(this,eu,new Map)},ld=function(){return d(this,Yo)||x(this,Yo,new Map)},Sc=function(){if(!d(this,ya)){const e=d(this,gi).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=d(this,gi).createElementNS(aa,"svg");r.setAttribute("width",0),r.setAttribute("height",0),x(this,ya,d(this,gi).createElementNS(aa,"defs")),e.append(r),r.append(d(this,ya)),d(this,gi).body.append(e)}return d(this,ya)},rg=function(e){if(e.length===1){const p=e[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=p[v]/255;const b=g.join(",");return[b,b,b]}const[s,r,l]=e,c=new Array(256),u=new Array(256),f=new Array(256);for(let p=0;p<256;p++)c[p]=s[p]/255,u[p]=r[p]/255,f[p]=l[p]/255;return[c.join(","),u.join(","),f.join(",")]},wc=function(e){if(d(this,Xo)===void 0){x(this,Xo,"");const s=d(this,gi).URL;s!==d(this,gi).baseURI&&(fy(s)?Mt('#createUrl: ignore "data:"-URL for performance reasons.'):x(this,Xo,s.split("#",1)[0]))}return`url(${d(this,Xo)}#${e})`},pR=function(e){const s=d(this,gi).createElementNS(aa,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},Wv=function(e){const s=d(this,gi).createElementNS(aa,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},Ec=function(e){const s=d(this,gi).createElementNS(aa,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),d(this,nt,Sc).append(s),s},cd=function(e,s,r){const l=d(this,gi).createElementNS(aa,s);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},ud=function(e,s,r,l){const c=d(this,gi).createElementNS(aa,"feComponentTransfer");l.append(c),_(this,nt,cd).call(this,c,"feFuncR",e),_(this,nt,cd).call(this,c,"feFuncG",s),_(this,nt,cd).call(this,c,"feFuncB",r)},Qv=function(e,s){const r=d(this,gi).createElementNS(aa,"feComponentTransfer");s.append(r),_(this,nt,cd).call(this,r,"feFuncA",e)},hd=function(e){return d(this,nt,Sc).style.color=e,Lx(getComputedStyle(d(this,nt,Sc)).getPropertyValue("color"))};class mR{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class gR extends mR{async _fetch(t){const e=await dy(t,"arraybuffer");return new Uint8Array(e)}}Ai&&Mt("Please use the `legacy` build in Node.js environments.");async function yR(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class mI extends fR{}class gI extends uR{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class yI extends hR{async _fetch(t){return yR(t)}}class bI extends mR{async _fetch(t){return yR(t)}}const vi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Zv(a,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),a.clip(r)}class kx{getPattern(){ae("Abstract method `getPattern` called.")}}class vI extends kx{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let l;if(r===vi.STROKE||r===vi.FILL){const c=e.current.getClippedPathBoundingBox(r,he(t))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=e.cachedCanvases.getCanvas("pattern",u,f),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-c[0],-c[1]),s=dt.transform(s,[1,0,0,1,c[0],c[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),Zv(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=t.createPattern(p.canvas,"no-repeat");const b=new DOMMatrix(s);l.setTransform(b)}else Zv(t,this._bbox),l=this._createGradient(t);return l}}function iv(a,t,e,s,r,l,c,u){const f=t.coords,p=t.colors,g=a.data,b=a.width*4;let v;f[e+1]>f[s+1]&&(v=e,e=s,s=v,v=l,l=c,c=v),f[s+1]>f[r+1]&&(v=s,s=r,r=v,v=c,c=u,u=v),f[e+1]>f[s+1]&&(v=e,e=s,s=v,v=l,l=c,c=v);const A=(f[e]+t.offsetX)*t.scaleX,S=(f[e+1]+t.offsetY)*t.scaleY,E=(f[s]+t.offsetX)*t.scaleX,D=(f[s+1]+t.offsetY)*t.scaleY,R=(f[r]+t.offsetX)*t.scaleX,L=(f[r+1]+t.offsetY)*t.scaleY;if(S>=L)return;const N=p[l],j=p[l+1],P=p[l+2],U=p[c],q=p[c+1],$=p[c+2],tt=p[u],ft=p[u+1],ot=p[u+2],St=Math.round(S),Gt=Math.round(L);let Tt,zt,B,X,st,wt,k,W;for(let et=St;et<=Gt;et++){if(et<D){const Lt=et<S?0:(S-et)/(S-D);Tt=A-(A-E)*Lt,zt=N-(N-U)*Lt,B=j-(j-q)*Lt,X=P-(P-$)*Lt}else{let Lt;et>L?Lt=1:D===L?Lt=0:Lt=(D-et)/(D-L),Tt=E-(E-R)*Lt,zt=U-(U-tt)*Lt,B=q-(q-ft)*Lt,X=$-($-ot)*Lt}let Z;et<S?Z=0:et>L?Z=1:Z=(S-et)/(S-L),st=A-(A-R)*Z,wt=N-(N-tt)*Z,k=j-(j-ft)*Z,W=P-(P-ot)*Z;const ht=Math.round(Math.min(Tt,st)),Nt=Math.round(Math.max(Tt,st));let ct=b*et+ht*4;for(let Lt=ht;Lt<=Nt;Lt++)Z=(Tt-Lt)/(Tt-st),Z<0?Z=0:Z>1&&(Z=1),g[ct++]=zt-(zt-wt)*Z|0,g[ct++]=B-(B-k)*Z|0,g[ct++]=X-(X-W)*Z|0,g[ct++]=255}}function AI(a,t,e){const s=t.coords,r=t.colors;let l,c;switch(t.type){case"lattice":const u=t.verticesPerRow,f=Math.floor(s.length/u)-1,p=u-1;for(l=0;l<f;l++){let g=l*u;for(let b=0;b<p;b++,g++)iv(a,e,s[g],s[g+1],s[g+u],r[g],r[g+1],r[g+u]),iv(a,e,s[g+u+1],s[g+1],s[g+u],r[g+u+1],r[g+1],r[g+u])}break;case"triangles":for(l=0,c=s.length;l<c;l+=3)iv(a,e,s[l],s[l+1],s[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class xI extends kx{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const u=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-u,g=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),A=p/b,S=g/v,E={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-f,scaleX:1/A,scaleY:1/S},D=b+2*2,R=v+2*2,L=s.getCanvas("mesh",D,R),N=L.context,j=N.createImageData(b,v);if(e){const U=j.data;for(let q=0,$=U.length;q<$;q+=4)U[q]=e[0],U[q+1]=e[1],U[q+2]=e[2],U[q+3]=255}for(const U of this._figures)AI(j,U,E);return N.putImageData(j,2,2),{canvas:L.canvas,offsetX:u-2*A,offsetY:f-2*S,scaleX:A,scaleY:S}}getPattern(t,e,s,r){Zv(t,this._bbox);let l;if(r===vi.SHADING)l=dt.singularValueDecompose2dScale(he(t));else if(l=dt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const u=dt.singularValueDecompose2dScale(this.matrix);l=[l[0]*u[0],l[1]*u[1]]}const c=this._createMeshCanvas(l,r===vi.SHADING?null:this._background,e.cachedCanvases);return r!==vi.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class SI extends kx{getPattern(){return"hotpink"}}function wI(a){switch(a[0]){case"RadialAxial":return new vI(a);case"Mesh":return new xI(a);case"Dummy":return new SI}throw new Error(`Unknown IR type: ${a[0]}`)}const x_={COLORED:1,UNCOLORED:2},Xg=class Xg{constructor(t,e,s,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:u}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),uy("TilingType: "+l);const g=e[0],b=e[1],v=e[2],A=e[3],S=v-g,E=A-b,D=dt.singularValueDecompose2dScale(this.matrix),R=dt.singularValueDecompose2dScale(this.baseTransform),L=D[0]*R[0],N=D[1]*R[1];let j=S,P=E,U=!1,q=!1;const $=Math.ceil(f*L),tt=Math.ceil(p*N),ft=Math.ceil(S*L),ot=Math.ceil(E*N);$>=ft?j=f:U=!0,tt>=ot?P=p:q=!0;const St=this.getSizeAndScale(j,this.ctx.canvas.width,L),Gt=this.getSizeAndScale(P,this.ctx.canvas.height,N),Tt=t.cachedCanvases.getCanvas("pattern",St.size,Gt.size),zt=Tt.context,B=u.createCanvasGraphics(zt);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,r,c),zt.translate(-St.scale*g,-Gt.scale*b),B.transform(St.scale,0,0,Gt.scale,0,0),zt.save(),this.clipBbox(B,g,b,v,A),B.baseTransform=he(B.ctx),B.executeOperatorList(s),B.endDrawing(),zt.restore(),U||q){const X=Tt.canvas;U&&(j=f),q&&(P=p);const st=this.getSizeAndScale(j,this.ctx.canvas.width,L),wt=this.getSizeAndScale(P,this.ctx.canvas.height,N),k=st.size,W=wt.size,et=t.cachedCanvases.getCanvas("pattern-workaround",k,W),Z=et.context,ht=U?Math.floor(S/f):0,Nt=q?Math.floor(E/p):0;for(let ct=0;ct<=ht;ct++)for(let Lt=0;Lt<=Nt;Lt++)Z.drawImage(X,k*ct,W*Lt,k,W,0,0,k,W);return{canvas:et.canvas,scaleX:st.scale,scaleY:wt.scale,offsetX:g,offsetY:b}}return{canvas:Tt.canvas,scaleX:St.scale,scaleY:Gt.scale,offsetX:g,offsetY:b}}getSizeAndScale(t,e,s){const r=Math.max(Xg.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*s);return l>=r?l=r:s=l/t,{scale:s,size:l}}clipBbox(t,e,s,r,l){const c=r-e,u=l-s;t.ctx.rect(e,s,c,u),t.current.updateRectMinMax(he(t.ctx),[e,s,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,l=t.current;switch(e){case x_.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case x_.UNCOLORED:const u=dt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=u,r.strokeStyle=u,l.fillColor=u,l.strokeColor=u;break;default:throw new $j(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let l=s;r!==vi.SHADING&&(l=dt.transform(l,e.baseTransform),this.matrix&&(l=dt.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let u=new DOMMatrix(l);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(u),f}};gt(Xg,"MAX_PATTERN_SIZE",3e3);let Jv=Xg;function EI({src:a,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const u=Di.isLittleEndian?4278190080:255,[f,p]=c?[l,u]:[u,l],g=s>>3,b=s&7,v=a.length;e=new Uint32Array(e.buffer);let A=0;for(let S=0;S<r;S++){for(const D=t+g;t<D;t++){const R=t<v?a[t]:255;e[A++]=R&128?p:f,e[A++]=R&64?p:f,e[A++]=R&32?p:f,e[A++]=R&16?p:f,e[A++]=R&8?p:f,e[A++]=R&4?p:f,e[A++]=R&2?p:f,e[A++]=R&1?p:f}if(b===0)continue;const E=t<v?a[t++]:255;for(let D=0;D<b;D++)e[A++]=E&1<<7-D?p:f}return{srcPos:t,destPos:A}}const S_=16,w_=100,TI=15,E_=10,T_=1e3,Gi=16;function _I(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},a.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},a.transform=function(s,r,l,c,u,f){t.transform(s,r,l,c,u,f),this.__originalTransform(s,r,l,c,u,f)},a.setTransform=function(s,r,l,c,u,f){t.setTransform(s,r,l,c,u,f),this.__originalSetTransform(s,r,l,c,u,f)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(s){t.rotate(s),this.__originalRotate(s)},a.clip=function(s){t.clip(s),this.__originalClip(s)},a.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},a.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},a.bezierCurveTo=function(e,s,r,l,c,u){t.bezierCurveTo(e,s,r,l,c,u),this.__originalBezierCurveTo(e,s,r,l,c,u)},a.rect=function(e,s,r,l){t.rect(e,s,r,l),this.__originalRect(e,s,r,l)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class CI{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function zm(a,t,e,s,r,l,c,u,f,p){const[g,b,v,A,S,E]=he(a);if(b===0&&v===0){const L=c*g+S,N=Math.round(L),j=u*A+E,P=Math.round(j),U=(c+f)*g+S,q=Math.abs(Math.round(U)-N)||1,$=(u+p)*A+E,tt=Math.abs(Math.round($)-P)||1;return a.setTransform(Math.sign(g),0,0,Math.sign(A),N,P),a.drawImage(t,e,s,r,l,0,0,q,tt),a.setTransform(g,b,v,A,S,E),[q,tt]}if(g===0&&A===0){const L=u*v+S,N=Math.round(L),j=c*b+E,P=Math.round(j),U=(u+p)*v+S,q=Math.abs(Math.round(U)-N)||1,$=(c+f)*b+E,tt=Math.abs(Math.round($)-P)||1;return a.setTransform(0,Math.sign(b),Math.sign(v),0,N,P),a.drawImage(t,e,s,r,l,0,0,tt,q),a.setTransform(g,b,v,A,S,E),[tt,q]}a.drawImage(t,e,s,r,l,c,u,f,p);const D=Math.hypot(g,b),R=Math.hypot(v,A);return[D*f,R*p]}function MI(a){const{width:t,height:e}=a;if(t>T_||e>T_)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let c=new Uint8Array(l*(e+1)),u,f,p;const g=t+7&-8;let b=new Uint8Array(g*e),v=0;for(const R of a.data){let L=128;for(;L>0;)b[v++]=R&L?0:255,L>>=1}let A=0;for(v=0,b[v]!==0&&(c[0]=1,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(c[f]=b[v]?2:1,++A),v++;for(b[v]!==0&&(c[f]=2,++A),u=1;u<e;u++){v=u*g,p=u*l,b[v-g]!==b[v]&&(c[p]=b[v]?1:8,++A);let R=(b[v]?4:0)+(b[v-g]?8:0);for(f=1;f<t;f++)R=(R>>2)+(b[v+1]?4:0)+(b[v-g+1]?8:0),r[R]&&(c[p+f]=r[R],++A),v++;if(b[v-g]!==b[v]&&(c[p+f]=b[v]?2:4,++A),A>s)return null}for(v=g*(e-1),p=u*l,b[v]!==0&&(c[p]=8,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(c[p+f]=b[v]?4:8,++A),v++;if(b[v]!==0&&(c[p+f]=4,++A),A>s)return null;const S=new Int32Array([0,l,-1,0,-l,0,0,0,1]),E=new Path2D;for(u=0;A&&u<=e;u++){let R=u*l;const L=R+t;for(;R<L&&!c[R];)R++;if(R===L)continue;E.moveTo(R%l,u);const N=R;let j=c[R];do{const P=S[j];do R+=P;while(!c[R]);const U=c[R];U!==5&&U!==10?(j=U,c[R]=0):(j=U&51*j>>4,c[R]&=j>>2|j<<2),E.lineTo(R%l,R/l|0),c[R]||--A}while(N!==R);--u}return b=null,c=null,function(R){R.save(),R.scale(1/t,-1/e),R.translate(0,-e),R.fill(E),R.beginPath(),R.restore()}}class __{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=CM,this.textMatrixScale=1,this.fontMatrix=Cv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=di.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=dt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=dt.applyTransform(e,t),r=dt.applyTransform(e.slice(2),t),l=dt.applyTransform([e[0],e[3]],t),c=dt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],l[0],c[0]),this.minY=Math.min(this.minY,s[1],r[1],l[1],c[1]),this.maxX=Math.max(this.maxX,s[0],r[0],l[0],c[0]),this.maxY=Math.max(this.maxY,s[1],r[1],l[1],c[1])}updateScalingPathMinMax(t,e){dt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,l,c,u,f,p,g){const b=dt.bezierBoundingBox(e,s,r,l,c,u,f,p,g);g||this.updateRectMinMax(t,b)}getPathBoundingBox(t=vi.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===vi.STROKE){e||ae("Stroke bounding box must include transform.");const r=dt.singularValueDecompose2dScale(e),l=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;s[0]-=l,s[1]-=c,s[2]+=l,s[3]+=c}return s}updateClipFromPath(){const t=dt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=vi.FILL,e=null){return dt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function C_(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%Gi,l=(e-r)/Gi,c=r===0?l:l+1,u=a.createImageData(s,Gi);let f=0,p;const g=t.data,b=u.data;let v,A,S,E;if(t.kind===Wm.GRAYSCALE_1BPP){const D=g.byteLength,R=new Uint32Array(b.buffer,0,b.byteLength>>2),L=R.length,N=s+7>>3,j=4294967295,P=Di.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(S=v<l?Gi:r,p=0,A=0;A<S;A++){const U=D-f;let q=0;const $=U>N?s:U*8-7,tt=$&-8;let ft=0,ot=0;for(;q<tt;q+=8)ot=g[f++],R[p++]=ot&128?j:P,R[p++]=ot&64?j:P,R[p++]=ot&32?j:P,R[p++]=ot&16?j:P,R[p++]=ot&8?j:P,R[p++]=ot&4?j:P,R[p++]=ot&2?j:P,R[p++]=ot&1?j:P;for(;q<$;q++)ft===0&&(ot=g[f++],ft=128),R[p++]=ot&ft?j:P,ft>>=1}for(;p<L;)R[p++]=0;a.putImageData(u,0,v*Gi)}}else if(t.kind===Wm.RGBA_32BPP){for(A=0,E=s*Gi*4,v=0;v<l;v++)b.set(g.subarray(f,f+E)),f+=E,a.putImageData(u,0,A),A+=Gi;v<c&&(E=s*r*4,b.set(g.subarray(f,f+E)),a.putImageData(u,0,A))}else if(t.kind===Wm.RGB_24BPP)for(S=Gi,E=s*S,v=0;v<c;v++){for(v>=l&&(S=r,E=s*S),p=0,A=E;A--;)b[p++]=g[f++],b[p++]=g[f++],b[p++]=g[f++],b[p++]=255;a.putImageData(u,0,v*Gi)}else throw new Error(`bad image kind: ${t.kind}`)}function M_(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%Gi,l=(e-r)/Gi,c=r===0?l:l+1,u=a.createImageData(s,Gi);let f=0;const p=t.data,g=u.data;for(let b=0;b<c;b++){const v=b<l?Gi:r;({srcPos:f}=EI({src:p,srcPos:f,dest:g,width:s,height:v,nonBlackColor:0})),a.putImageData(u,0,b*Gi)}}function Jh(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)a[s]!==void 0&&(t[s]=a[s]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function Hm(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!Ai){const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}}function R_(a,t){if(t)return!0;const e=dt.singularValueDecompose2dScale(a);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Kr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const RI=["butt","round","square"],DI=["miter","round","bevel"],NI={},D_={};var dn,tA,eA,iA;const Fx=class Fx{constructor(t,e,s,r,l,{optionalContentConfig:c,markedContentStack:u=null},f,p){T(this,dn);this.ctx=t,this.current=new __(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new CI(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=u,s){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...he(this.compositeCtx))}this.ctx.save(),Hm(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=he(this.ctx)}executeOperatorList(t,e,s,r){const l=t.argsArray,c=t.fnArray;let u=e||0;const f=l.length;if(f===u)return u;const p=f-u>E_&&typeof s=="function",g=p?Date.now()+TI:0;let b=0;const v=this.commonObjs,A=this.objs;let S;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,s),u;if(S=c[u],S!==Ks.dependency)this[S].apply(this,l[u]);else for(const E of l[u]){const D=E.startsWith("g_")?v:A;if(!D.has(E))return D.get(E,s),u}if(u++,u===f)return u;if(p&&++b>E_){if(Date.now()>g)return s(),u;b=0}}}endDrawing(){_(this,dn,tA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),_(this,dn,eA).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=s,f=r,p="prescale1",g,b;for(;l>2&&u>1||c>2&&f>1;){let v=u,A=f;l>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/v),c>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/A),g=this.cachedCanvases.getCanvas(p,v,A),b=g.context,b.clearRect(0,0,v,A),b.drawImage(t,0,0,u,f,0,0,v,A),t=g.canvas,u=v,f=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,l=this.current.fillColor,c=this.current.patternFill,u=he(e);let f,p,g,b;if((t.bitmap||t.data)&&t.count>1){const $=t.bitmap||t.data.buffer;p=JSON.stringify(c?u:[u.slice(0,4),l]),f=this._cachedBitmapsMap.get($),f||(f=new Map,this._cachedBitmapsMap.set($,f));const tt=f.get(p);if(tt&&!c){const ft=Math.round(Math.min(u[0],u[2])+u[4]),ot=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:tt,offsetX:ft,offsetY:ot}}g=tt}g||(b=this.cachedCanvases.getCanvas("maskCanvas",s,r),M_(b.context,t));let v=dt.transform(u,[1/s,0,0,-1/r,0,0]);v=dt.transform(v,[1,0,0,1,0,-r]);const[A,S,E,D]=dt.getAxialAlignedBoundingBox([0,0,s,r],v),R=Math.round(E-A)||1,L=Math.round(D-S)||1,N=this.cachedCanvases.getCanvas("fillCanvas",R,L),j=N.context,P=A,U=S;j.translate(-P,-U),j.transform(...v),g||(g=this._scaleImage(b.canvas,vn(j)),g=g.img,f&&c&&f.set(p,g)),j.imageSmoothingEnabled=R_(he(j),t.interpolate),zm(j,g,0,0,g.width,g.height,0,0,s,r),j.globalCompositeOperation="source-in";const q=dt.transform(vn(j),[1,0,0,1,-P,-U]);return j.fillStyle=c?l.getPattern(e,this,q,vi.FILL):l,j.fillRect(0,0,s,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,N.canvas)),{canvas:N.canvas,offsetX:Math.round(P),offsetY:Math.round(U)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=RI[t]}setLineJoin(t){this.ctx.lineJoin=DI[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...he(this.suspendedCtx)),Jh(this.suspendedCtx,l),_I(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Jh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const l=r[0],c=r[1],u=r[2]-l,f=r[3]-c;u===0||f===0||(this.genericComposeSMask(e.context,s,u,f,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,l,c,u,f,p,g,b){let v=t.canvas,A=f-g,S=p-b;if(c){const D=dt.makeHexColor(...c);if(A<0||S<0||A+s>v.width||S+r>v.height){const R=this.cachedCanvases.getCanvas("maskExtension",s,r),L=R.context;L.drawImage(v,-A,-S),L.globalCompositeOperation="destination-atop",L.fillStyle=D,L.fillRect(0,0,s,r),L.globalCompositeOperation="source-over",v=R.canvas,A=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const R=new Path2D;R.rect(A,S,s,r),t.clip(R),t.globalCompositeOperation="destination-atop",t.fillStyle=D,t.fillRect(A,S,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const E=new Path2D;E.rect(f,p,s,r),e.clip(E),e.globalCompositeOperation="destination-in",e.drawImage(v,A,S,s,r,f,p,s,r),e.restore()}save(){this.inSMaskMode?(Jh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Jh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,l,c){this.ctx.transform(t,e,s,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,l=this.current;let c=l.x,u=l.y,f,p;const g=he(r),b=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,v=b?s.slice(0):null;for(let A=0,S=0,E=t.length;A<E;A++)switch(t[A]|0){case Ks.rectangle:c=e[S++],u=e[S++];const D=e[S++],R=e[S++],L=c+D,N=u+R;r.moveTo(c,u),D===0||R===0?r.lineTo(L,N):(r.lineTo(L,u),r.lineTo(L,N),r.lineTo(c,N)),b||l.updateRectMinMax(g,[c,u,L,N]),r.closePath();break;case Ks.moveTo:c=e[S++],u=e[S++],r.moveTo(c,u),b||l.updatePathMinMax(g,c,u);break;case Ks.lineTo:c=e[S++],u=e[S++],r.lineTo(c,u),b||l.updatePathMinMax(g,c,u);break;case Ks.curveTo:f=c,p=u,c=e[S+4],u=e[S+5],r.bezierCurveTo(e[S],e[S+1],e[S+2],e[S+3],c,u),l.updateCurvePathMinMax(g,f,p,e[S],e[S+1],e[S+2],e[S+3],c,u,v),S+=6;break;case Ks.curveTo2:f=c,p=u,r.bezierCurveTo(c,u,e[S],e[S+1],e[S+2],e[S+3]),l.updateCurvePathMinMax(g,f,p,c,u,e[S],e[S+1],e[S+2],e[S+3],v),c=e[S+2],u=e[S+3],S+=4;break;case Ks.curveTo3:f=c,p=u,c=e[S+2],u=e[S+3],r.bezierCurveTo(e[S],e[S+1],c,u,c,u),l.updateCurvePathMinMax(g,f,p,e[S],e[S+1],c,u,c,u,v),S+=4;break;case Ks.closePath:r.closePath();break}b&&l.updateScalingPathMinMax(g,v),l.setCurrentPoint(c,u)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,vn(e),vi.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,vn(e),vi.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NI}eoClip(){this.pendingClip=D_}beginText(){this.current.textMatrix=CM,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}const s=new Path2D,r=e.getTransform().invertSelf();for(const{transform:l,x:c,y:u,fontSize:f,path:p}of t)s.addPath(p,new DOMMatrix(l).preMultiplySelf(r).translate(c,u).scale(f,-f));e.clip(s),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var g;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Cv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Mt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const l=s.loadedName||"sans-serif",c=((g=s.systemFontInfo)==null?void 0:g.css)||`"${l}", ${s.fallbackName}`;let u="normal";s.black?u="900":s.bold&&(u="bold");const f=s.italic?"italic":"normal";let p=e;e<S_?p=S_:e>w_&&(p=w_),this.current.fontSizeScale=e/p,this.ctx.font=`${f} ${u} ${p}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,l,c){this.current.textMatrix=[t,e,s,r,l,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r,l){const c=this.ctx,u=this.current,f=u.font,p=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,b=p&di.FILL_STROKE_MASK,v=!!(p&di.ADD_TO_PATH_FLAG),A=u.patternFill&&!f.missingFile,S=u.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||v||A||S)&&(E=f.getPathGenerator(this.commonObjs,t)),f.disableFontFace||A||S){if(c.save(),c.translate(e,s),c.scale(g,-g),b===di.FILL||b===di.FILL_STROKE)if(r){const D=c.getTransform();c.setTransform(...r),c.fill(_(this,dn,iA).call(this,E,D,r))}else c.fill(E);if(b===di.STROKE||b===di.FILL_STROKE)if(l){const D=c.getTransform();c.setTransform(...l),c.stroke(_(this,dn,iA).call(this,E,D,l))}else c.lineWidth/=g,c.stroke(E);c.restore()}else(b===di.FILL||b===di.FILL_STROKE)&&c.fillText(t,e,s),(b===di.STROKE||b===di.FILL_STROKE)&&c.strokeText(t,e,s);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:he(c),x:e,y:s,fontSize:g,path:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return Pt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,c=e.fontSizeScale,u=e.charSpacing,f=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,b=t.length,v=s.vertical,A=v?1:-1,S=s.defaultVMetrics,E=r*e.fontMatrix[0],D=e.textRenderingMode===di.FILL&&!s.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),p>0?l.scale(g,-1):l.scale(g,1);let R,L;if(e.patternFill){l.save();const q=e.fillColor.getPattern(l,this,vn(l),vi.FILL);R=he(l),l.restore(),l.fillStyle=q}if(e.patternStroke){l.save();const q=e.strokeColor.getPattern(l,this,vn(l),vi.STROKE);L=he(l),l.restore(),l.strokeStyle=q}let N=e.lineWidth;const j=e.textMatrixScale;if(j===0||N===0){const q=e.textRenderingMode&di.FILL_STROKE_MASK;(q===di.STROKE||q===di.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=j;if(c!==1&&(l.scale(c,c),N/=c),l.lineWidth=N,s.isInvalidPDFjsFont){const q=[];let $=0;for(const tt of t)q.push(tt.unicode),$+=tt.width;l.fillText(q.join(""),0,0),e.x+=$*E*g,l.restore(),this.compose();return}let P=0,U;for(U=0;U<b;++U){const q=t[U];if(typeof q=="number"){P+=A*q*r/1e3;continue}let $=!1;const tt=(q.isSpace?f:0)+u,ft=q.fontChar,ot=q.accent;let St,Gt,Tt=q.width;if(v){const B=q.vmetric||S,X=-(q.vmetric?B[1]:Tt*.5)*E,st=B[2]*E;Tt=B?-B[0]:Tt,St=X/c,Gt=(P+st)/c}else St=P/c,Gt=0;if(s.remeasure&&Tt>0){const B=l.measureText(ft).width*1e3/r*c;if(Tt<B&&this.isFontSubpixelAAEnabled){const X=Tt/B;$=!0,l.save(),l.scale(X,1),St/=X}else Tt!==B&&(St+=(Tt-B)/2e3*r/c)}if(this.contentVisible&&(q.isInFont||s.missingFile)){if(D&&!ot)l.fillText(ft,St,Gt);else if(this.paintChar(ft,St,Gt,R,L),ot){const B=St+r*ot.offset.x/c,X=Gt-r*ot.offset.y/c;this.paintChar(ot.fontChar,B,X,R,L)}}const zt=v?Tt*E-tt*p:Tt*E+tt*p;P+=zt,$&&l.restore()}v?e.y-=P:e.x+=P*g,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,l=s.fontSize,c=s.fontDirection,u=r.vertical?1:-1,f=s.charSpacing,p=s.wordSpacing,g=s.textHScale*c,b=s.fontMatrix||Cv,v=t.length,A=s.textRenderingMode===di.INVISIBLE;let S,E,D,R;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(g,c),S=0;S<v;++S){if(E=t[S],typeof E=="number"){R=u*E*l/1e3,this.ctx.translate(R,0),s.x+=R*g;continue}const L=(E.isSpace?p:0)+f,N=r.charProcOperatorList[E.operatorListId];if(!N){Mt(`Type3 character "${E.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=E,this.save(),e.scale(l,l),e.transform(...b),this.executeOperatorList(N),this.restore()),D=dt.applyTransform([E.width,0],b)[0]*l+L,e.translate(D,0),s.x+=D*g}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,l,c){this.ctx.rect(s,r,l-s,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||he(this.ctx),l={createCanvasGraphics:c=>new Fx(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Jv(t,s,this.ctx,l,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=dt.makeHexColor(t,e,s),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=dt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=wI(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,vn(e),vi.SHADING);const r=vn(e);if(r){const{width:l,height:c}=e.canvas,[u,f,p,g]=dt.getAxialAlignedBoundingBox([0,0,l,c],r);this.ctx.fillRect(u,f,p-u,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ae("Should not call beginInlineImage")}beginImageData(){ae("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=he(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(he(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||uy("TODO: Support non-isolated groups."),t.knockout&&Mt("Knockout groups not supported.");const s=he(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=dt.getAxialAlignedBoundingBox(t.bbox,he(e));const l=[0,0,e.canvas.width,e.canvas.height];r=dt.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),u=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),p=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(g,f,p),v=b.context;v.translate(-c,-u),v.transform(...s),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:c,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,u),e.save()),Jh(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=he(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=dt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,s,r,l){if(_(this,dn,tA).call(this),Hm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],u=e[3]-e[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=u;const[f,p]=dt.singularValueDecompose2dScale(he(this.ctx)),{viewportScale:g}=this,b=Math.ceil(c*this.outputScaleX*g),v=Math.ceil(u*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,u*p),Hm(this.ctx)}else Hm(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,u),this.ctx.clip(),this.ctx.beginPath()}this.current=new __(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,dn,eA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=MI(t)),r.compiled)){r.compiled(s);return}const l=this._createMaskCanvas(t),c=l.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,l.offsetX,l.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const u=this.ctx;u.save();const f=he(u);u.transform(e,s,r,l,0,0);const p=this._createMaskCanvas(t);u.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let g=0,b=c.length;g<b;g+=2){const v=dt.transform(f,[e,s,r,l,c[g],c[g+1]]),[A,S]=dt.applyTransform([0,0],v);u.drawImage(p.canvas,A,S)}u.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:c,width:u,height:f,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",u,f),b=g.context;b.save();const v=this.getObject(c,l);M_(b,v),b.globalCompositeOperation="source-in",b.fillStyle=r?s.getPattern(b,this,vn(e),vi.FILL):s,b.fillRect(0,0,u,f),b.restore(),e.save(),e.transform(...p),e.scale(1,-1),zm(e,g.canvas,0,0,u,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Mt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Mt("Dependent image isn't ready yet");return}const c=l.width,u=l.height,f=[];for(let p=0,g=r.length;p<g;p+=2)f.push({transform:[e,0,0,s,r[p],r[p+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!Ai){const{filter:u}=r;u!=="none"&&u!==""&&(r.filter="none")}r.scale(1/e,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,s).context;C_(f,t),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,vn(r));r.imageSmoothingEnabled=R_(he(r),t.interpolate),zm(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;C_(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of e)s.save(),s.transform(...l.transform),s.scale(1,-1),zm(s,r,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===D_?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=he(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:l}=this.ctx.getTransform();let c,u;if(s===0&&r===0){const f=Math.abs(e),p=Math.abs(l);if(f===p)if(t===0)c=u=1/f;else{const g=f*t;c=u=g<1?1/g:1}else if(t===0)c=1/f,u=1/p;else{const g=f*t,b=p*t;c=g<1?1/g:1,u=b<1?1/b:1}}else{const f=Math.abs(e*l-s*r),p=Math.hypot(e,s),g=Math.hypot(r,l);if(t===0)c=g/f,u=p/f;else{const b=t*f;c=g>b?g/b:1,u=p>b?p/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,l]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&l===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,l),c.length>0){const u=Math.max(r,l);e.setLineDash(c.map(f=>f/u)),e.lineDashOffset/=u}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};dn=new WeakSet,tA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},eA=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},iA=function(t,e,s){const r=new Path2D;return r.addPath(t,new DOMMatrix(s).invertSelf().multiplySelf(e)),r};let Ic=Fx;for(const a in Ks)Ic.prototype[a]!==void 0&&(Ic.prototype[Ks[a]]=Ic.prototype[a]);var ff,pf;class Pa{static get workerPort(){return d(this,ff)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");x(this,ff,t)}static get workerSrc(){return d(this,pf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");x(this,pf,t)}}ff=new WeakMap,pf=new WeakMap,T(Pa,ff,null),T(Pa,pf,"");var $o,mf;class LI{constructor({parsedData:t,rawData:e}){T(this,$o);T(this,mf);x(this,$o,t),x(this,mf,e)}getRaw(){return d(this,mf)}get(t){return d(this,$o).get(t)??null}getAll(){return Cx(d(this,$o))}has(t){return d(this,$o).has(t)}}$o=new WeakMap,mf=new WeakMap;const Tc=Symbol("INTERNAL");var gf,yf,bf,iu;class OI{constructor(t,{name:e,intent:s,usage:r,rbGroups:l}){T(this,gf,!1);T(this,yf,!1);T(this,bf,!1);T(this,iu,!0);x(this,gf,!!(t&ms.DISPLAY)),x(this,yf,!!(t&ms.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=l}get visible(){if(d(this,bf))return d(this,iu);if(!d(this,iu))return!1;const{print:t,view:e}=this.usage;return d(this,gf)?(e==null?void 0:e.viewState)!=="OFF":d(this,yf)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==Tc&&ae("Internal method `_setVisible` called."),x(this,bf,s),x(this,iu,e)}}gf=new WeakMap,yf=new WeakMap,bf=new WeakMap,iu=new WeakMap;var Cr,Qt,su,nu,vf,sA;class kI{constructor(t,e=ms.DISPLAY){T(this,vf);T(this,Cr,null);T(this,Qt,new Map);T(this,su,null);T(this,nu,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,x(this,nu,t.order);for(const s of t.groups)d(this,Qt).set(s.id,new OI(e,s));if(t.baseState==="OFF")for(const s of d(this,Qt).values())s._setVisible(Tc,!1);for(const s of t.on)d(this,Qt).get(s)._setVisible(Tc,!0);for(const s of t.off)d(this,Qt).get(s)._setVisible(Tc,!1);x(this,su,this.getHash())}}isVisible(t){if(d(this,Qt).size===0)return!0;if(!t)return uy("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,Qt).has(t.id)?d(this,Qt).get(t.id).visible:(Mt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return _(this,vf,sA).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,Qt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(d(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,Qt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(!d(this,Qt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,Qt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(!d(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,Qt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(d(this,Qt).get(e).visible)return!1}return!0}return Mt(`Unknown optional content policy ${t.policy}.`),!0}return Mt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var l;const r=d(this,Qt).get(t);if(!r){Mt(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const u of c)u!==t&&((l=d(this,Qt).get(u))==null||l._setVisible(Tc,!1,!0));r._setVisible(Tc,!!e,!0),x(this,Cr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const l=d(this,Qt).get(r);if(l)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}x(this,Cr,null)}get hasInitialVisibility(){return d(this,su)===null||this.getHash()===d(this,su)}getOrder(){return d(this,Qt).size?d(this,nu)?d(this,nu).slice():[...d(this,Qt).keys()]:null}getGroups(){return d(this,Qt).size>0?Cx(d(this,Qt)):null}getGroup(t){return d(this,Qt).get(t)||null}getHash(){if(d(this,Cr)!==null)return d(this,Cr);const t=new nR;for(const[e,s]of d(this,Qt))t.update(`${e}:${s.visible}`);return x(this,Cr,t.hexdigest())}}Cr=new WeakMap,Qt=new WeakMap,su=new WeakMap,nu=new WeakMap,vf=new WeakSet,sA=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const l=t[r];let c;if(Array.isArray(l))c=_(this,vf,sA).call(this,l);else if(d(this,Qt).has(l))c=d(this,Qt).get(l).visible;else return Mt(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"};class PI{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Oe(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});Oe(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,l;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Oe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new jI(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new II(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class jI{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=Dx(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class II{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function BI(a){let t=!0,e=s("filename\\*","i").exec(a);if(e){e=e[1];let g=u(e);return g=unescape(g),g=f(g),g=p(g),l(g)}if(e=c(a),e){const g=p(e);return l(g)}if(e=s("filename","i").exec(a),e){e=e[1];let g=u(e);return g=p(g),l(g)}function s(g,b){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(g,b){if(g){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(g,{fatal:!0}),A=hy(b);b=v.decode(A),t=!1}catch{}}return b}function l(g){return t&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),t&&(g=r("iso-8859-1",g))),g}function c(g){const b=[];let v;const A=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=A.exec(g))!==null;){let[,E,D,R]=v;if(E=parseInt(E,10),E in b){if(E===0)break;continue}b[E]=[D,R]}const S=[];for(let E=0;E<b.length&&E in b;++E){let[D,R]=b[E];R=u(R),D&&(R=unescape(R),E===0&&(R=f(R))),S.push(R)}return S.join("")}function u(g){if(g.startsWith('"')){const b=g.slice(1).split('\\"');for(let v=0;v<b.length;++v){const A=b[v].indexOf('"');A!==-1&&(b[v]=b[v].slice(0,A),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}g=b.join('"')}return g}function f(g){const b=g.indexOf("'");if(b===-1)return g;const v=g.slice(0,b),S=g.slice(b+1).replace(/^[^']*'/,"");return r(v,S)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,D){return String.fromCharCode(parseInt(D,16))}),r(v,S);try{S=atob(S)}catch{}return r(v,S)})}return""}function bR(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function py(a){try{return new URL(a).origin}catch{}return null}function vR({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(a.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||s||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function AR(a){const t=a.get("Content-Disposition");if(t){let e=BI(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Dx(e))return e}return null}function my(a,t){return a===404||a===0&&t.startsWith("file:")?new kd('Missing PDF "'+t+'".'):new Ng(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a)}function xR(a){return a===200||a===206}function SR(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function wR(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Mt(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class N_{constructor(t){gt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=bR(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Oe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new FI(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new zI(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class FI{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,SR(s,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=py(l.url),!xR(l.status))throw my(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:u,suggestedLength:f}=vR({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=f||this._contentLength,this._filename=AR(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Yr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:wR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class zI{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${s-1}`);const c=r.url;fetch(c,SR(l,this._withCredentials,this._abortController)).then(u=>{const f=py(u.url);if(f!==t._responseOrigin)throw new Error(`Expected range response-origin "${f}" to match "${t._responseOrigin}".`);if(!xR(u.status))throw my(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:wR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const sv=200,nv=206;function HI(a){const t=a.response;return typeof t!="string"?t:hy(t).buffer}class VI{constructor({url:t,httpHeaders:e,withCredentials:s}){gt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=bR(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=nv):r.expectedStatus=sv,e.responseType="arraybuffer",Oe(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){s.onError(r.status);return}const l=r.status||sv;if(!(l===sv&&s.expectedStatus===nv)&&l!==s.expectedStatus){s.onError(r.status);return}const u=HI(r);if(l===nv){const f=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);p?s.onDone({begin:parseInt(p[1],10),chunk:u}):(Mt('Missing or invalid "Content-Range" header.'),s.onError(0))}else u?s.onDone({begin:0,chunk:u}):s.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class UI{constructor(t){this._source=t,this._manager=new VI(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Oe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new GI(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new qI(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class GI{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=py(e.responseURL);const s=e.getAllResponseHeaders(),r=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[f,...p]=u.split(": ");return[f,p.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=vR({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=AR(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=my(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class qI{constructor(t,e,s){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=py((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=my(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const XI=/^[a-z][a-z0-9\-+.]+:/i;function YI(a){if(XI.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class KI{constructor(t){this.source=t,this.url=YI(t.url),Oe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Oe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new $I(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new WI(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class $I{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new kd(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Yr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class WI{constructor(t,e,s){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:e,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const QI=1e5,Bi=30,ZI=.8;var I_,Mr,Vi,Af,xf,Wo,va,Sf,wf,Qo,au,ru,Rr,ou,Ef,lu,Zo,Tf,_f,Jo,tl,Cf,Dr,cu,za,ER,TR,nA,bs,og,aA,_R,CR;const Be=class Be{constructor({textContentSource:t,container:e,viewport:s}){T(this,za);T(this,Mr,Promise.withResolvers());T(this,Vi,null);T(this,Af,!1);T(this,xf,!!((I_=globalThis.FontInspector)!=null&&I_.enabled));T(this,Wo,null);T(this,va,null);T(this,Sf,0);T(this,wf,0);T(this,Qo,null);T(this,au,null);T(this,ru,0);T(this,Rr,0);T(this,ou,Object.create(null));T(this,Ef,[]);T(this,lu,null);T(this,Zo,[]);T(this,Tf,new WeakMap);T(this,_f,null);var f;if(t instanceof ReadableStream)x(this,lu,t);else if(typeof t=="object")x(this,lu,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');x(this,Vi,x(this,au,e)),x(this,Rr,s.scale*(globalThis.devicePixelRatio||1)),x(this,ru,s.rotation),x(this,va,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:c,pageY:u}=s.rawDims;x(this,_f,[1,0,0,-1,-c,u+l]),x(this,wf,r),x(this,Sf,l),_(f=Be,bs,_R).call(f),Ll(e,s),d(this,Mr).promise.finally(()=>{d(Be,cu).delete(this),x(this,va,null),x(this,ou,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Di.platform;return Pt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,Qo).read().then(({value:e,done:s})=>{if(s){d(this,Mr).resolve();return}d(this,Wo)??x(this,Wo,e.lang),Object.assign(d(this,ou),e.styles),_(this,za,ER).call(this,e.items),t()},d(this,Mr).reject)};return x(this,Qo,d(this,lu).getReader()),d(Be,cu).add(this),t(),d(this,Mr).promise}update({viewport:t,onBefore:e=null}){var l;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==d(this,ru)&&(e==null||e(),x(this,ru,r),Ll(d(this,au),{rotation:r})),s!==d(this,Rr)){e==null||e(),x(this,Rr,s);const c={div:null,properties:null,ctx:_(l=Be,bs,og).call(l,d(this,Wo))};for(const u of d(this,Zo))c.properties=d(this,Tf).get(u),c.div=u,_(this,za,nA).call(this,c)}}cancel(){var e;const t=new Yr("TextLayer task cancelled.");(e=d(this,Qo))==null||e.cancel(t).catch(()=>{}),x(this,Qo,null),d(this,Mr).reject(t)}get textDivs(){return d(this,Zo)}get textContentItemsStr(){return d(this,Ef)}static cleanup(){if(!(d(this,cu).size>0)){d(this,Jo).clear();for(const{canvas:t}of d(this,tl).values())t.remove();d(this,tl).clear()}}};Mr=new WeakMap,Vi=new WeakMap,Af=new WeakMap,xf=new WeakMap,Wo=new WeakMap,va=new WeakMap,Sf=new WeakMap,wf=new WeakMap,Qo=new WeakMap,au=new WeakMap,ru=new WeakMap,Rr=new WeakMap,ou=new WeakMap,Ef=new WeakMap,lu=new WeakMap,Zo=new WeakMap,Tf=new WeakMap,_f=new WeakMap,Jo=new WeakMap,tl=new WeakMap,Cf=new WeakMap,Dr=new WeakMap,cu=new WeakMap,za=new WeakSet,ER=function(t){var r,l;if(d(this,Af))return;(l=d(this,va)).ctx??(l.ctx=_(r=Be,bs,og).call(r,d(this,Wo)));const e=d(this,Zo),s=d(this,Ef);for(const c of t){if(e.length>QI){Mt("Ignoring additional textDivs for performance reasons."),x(this,Af,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const u=d(this,Vi);x(this,Vi,document.createElement("span")),d(this,Vi).classList.add("markedContent"),c.id!==null&&d(this,Vi).setAttribute("id",`${c.id}`),u.append(d(this,Vi))}else c.type==="endMarkedContent"&&x(this,Vi,d(this,Vi).parentNode);continue}s.push(c.str),_(this,za,TR).call(this,c)}},TR=function(t){var E;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Zo).push(e);const r=dt.transform(d(this,_f),t.transform);let l=Math.atan2(r[1],r[0]);const c=d(this,ou)[t.fontName];c.vertical&&(l+=Math.PI/2);let u=d(this,xf)&&c.fontSubstitution||c.fontFamily;u=Be.fontFamilyMap.get(u)||u;const f=Math.hypot(r[2],r[3]),p=f*_(E=Be,bs,CR).call(E,u,d(this,Wo));let g,b;l===0?(g=r[4],b=r[5]-p):(g=r[4]+p*Math.sin(l),b=r[5]-p*Math.cos(l));const v="calc(var(--scale-factor)*",A=e.style;d(this,Vi)===d(this,au)?(A.left=`${(100*g/d(this,wf)).toFixed(2)}%`,A.top=`${(100*b/d(this,Sf)).toFixed(2)}%`):(A.left=`${v}${g.toFixed(2)}px)`,A.top=`${v}${b.toFixed(2)}px)`),A.fontSize=`${v}${(d(Be,Dr)*f).toFixed(2)}px)`,A.fontFamily=u,s.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,xf)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const D=Math.abs(t.transform[0]),R=Math.abs(t.transform[3]);D!==R&&Math.max(D,R)/Math.min(D,R)>1.5&&(S=!0)}if(S&&(s.canvasWidth=c.vertical?t.height:t.width),d(this,Tf).set(e,s),d(this,va).div=e,d(this,va).properties=s,_(this,za,nA).call(this,d(this,va)),s.hasText&&d(this,Vi).append(e),s.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),d(this,Vi).append(D)}},nA=function(t){var u;const{div:e,properties:s,ctx:r}=t,{style:l}=e;let c="";if(d(Be,Dr)>1&&(c=`scale(${1/d(Be,Dr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=l,{canvasWidth:p,fontSize:g}=s;_(u=Be,bs,aA).call(u,r,g*d(this,Rr),f);const{width:b}=r.measureText(e.textContent);b>0&&(c=`scaleX(${p*d(this,Rr)/b}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(l.transform=c)},bs=new WeakSet,og=function(t=null){let e=d(this,tl).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,tl).set(t,e),d(this,Cf).set(e,{size:0,family:""})}return e},aA=function(t,e,s){const r=d(this,Cf).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},_R=function(){if(d(this,Dr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),x(this,Dr,t.getBoundingClientRect().height),t.remove()},CR=function(t,e){const s=d(this,Jo).get(t);if(s)return s;const r=_(this,bs,og).call(this,e);r.canvas.width=r.canvas.height=Bi,_(this,bs,aA).call(this,r,Bi,t);const l=r.measureText("");let c=l.fontBoundingBoxAscent,u=Math.abs(l.fontBoundingBoxDescent);if(c){const g=c/(c+u);return d(this,Jo).set(t,g),r.canvas.width=r.canvas.height=0,g}r.strokeStyle="red",r.clearRect(0,0,Bi,Bi),r.strokeText("g",0,0);let f=r.getImageData(0,0,Bi,Bi).data;u=0;for(let g=f.length-1-3;g>=0;g-=4)if(f[g]>0){u=Math.ceil(g/4/Bi);break}r.clearRect(0,0,Bi,Bi),r.strokeText("A",0,Bi),f=r.getImageData(0,0,Bi,Bi).data,c=0;for(let g=0,b=f.length;g<b;g+=4)if(f[g]>0){c=Bi-Math.floor(g/4/Bi);break}r.canvas.width=r.canvas.height=0;const p=c?c/(c+u):ZI;return d(this,Jo).set(t,p),p},T(Be,bs),T(Be,Jo,new Map),T(Be,tl,new Map),T(Be,Cf,new WeakMap),T(Be,Dr,null),T(Be,cu,new Set);let Pd=Be;class jd{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(l){var f;if(!l)return;let c=null;const u=l.name;if(u==="#text")c=l.value;else if(jd.shouldBuildText(u))(f=l==null?void 0:l.attributes)!=null&&f.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const p of l.children)r(p)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const JI=65536,tB=100,eB=5e3,iB=Ai?gI:fI,sB=Ai?yI:dR,nB=Ai?mI:pI,aB=Ai?bI:gR;function rB(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new rA,{docId:e}=t,s=a.url?oB(a.url):null,r=a.data?lB(a.data):null,l=a.httpHeaders||null,c=a.withCredentials===!0,u=a.password??null,f=a.range instanceof MR?a.range:null,p=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:JI;let g=a.worker instanceof Bc?a.worker:null;const b=a.verbosity,v=typeof a.docBaseUrl=="string"&&!fy(a.docBaseUrl)?a.docBaseUrl:null,A=typeof a.cMapUrl=="string"?a.cMapUrl:null,S=a.cMapPacked!==!1,E=a.CMapReaderFactory||sB,D=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,R=a.StandardFontDataFactory||aB,L=a.stopAtErrors!==!0,N=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,j=a.isEvalSupported!==!1,P=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Ai,U=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!Ai&&(Di.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,$=typeof a.disableFontFace=="boolean"?a.disableFontFace:Ai,tt=a.fontExtraProperties===!0,ft=a.enableXfa===!0,ot=a.ownerDocument||globalThis.document,St=a.disableRange===!0,Gt=a.disableStream===!0,Tt=a.disableAutoFetch===!0,zt=a.pdfBug===!0,B=a.CanvasFactory||iB,X=a.FilterFactory||nB,st=a.enableHWA===!0,wt=f?f.length:a.length??NaN,k=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Ai&&!$,W=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:E===dR&&R===gR&&A&&D&&sd(A,document.baseURI)&&sd(D,document.baseURI),et=null;qj(b);const Z={canvasFactory:new B({ownerDocument:ot,enableHWA:st}),filterFactory:new X({docId:e,ownerDocument:ot}),cMapReaderFactory:W?null:new E({baseUrl:A,isCompressed:S}),standardFontDataFactory:W?null:new R({baseUrl:D})};if(!g){const ct={verbosity:b,port:Pa.workerPort};g=ct.port?Bc.fromPort(ct):new Bc(ct),t._worker=g}const ht={docId:e,apiVersion:"4.10.38",data:r,password:u,disableAutoFetch:Tt,rangeChunkSize:p,length:wt,docBaseUrl:v,enableXfa:ft,evaluatorOptions:{maxImageSize:N,disableFontFace:$,ignoreErrors:L,isEvalSupported:j,isOffscreenCanvasSupported:P,isImageDecoderSupported:U,canvasMaxAreaInBytes:q,fontExtraProperties:tt,useSystemFonts:k,cMapUrl:W?A:null,standardFontDataUrl:W?D:null}},Nt={disableFontFace:$,fontExtraProperties:tt,ownerDocument:ot,pdfBug:zt,styleElement:et,loadingParams:{disableAutoFetch:Tt,enableXfa:ft}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ct=g.messageHandler.sendWithPromise("GetDocRequest",ht,r?[r.buffer]:null);let Lt;if(f)Lt=new PI(f,{disableRange:St,disableStream:Gt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let qt;if(Ai)if(sd(s)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");qt=N_}else qt=KI;else qt=sd(s)?N_:UI;Lt=new qt({url:s,length:wt,httpHeaders:l,withCredentials:c,rangeChunkSize:p,disableRange:St,disableStream:Gt})}return ct.then(qt=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Vs=new od(e,qt,g.port),Wu=new dB(Vs,t,Lt,Nt,Z);t._transport=Wu,Vs.send("Ready",null)})}).catch(t._capability.reject),t}function oB(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(Ai&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function lB(a){if(Ai&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return hy(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function L_(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var Yg;const Kg=class Kg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${wi(Kg,Yg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s,r;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(l){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,l}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}};Yg=new WeakMap,T(Kg,Yg,0);let rA=Kg;class MR{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ae("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class cB{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Nr,Aa,Fs,_c,lg;class uB{constructor(t,e,s,r=!1){T(this,Fs);T(this,Nr,null);T(this,Aa,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new b_:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new RR,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:l=!1}={}){return new mp({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=pr.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:b=!1}){var j,P;(j=this._stats)==null||j.time("Overall");const v=this._transport.getRenderingIntent(s,r,g,b),{renderingIntent:A,cacheKey:S}=v;x(this,Aa,!1),_(this,Fs,lg).call(this),u||(u=this._transport.getOptionalContentConfig(A));let E=this._intentStates.get(S);E||(E=Object.create(null),this._intentStates.set(S,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const D=!!(A&ms.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(v));const R=U=>{var q;E.renderTasks.delete(L),(this._maybeCleanupAfterRender||D)&&x(this,Aa,!0),_(this,Fs,_c).call(this,!D),U?(L.capability.reject(U),this._abortOperatorList({intentState:E,reason:U instanceof Error?U:new Error(U)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(q=globalThis.Stats)!=null&&q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new lA({callback:R,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:p});(E.renderTasks||(E.renderTasks=new Set)).add(L);const N=L.task;return Promise.all([E.displayReadyCapability.promise,u]).then(([U,q])=>{var $;if(this.destroyed){R();return}if(($=this._stats)==null||$.time("Rendering"),!(q.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:U,optionalContentConfig:q}),L.operatorListChanged()}).catch(R),N}getOperatorList({intent:t="display",annotationMode:e=pr.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var p;function l(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,e,s,r,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let f;return u.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(f),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>jd.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function l(){c.read().then(function({value:f,done:p}){if(p){s(u);return}u.lang??(u.lang=f.lang),Object.assign(u.styles,f.styles),u.items.push(...f.items),l()},r)}const c=e.getReader(),u={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),x(this,Aa,!1),_(this,Fs,lg).call(this),Promise.all(t)}cleanup(t=!1){x(this,Aa,!0);const e=_(this,Fs,_c).call(this,!1);return t&&e&&this._stats&&(this._stats=new b_),e}_startRenderPage(t,e){var r,l;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=s.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&_(this,Fs,_c).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:l,transfer:c}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},c).getReader(),p=this._intentStates.get(e);p.streamReader=f;const g=()=>{f.read().then(({value:b,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,p),g())},b=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();_(this,Fs,_c).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(b);else if(p.opListReadCapability)p.opListReadCapability.reject(b);else throw b}})};g()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof Rx){let r=tB;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Yr(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Nr=new WeakMap,Aa=new WeakMap,Fs=new WeakSet,_c=function(t=!1){if(_(this,Fs,lg).call(this),!d(this,Aa)||this.destroyed)return!1;if(t)return x(this,Nr,setTimeout(()=>{x(this,Nr,null),_(this,Fs,_c).call(this,!1)},eB)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(this,Aa,!1),!0},lg=function(){d(this,Nr)&&(clearTimeout(d(this,Nr)),x(this,Nr,null))};var xa,$g;class hB{constructor(){T(this,xa,new Map);T(this,$g,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};d(this,$g).then(()=>{for(const[r]of d(this,xa))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:l}=s;if(l.aborted){Mt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}d(this,xa).set(e,r)}removeEventListener(t,e){const s=d(this,xa).get(e);s==null||s(),d(this,xa).delete(e)}terminate(){for(const[,t]of d(this,xa))t==null||t();d(this,xa).clear()}}xa=new WeakMap,$g=new WeakMap;var Wg,el,il,uu,cg,hu,ug;const ue=class ue{constructor({name:t=null,port:e=null,verbosity:s=Xj()}={}){T(this,uu);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=d(ue,il))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(ue,il)||x(ue,il,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new od("main","worker",t),this._messageHandler.on("ready",function(){}),_(this,uu,cg).call(this)}_initialize(){if(d(ue,el)||d(ue,hu,ug)){this._setupFakeWorker();return}let{workerSrc:t}=ue;try{ue._isSameOrigin(window.location.href,t)||(t=ue._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new od("main","worker",e),r=()=>{l.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),s.on("test",u=>{if(l.abort(),this.destroyed||!u){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,_(this,uu,cg).call(this)}),s.on("ready",u=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const u=new Uint8Array;s.send("test",u,[u.buffer])};c();return}catch{uy("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(ue,el)||(Mt("Setting up fake worker."),x(ue,el,!0)),ue._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new hB;this._port=e;const s=`fake${wi(ue,Wg)._++}`,r=new od(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new od(s,s+"_worker",e),_(this,uu,cg).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t,e,s;this.destroyed=!0,(t=this._webWorker)==null||t.terminate(),this._webWorker=null,(e=d(ue,il))==null||e.delete(this._port),this._port=null,(s=this._messageHandler)==null||s.destroy(),this._messageHandler=null}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=d(this,il))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ue(t)}static get workerSrc(){if(Pa.workerSrc)return Pa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pt(this,"_setupFakeWorkerGlobal",(async()=>d(this,hu,ug)?d(this,hu,ug):(await import(this.workerSrc)).WorkerMessageHandler)())}};Wg=new WeakMap,el=new WeakMap,il=new WeakMap,uu=new WeakSet,cg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},hu=new WeakSet,ug=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},T(ue,hu),T(ue,Wg,0),T(ue,el,!1),T(ue,il),Ai&&(x(ue,el,!0),Pa.workerSrc||(Pa.workerSrc="./pdf.worker.mjs")),ue._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},ue._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Bc=ue;var Sa,Nn,du,fu,wa,sl,dd;class dB{constructor(t,e,s,r,l){T(this,sl);T(this,Sa,new Map);T(this,Nn,new Map);T(this,du,new Map);T(this,fu,new Map);T(this,wa,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new RR,this.fontLoader=new hI({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Pt(this,"annotationStorage",new Ox)}getRenderingIntent(t,e=pr.ENABLE,s=null,r=!1,l=!1){let c=ms.DISPLAY,u=$v;switch(t){case"any":c=ms.ANY;break;case"display":break;case"print":c=ms.PRINT;break;default:Mt(`getRenderingIntent - invalid intent: ${t}`)}const f=c&ms.PRINT&&s instanceof rR?s:this.annotationStorage;switch(e){case pr.DISABLE:c+=ms.ANNOTATIONS_DISABLE;break;case pr.ENABLE:break;case pr.ENABLE_FORMS:c+=ms.ANNOTATIONS_FORMS;break;case pr.ENABLE_STORAGE:c+=ms.ANNOTATIONS_STORAGE,u=f.serializable;break;default:Mt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=ms.IS_EDITING),l&&(c+=ms.OPLIST);const{ids:p,hash:g}=f.modifiedIds,b=[c,u.hash,g];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:u,modifiedIds:p}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=d(this,wa))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of d(this,Nn).values())t.push(r._destroy());d(this,Nn).clear(),d(this,du).clear(),d(this,fu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r,l;this.commonObjs.clear(),this.fontLoader.clear(),d(this,Sa).clear(),this.filterFactory.destroy(),Pd.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Yr("Worker was terminated.")),(l=this.messageHandler)==null||l.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{Oe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}Oe(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((u=e.onProgress)==null||u.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(s,r)=>{Oe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:u}){if(u){r.close();return}Oe(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new cB(s,this))}),t.on("DocException",s=>{e._capability.reject(Fi(s))}),t.on("PasswordRequest",s=>{x(this,wa,Promise.withResolvers());try{if(!e.onPassword)throw Fi(s);const r=l=>{l instanceof Error?d(this,wa).reject(l):d(this,wa).resolve({password:l})};e.onPassword(r,s.code)}catch(r){d(this,wa).reject(r)}return d(this,wa).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;d(this,Nn).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,l])=>{var c;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:u,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in l){const A=l.error;Mt(`Error during font loading: ${A}`),this.commonObjs.resolve(s,A);break}const g=p&&((c=globalThis.FontInspector)!=null&&c.enabled)?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,b=new dI(l,{disableFontFace:u,fontExtraProperties:f,inspectFont:g});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&b.data&&(b.data=null),this.commonObjs.resolve(s,b)});break;case"CopyLocalImage":const{imageRef:v}=l;Oe(v,"The imageRef must be defined.");for(const A of d(this,Nn).values())for(const[,S]of A.objs)if((S==null?void 0:S.ref)===v)return S.dataLen?(this.commonObjs.resolve(s,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,l,c])=>{var f;if(this.destroyed)return;const u=d(this,Nn).get(r);if(!u.objs.has(s)){if(u._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(l){case"Image":u.objs.resolve(s,c),(c==null?void 0:c.dataLen)>Hj&&(u._maybeCleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Mt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=d(this,du).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&d(this,fu).set(l.refStr,t);const c=new uB(e,l,this,this._params.pdfBug);return d(this,Nn).set(e,c),c});return d(this,du).set(e,r),r}getPageIndex(t){return L_(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return _(this,sl,dd).call(this,"GetFieldObjects")}hasJSActions(){return _(this,sl,dd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,sl,dd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return _(this,sl,dd).call(this,"GetOptionalContentConfig").then(e=>new kI(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,Sa).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,c;return{info:r[0],metadata:r[1]?new LI(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return d(this,Sa).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,Nn).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,Sa).clear(),this.filterFactory.destroy(!0),Pd.cleanup()}}cachedPageNumber(t){if(!L_(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,fu).get(e)??null}}Sa=new WeakMap,Nn=new WeakMap,du=new WeakMap,fu=new WeakMap,wa=new WeakMap,sl=new WeakSet,dd=function(t,e=null){const s=d(this,Sa).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return d(this,Sa).set(t,r),r};const td=Symbol("INITIAL_DATA");var rs,Mf,oA;class RR{constructor(){T(this,Mf);T(this,rs,Object.create(null))}get(t,e=null){if(e){const r=_(this,Mf,oA).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=d(this,rs)[t];if(!s||s.data===td)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=d(this,rs)[t];return!!e&&e.data!==td}delete(t){const e=d(this,rs)[t];return!e||e.data===td?!1:(delete d(this,rs)[t],!0)}resolve(t,e=null){const s=_(this,Mf,oA).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in d(this,rs)){const{data:s}=d(this,rs)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}x(this,rs,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,rs)){const{data:e}=d(this,rs)[t];e!==td&&(yield[t,e])}}}rs=new WeakMap,Mf=new WeakSet,oA=function(t){var e;return(e=d(this,rs))[t]||(e[t]={...Promise.withResolvers(),data:td})};var Lr;class fB{constructor(t){T(this,Lr,null);x(this,Lr,t),this.onContinue=null}get promise(){return d(this,Lr).capability.promise}cancel(t=0){d(this,Lr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,Lr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,Lr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Lr=new WeakMap;var Or,nl;const wo=class wo{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:u,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:b=!1,pageColors:v=null}){T(this,Or,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new fB(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var u,f;if(this.cancelled)return;if(this._canvas){if(d(wo,nl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(wo,nl).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:l,background:c}=this.params;this.gfx=new Ic(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),d(this,Or)&&(window.cancelAnimationFrame(d(this,Or)),x(this,Or,null)),d(wo,nl).delete(this._canvas),this.callback(t||new Rx(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(this,Or,window.requestAnimationFrame(()=>{x(this,Or,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(wo,nl).delete(this._canvas),this.callback())))}};Or=new WeakMap,nl=new WeakMap,T(wo,nl,new WeakSet);let lA=wo;const pB="4.10.38",mB="f9bea397f";function O_(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function ed(a){return Math.max(0,Math.min(255,255*a))}class k_{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=ed(t),[t,t,t]}static G_HTML([t]){const e=O_(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(ed)}static RGB_HTML(t){return`#${t.map(O_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[ed(1-Math.min(1,t+r)),ed(1-Math.min(1,s+r)),ed(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,l=1-e,c=1-s,u=Math.min(r,l,c);return["CMYK",r,l,c,u]}}class gB{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ae("Abstract method `_createSVG` called.")}}class Px extends gB{_createSVG(t){return document.createElementNS(aa,t)}}class DR{static setupStorage(t,e,s,r,l){const c=r.getValue(e,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const u of s.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const f=u.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:l}){const{attributes:c}=e,u=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!u||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}u&&l.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,e,s)}static render(t){var b,v;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,l=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:s});const u=l!=="richText",f=t.div;if(f.append(c),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}u&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);c.append(A),u&&jd.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const g=[[r,-1,c]];for(;g.length>0;){const[A,S,E]=g.at(-1);if(S+1===A.children.length){g.pop();continue}const D=A.children[++g.at(-1)[1]];if(D===null)continue;const{name:R}=D;if(R==="#text"){const N=document.createTextNode(D.value);p.push(N),E.append(N);continue}const L=(b=D==null?void 0:D.attributes)!=null&&b.xmlns?document.createElementNS(D.attributes.xmlns,R):document.createElement(R);if(E.append(L),D.attributes&&this.setAttributes({html:L,element:D,storage:e,intent:l,linkService:s}),((v=D.children)==null?void 0:v.length)>0)g.push([D,-1,L]);else if(D.value){const N=document.createTextNode(D.value);u&&jd.shouldBuildText(R)&&p.push(N),L.append(N)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const yp=1e3,yB=9,kl=new WeakSet;function qr(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class bB{static create(t){switch(t.data.annotationType){case Ie.LINK:return new NR(t);case Ie.TEXT:return new vB(t);case Ie.WIDGET:switch(t.data.fieldType){case"Tx":return new AB(t);case"Btn":return t.data.radioButton?new kR(t):t.data.checkBox?new SB(t):new wB(t);case"Ch":return new EB(t);case"Sig":return new xB(t)}return new jl(t);case Ie.POPUP:return new uA(t);case Ie.FREETEXT:return new FR(t);case Ie.LINE:return new _B(t);case Ie.SQUARE:return new CB(t);case Ie.CIRCLE:return new MB(t);case Ie.POLYLINE:return new zR(t);case Ie.CARET:return new DB(t);case Ie.INK:return new jx(t);case Ie.POLYGON:return new RB(t);case Ie.HIGHLIGHT:return new HR(t);case Ie.UNDERLINE:return new NB(t);case Ie.SQUIGGLY:return new LB(t);case Ie.STRIKEOUT:return new OB(t);case Ie.STAMP:return new VR(t);case Ie.FILEATTACHMENT:return new kB(t);default:return new Me(t)}}}var al,pu,mu,Rf,cA;const zx=class zx{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){T(this,Rf);T(this,al,null);T(this,pu,!1);T(this,mu,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return zx._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;d(this,al)||x(this,al,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&_(this,Rf,cA).call(this,e),(s=d(this,mu))==null||s.popup.updateEdited(t)}resetEdited(){var t;d(this,al)&&(_(this,Rf,cA).call(this,d(this,al).rect),(t=d(this,mu))==null||t.popup.resetEdited(),x(this,al,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof jl||(l.tabIndex=yp);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof uA){const{rotation:E}=e;return!e.hasOwnCanvas&&E!==0&&this.setRotation(E,l),l}const{width:u,height:f}=qr(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const E=e.borderStyle.horizontalCornerRadius,D=e.borderStyle.verticalCornerRadius;if(E>0||D>0){const L=`calc(${E}px * var(--scale-factor)) / calc(${D}px * var(--scale-factor))`;c.borderRadius=L}else if(this instanceof kR){const L=`calc(${u}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=L}switch(e.borderStyle.style){case Zh.SOLID:c.borderStyle="solid";break;case Zh.DASHED:c.borderStyle="dashed";break;case Zh.BEVELED:Mt("Unimplemented border style: beveled");break;case Zh.INSET:Mt("Unimplemented border style: inset");break;case Zh.UNDERLINE:c.borderBottomStyle="solid";break}const R=e.borderColor||null;R?(x(this,pu,!0),c.borderColor=dt.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):c.borderWidth=0}const p=dt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:g,pageHeight:b,pageX:v,pageY:A}=r.rawDims;c.left=`${100*(p[0]-v)/g}%`,c.top=`${100*(p[1]-A)/b}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(c.width=`${100*u/g}%`,c.height=`${100*f/b}%`):this.setRotation(S,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:c}=qr(this.data.rect);let u,f;t%180===0?(u=100*l/s,f=100*c/r):(u=100*c/s,f=100*l/r),e.style.width=`${u}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const l=r.detail[e],c=l[0],u=l.slice(1);r.target.style[s]=k_[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[s]:k_[`${c}_rgb`](u)})};return Pt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||s[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,l]of Object.entries(e)){const c=s[r];if(c){const u={detail:{[r]:l},target:t};c(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,l]=this.data.rect.map(E=>Math.fround(E));if(t.length===8){const[E,D,R,L]=t.subarray(2,6);if(r===E&&l===D&&e===R&&s===L)return}const{style:c}=this.container;let u;if(d(this,pu)){const{borderColor:E,borderWidth:D}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${D}">`],this.container.classList.add("hasBorder")}const f=r-e,p=l-s,{svgFactory:g}=this,b=g.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=g.createElement("defs");b.append(v);const A=g.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),v.append(A);for(let E=2,D=t.length;E<D;E+=8){const R=t[E],L=t[E+1],N=t[E+2],j=t[E+3],P=g.createElement("rect"),U=(N-e)/f,q=(l-L)/p,$=(R-N)/f,tt=(L-j)/p;P.setAttribute("x",U),P.setAttribute("y",q),P.setAttribute("width",$),P.setAttribute("height",tt),A.append(P),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${q}" width="${$}" height="${tt}"/>`)}d(this,pu)&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(b),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=x(this,mu,new uA({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ae("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:c,exportValues:u}of r){if(l===-1||c===e)continue;const f=typeof u=="string"?u:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!kl.has(p)){Mt(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:f,domElement:p})}return s}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==e&&kl.has(r)&&s.push({id:c,exportValue:l,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};al=new WeakMap,pu=new WeakMap,mu=new WeakMap,Rf=new WeakSet,cA=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:f}}}}=this;s==null||s.splice(0,4,...t);const{width:p,height:g}=qr(t);e.left=`${100*(t[0]-u)/l}%`,e.top=`${100*(c-t[3]+f)/c}%`,r===0?(e.width=`${100*p/l}%`,e.height=`${100*g/c}%`):this.setRotation(r)};let Me=zx;var gs,vo,LR,OR;class NR extends Me{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});T(this,gs);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(_(this,gs,LR).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(_(this,gs,OR).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&_(this,gs,vo).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),_(this,gs,vo).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(s.actions)){const c=r.get(l);c&&(e[c]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),_(this,gs,vo).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),_(this,gs,vo).call(this),!this._fieldObjects){Mt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var b;r==null||r();const{fields:l,refs:c,include:u}=s,f=[];if(l.length!==0||c.length!==0){const v=new Set(c);for(const A of l){const S=this._fieldObjects[A]||[];for(const{id:E}of S)v.add(E)}for(const A of Object.values(this._fieldObjects))for(const S of A)v.has(S.id)===u&&f.push(S)}else for(const v of Object.values(this._fieldObjects))f.push(...v);const p=this.annotationStorage,g=[];for(const v of f){const{id:A}=v;switch(g.push(A),v.type){case"text":{const E=v.defaultValue||"";p.setValue(A,{value:E});break}case"checkbox":case"radiobutton":{const E=v.defaultValue===v.exportValues;p.setValue(A,{value:E});break}case"combobox":case"listbox":{const E=v.defaultValue||"";p.setValue(A,{value:E});break}default:continue}const S=document.querySelector(`[data-element-id="${A}"]`);if(S){if(!kl.has(S)){Mt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}gs=new WeakSet,vo=function(){this.container.setAttribute("data-internal-link","")},LR=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(s.content,s.filename,r),!1},_(this,gs,vo).call(this)},OR=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),_(this,gs,vo).call(this)};class vB extends Me{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class jl extends Me{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Di.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,l){s.includes("mouse")?t.addEventListener(s,c=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{var u;if(s==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}l&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}}))})}_setEventListeners(t,e,s,r){var l,c,u;for(const[f,p]of s)(p==="Action"||(l=this.data.actions)!=null&&l[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,p,r),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":dt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||yB,l=t.style;let c;const u=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u),g=Math.round(p/(Zb*r))||1,b=p/g;c=Math.min(r,f(b/Zb))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(r,f(p/Zb))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=dt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class AB extends jl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=s),l.setValue(c.id,{[r]:s})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let u=c.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&u.length>f&&(u=u.slice(0,f));let p=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:u,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=p??u,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",p??u),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),kl.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=yp,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(s,"value",v.target.value,"value"),g.formattedValue=null}),s.addEventListener("resetform",v=>{const A=this.data.defaultFieldValue??"";s.value=g.userValue=A,g.formattedValue=null});let b=v=>{const{formattedValue:A}=g;A!=null&&(v.target.value=A),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",A=>{var E;if(g.focused)return;const{target:S}=A;g.userValue&&(S.value=g.userValue),g.lastCommittedValue=S.value,g.commitKey=1,(E=this.data.actions)!=null&&E.Focus||(g.focused=!0)}),s.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(E){g.userValue=E.detail.value??"",t.setValue(e,{value:g.userValue.toString()}),E.target.value=g.userValue},formattedValue(E){const{formattedValue:D}=E.detail;g.formattedValue=D,D!=null&&E.target!==document.activeElement&&(E.target.value=D),t.setValue(e,{formattedValue:D})},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{var N;const{charLimit:D}=E.detail,{target:R}=E;if(D===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",D);let L=g.userValue;!L||L.length<=D||(L=L.slice(0,D),R.value=g.userValue=L,t.setValue(e,{value:L}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),s.addEventListener("keydown",A=>{var D;g.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(g.commitKey=3),S===-1)return;const{value:E}=A.target;g.lastCommittedValue!==E&&(g.lastCommittedValue=E,g.userValue=E,(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const v=b;b=null,s.addEventListener("blur",A=>{var E,D;if(!g.focused||!A.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(g.focused=!1);const{value:S}=A.target;g.userValue=S,g.lastCommittedValue!==S&&((D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:g.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),v(A)}),(l=this.data.actions)!=null&&l.Keystroke&&s.addEventListener("beforeinput",A=>{var P;g.lastCommittedValue=null;const{data:S,target:E}=A,{value:D,selectionStart:R,selectionEnd:L}=E;let N=R,j=L;switch(A.inputType){case"deleteWordBackward":{const U=D.substring(0,R).match(/\w*[^\w]*$/);U&&(N-=U[0].length);break}case"deleteWordForward":{const U=D.substring(R).match(/^[^\w]*\w*/);U&&(j+=U[0].length);break}case"deleteContentBackward":R===L&&(N-=1);break;case"deleteContentForward":R===L&&(j+=1);break}A.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,change:S||"",willCommit:!1,selStart:N,selEnd:j}})}),this._setEventListeners(s,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(b&&s.addEventListener("blur",b),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class xB extends jl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class SB extends jl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return kl.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=yp,l.addEventListener("change",c=>{const{name:u,checked:f}=c.target;for(const p of this._getElementsByName(u,s)){const g=f&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(s,{value:f})}),l.addEventListener("resetform",c=>{const u=e.defaultFieldValue||"Off";c.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const u={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class kR extends jl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,s))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(kl.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=yp,l.addEventListener("change",c=>{const{name:u,checked:f}=c.target;for(const p of this._getElementsByName(u,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:f})}),l.addEventListener("resetform",c=>{const u=e.defaultFieldValue;c.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",u=>{const f={value:p=>{const g=c===p.detail.value;for(const b of this._getElementsByName(p.target.name)){const v=g&&b.id===s;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(f,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class wB extends NR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class EB extends jl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");kl.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=yp;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const b=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===b});for(const g of this.data.options){const b=document.createElement("option");b.textContent=g.displayValue,b.value=g.exportValue,s.value.includes(g.exportValue)&&(b.setAttribute("selected",!0),l=!1),r.append(b)}let c=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),c=()=>{g.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const u=g=>{const b=g?"value":"textContent",{options:v,multiple:A}=r;return A?Array.prototype.filter.call(v,S=>S.selected).map(S=>S[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let f=u(!1);const p=g=>{const b=g.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const b={value(v){c==null||c();const A=v.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const E of r.options)E.selected=S.has(E.value);t.setValue(e,{value:u(!0)}),f=u(!1)},multipleSelection(v){r.multiple=!0},remove(v){const A=r.options,S=v.detail.remove;A[S].selected=!1,r.remove(S),A.length>0&&Array.prototype.findIndex.call(A,D=>D.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:u(!0),items:p(v)}),f=u(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=u(!1)},insert(v){const{index:A,displayValue:S,exportValue:E}=v.detail.insert,D=r.children[A],R=document.createElement("option");R.textContent=S,R.value=E,D?D.before(R):r.append(R),t.setValue(e,{value:u(!0),items:p(v)}),f=u(!1)},items(v){const{items:A}=v.detail;for(;r.length!==0;)r.remove(0);for(const S of A){const{displayValue:E,exportValue:D}=S,R=document.createElement("option");R.textContent=E,R.value=D,r.append(R)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:p(v)}),f=u(!1)},indices(v){const A=new Set(v.detail.indices);for(const S of v.target.options)S.selected=A.has(S.index);t.setValue(e,{value:u(!0)}),f=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,g)}),r.addEventListener("input",g=>{var A;const b=u(!0),v=u(!1);t.setValue(e,{value:b}),g.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class uA extends Me{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:Me._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new TB({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${Mx}${s}`).join(",")),this.container}}var gu,Qg,Zg,yu,rl,xe,Ea,bu,Df,Nf,vu,Ta,Js,_a,Lf,Ca,Of,ol,ll,se,hg,hA,PR,jR,IR,BR,dg,fg,dA;class TB{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:l,contentsObj:c,richText:u,parent:f,rect:p,parentRect:g,open:b}){T(this,se);T(this,gu,_(this,se,IR).bind(this));T(this,Qg,_(this,se,dA).bind(this));T(this,Zg,_(this,se,fg).bind(this));T(this,yu,_(this,se,dg).bind(this));T(this,rl,null);T(this,xe,null);T(this,Ea,null);T(this,bu,null);T(this,Df,null);T(this,Nf,null);T(this,vu,null);T(this,Ta,!1);T(this,Js,null);T(this,_a,null);T(this,Lf,null);T(this,Ca,null);T(this,Of,null);T(this,ol,null);T(this,ll,!1);var v;x(this,xe,t),x(this,Of,r),x(this,Ea,c),x(this,Ca,u),x(this,Nf,f),x(this,rl,e),x(this,Lf,p),x(this,vu,g),x(this,Df,s),x(this,bu,Nx.toDateObject(l)),this.trigger=s.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",d(this,yu)),A.addEventListener("mouseenter",d(this,Zg)),A.addEventListener("mouseleave",d(this,Qg)),A.classList.add("popupTriggerArea");for(const A of s)(v=A.container)==null||v.addEventListener("keydown",d(this,gu));d(this,xe).hidden=!0,b&&_(this,se,dg).call(this)}render(){if(d(this,Js))return;const t=x(this,Js,document.createElement("div"));if(t.className="popup",d(this,rl)){const l=t.style.outlineColor=dt.makeHexColor(...d(this,rl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=dt.makeHexColor(...d(this,rl).map(u=>Math.floor(.7*(255-u)+u)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=d(this,Of),t.append(e),d(this,bu)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,bu).valueOf()})),e.append(l)}const r=d(this,se,hg);if(r)DR.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(d(this,Ea));t.append(l)}d(this,xe).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const u=r[l];s.append(document.createTextNode(u)),l<c-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;d(this,ol)||x(this,ol,{contentsObj:d(this,Ea),richText:d(this,Ca)}),t&&x(this,_a,null),e&&(x(this,Ca,_(this,se,jR).call(this,e)),x(this,Ea,null)),(s=d(this,Js))==null||s.remove(),x(this,Js,null)}resetEdited(){var t;d(this,ol)&&({contentsObj:wi(this,Ea)._,richText:wi(this,Ca)._}=d(this,ol),x(this,ol,null),(t=d(this,Js))==null||t.remove(),x(this,Js,null),x(this,_a,null))}forceHide(){x(this,ll,this.isVisible),d(this,ll)&&(d(this,xe).hidden=!0)}maybeShow(){d(this,ll)&&(d(this,Js)||_(this,se,fg).call(this),x(this,ll,!1),d(this,xe).hidden=!1)}get isVisible(){return d(this,xe).hidden===!1}}gu=new WeakMap,Qg=new WeakMap,Zg=new WeakMap,yu=new WeakMap,rl=new WeakMap,xe=new WeakMap,Ea=new WeakMap,bu=new WeakMap,Df=new WeakMap,Nf=new WeakMap,vu=new WeakMap,Ta=new WeakMap,Js=new WeakMap,_a=new WeakMap,Lf=new WeakMap,Ca=new WeakMap,Of=new WeakMap,ol=new WeakMap,ll=new WeakMap,se=new WeakSet,hg=function(){const t=d(this,Ca),e=d(this,Ea);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,Ca).html||null},hA=function(){var t,e,s;return((s=(e=(t=d(this,se,hg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},PR=function(){var t,e,s;return((s=(e=(t=d(this,se,hg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},jR=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:d(this,se,PR),fontSize:d(this,se,hA)?`calc(${d(this,se,hA)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return s},IR=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,Ta))&&_(this,se,dg).call(this)},BR=function(){if(d(this,_a)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:l}}}=d(this,Nf);let c=!!d(this,vu),u=c?d(this,vu):d(this,Lf);for(const S of d(this,Df))if(!u||dt.intersect(S.data.rect,u)!==null){u=S.data.rect,c=!0;break}const f=dt.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),g=c?u[2]-u[0]+5:0,b=f[0]+g,v=f[1];x(this,_a,[100*(b-r)/e,100*(v-l)/s]);const{style:A}=d(this,xe);A.left=`${d(this,_a)[0]}%`,A.top=`${d(this,_a)[1]}%`},dg=function(){x(this,Ta,!d(this,Ta)),d(this,Ta)?(_(this,se,fg).call(this),d(this,xe).addEventListener("click",d(this,yu)),d(this,xe).addEventListener("keydown",d(this,gu))):(_(this,se,dA).call(this),d(this,xe).removeEventListener("click",d(this,yu)),d(this,xe).removeEventListener("keydown",d(this,gu)))},fg=function(){d(this,Js)||this.render(),this.isVisible?d(this,Ta)&&d(this,xe).classList.add("focused"):(_(this,se,BR).call(this),d(this,xe).hidden=!1,d(this,xe).style.zIndex=parseInt(d(this,xe).style.zIndex)+1e3)},dA=function(){d(this,xe).classList.remove("focused"),!(d(this,Ta)||!this.isVisible)&&(d(this,xe).hidden=!0,d(this,xe).style.zIndex=parseInt(d(this,xe).style.zIndex)-1e3)};class FR extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ct.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var kf;class _B extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,kf,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=qr(e.rect),l=this.svgFactory.create(s,r,!0),c=x(this,kf,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,kf)}addHighlightArea(){this.container.classList.add("highlightArea")}}kf=new WeakMap;var Pf;class CB extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Pf,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=qr(e.rect),l=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,u=x(this,Pf,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",c/2),u.setAttribute("y",c/2),u.setAttribute("width",s-c),u.setAttribute("height",r-c),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Pf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pf=new WeakMap;var jf;class MB extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,jf,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=qr(e.rect),l=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,u=x(this,jf,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",s/2),u.setAttribute("cy",r/2),u.setAttribute("rx",s/2-c/2),u.setAttribute("ry",r/2-c/2),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,jf)}addHighlightArea(){this.container.classList.add("highlightArea")}}jf=new WeakMap;var If;class zR extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,If,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:l}}=this;if(!s)return this.container;const{width:c,height:u}=qr(e),f=this.svgFactory.create(c,u,!0);let p=[];for(let b=0,v=s.length;b<v;b+=2){const A=s[b]-e[0],S=e[3]-s[b+1];p.push(`${A},${S}`)}p=p.join(" ");const g=x(this,If,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),f.append(g),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,If)}addHighlightArea(){this.container.classList.add("highlightArea")}}If=new WeakMap;class RB extends zR{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class DB extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Bf,cl,Ff,fA;class jx extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Ff);T(this,Bf,null);T(this,cl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ct.HIGHLIGHT:Ct.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:s,inkLists:r,borderStyle:l,popupRef:c}}=this,{transform:u,width:f,height:p}=_(this,Ff,fA).call(this,s,e),g=this.svgFactory.create(f,p,!0),b=x(this,Bf,this.svgFactory.createElement("svg:g"));g.append(b),b.setAttribute("stroke-width",l.width||1),b.setAttribute("stroke-linecap","round"),b.setAttribute("stroke-linejoin","round"),b.setAttribute("stroke-miterlimit",10),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),b.setAttribute("transform",u);for(let v=0,A=r.length;v<A;v++){const S=this.svgFactory.createElement(this.svgElementName);d(this,cl).push(S),S.setAttribute("points",r[v].join(",")),b.append(S)}return!c&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:s,points:r,rect:l}=e,c=d(this,Bf);if(s>=0&&c.setAttribute("stroke-width",s||1),r)for(let u=0,f=d(this,cl).length;u<f;u++)d(this,cl)[u].setAttribute("points",r[u].join(","));if(l){const{transform:u,width:f,height:p}=_(this,Ff,fA).call(this,this.data.rotation,l);c.parentElement.setAttribute("viewBox",`0 0 ${f} ${p}`),c.setAttribute("transform",u)}}getElementsToTriggerPopup(){return d(this,cl)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bf=new WeakMap,cl=new WeakMap,Ff=new WeakSet,fA=function(e,s){switch(e){case 90:return{transform:`rotate(90) translate(${-s[0]},${s[1]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};case 180:return{transform:`rotate(180) translate(${-s[2]},${s[1]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]};case 270:return{transform:`rotate(270) translate(${-s[2]},${s[3]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};default:return{transform:`translate(${-s[0]},${s[3]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]}}};class HR extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ct.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class NB extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class LB extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class OB extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class VR extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ct.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var zf,Hf,pA;class kB extends Me{constructor(e){var r;super(e,{isRenderable:!0});T(this,Hf);T(this,zf,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,Hf,pA).bind(this)),x(this,zf,r);const{isMac:l}=Di.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&_(this,Hf,pA).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return d(this,zf)}addHighlightArea(){this.container.classList.add("highlightArea")}}zf=new WeakMap,Hf=new WeakSet,pA=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Vf,ul,hl,Uf,Pl,UR,mA;class PB{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:u}){T(this,Pl);T(this,Vf,null);T(this,ul,null);T(this,hl,new Map);T(this,Uf,null);this.div=t,x(this,Vf,e),x(this,ul,s),x(this,Uf,u||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return d(this,hl).size>0}async render(t){var c;const{annotations:e}=t,s=this.div;Ll(s,this.viewport);const r=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Px,annotationStorage:t.annotationStorage||new Ox,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const f=u.annotationType===Ie.POPUP;if(f){const b=r.get(u.id);if(!b)continue;l.elements=b}else{const{width:b,height:v}=qr(u.rect);if(b<=0||v<=0)continue}l.data=u;const p=bB.create(l);if(!p.isRenderable)continue;if(!f&&u.popupRef){const b=r.get(u.popupRef);b?b.push(p):r.set(u.popupRef,[p])}const g=p.render();u.hidden&&(g.style.visibility="hidden"),await _(this,Pl,UR).call(this,g,u.id),p._isEditable&&(d(this,hl).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}_(this,Pl,mA).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Ll(e,{rotation:t.rotation}),_(this,Pl,mA).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,hl).values())}getEditableAnnotation(t){return d(this,hl).get(t)}}Vf=new WeakMap,ul=new WeakMap,hl=new WeakMap,Uf=new WeakMap,Pl=new WeakSet,UR=async function(t,e){var c,u;const s=t.firstChild||t,r=s.id=`${Mx}${e}`,l=await((c=d(this,Uf))==null?void 0:c.getAriaAttributes(r));if(l)for(const[f,p]of l)s.setAttribute(f,p);this.div.append(t),(u=d(this,Vf))==null||u.moveElementInDOM(this.div,t,s,!1)},mA=function(){if(!d(this,ul))return;const t=this.div;for(const[e,s]of d(this,ul)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):r.append(s)}d(this,ul).clear()};const Vm=/\r\n?|\n/g;var tn,os,Gf,dl,ls,ke,GR,qR,XR,pg,Ia,mg,gg,YR,yA,KR;const oe=class oe extends be{constructor(e){super({...e,name:"freeTextEditor"});T(this,ke);T(this,tn);T(this,os,"");T(this,Gf,`${this.id}-editor`);T(this,dl,null);T(this,ls);x(this,tn,e.color||oe._defaultColor||be._defaultLineColor),x(this,ls,e.fontSize||oe._defaultFontSize)}static get _keyboardManager(){const e=oe.prototype,s=c=>c.isEmpty(),r=Ol.TRANSLATE_SMALL,l=Ol.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new gp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:s}]]))}static initialize(e,s){be.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Bt.FREETEXT_SIZE:oe._defaultFontSize=s;break;case Bt.FREETEXT_COLOR:oe._defaultColor=s;break}}updateParams(e,s){switch(e){case Bt.FREETEXT_SIZE:_(this,ke,GR).call(this,s);break;case Bt.FREETEXT_COLOR:_(this,ke,qR).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Bt.FREETEXT_SIZE,oe._defaultFontSize],[Bt.FREETEXT_COLOR,oe._defaultColor||be._defaultLineColor]]}get propertiesToUpdate(){return[[Bt.FREETEXT_SIZE,d(this,ls)],[Bt.FREETEXT_COLOR,d(this,tn)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-oe._internalPadding*e,-(oe._internalPadding+d(this,ls))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ct.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),x(this,dl,new AbortController);const e=this._uiManager.combinedSignal(d(this,dl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,Gf)),this._isDraggable=!0,(e=d(this,dl))==null||e.abort(),x(this,dl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var s;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,os),s=x(this,os,_(this,ke,XR).call(this).trimEnd());if(e===s)return;const r=l=>{if(x(this,os,l),!l){this.remove();return}_(this,ke,gg).call(this),this._uiManager.rebuild(this),_(this,ke,pg).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),_(this,ke,pg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){oe._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,Gf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${d(this,ls)}px * var(--scale-factor))`,r.color=d(this,tn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Lg(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[g,b]=this.pageDimensions,[v,A]=this.pageTranslation;let S,E;switch(this.rotation){case 0:S=e+(u[0]-v)/g,E=s+this.height-(u[1]-A)/b;break;case 90:S=e+(u[0]-v)/g,E=s-(u[1]-A)/b,[f,p]=[p,-f];break;case 180:S=e-this.width+(u[0]-v)/g,E=s-(u[1]-A)/b,[f,p]=[-f,-p];break;case 270:S=e+(u[0]-v-this.height*b)/g,E=s+(u[1]-A-this.width*g)/b,[f,p]=[-p,f];break}this.setAt(S*l,E*c,f,p)}else this.setAt(e*l,s*c,this.width*l,this.height*c);_(this,ke,gg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var S,E,D;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=_(S=oe,Ia,yA).call(S,s.getData("text")||"").replaceAll(Vm,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const u=c.getRangeAt(0);if(!l.includes(`
`)){u.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:p}=u,g=[],b=[];if(f.nodeType===Node.TEXT_NODE){const R=f.parentElement;if(b.push(f.nodeValue.slice(p).replaceAll(Vm,"")),R!==this.editorDiv){let L=g;for(const N of this.editorDiv.childNodes){if(N===R){L=b;continue}L.push(_(E=oe,Ia,mg).call(E,N))}}g.push(f.nodeValue.slice(0,p).replaceAll(Vm,""))}else if(f===this.editorDiv){let R=g,L=0;for(const N of this.editorDiv.childNodes)L++===p&&(R=b),R.push(_(D=oe,Ia,mg).call(D,N))}x(this,os,`${g.join(`
`)}${l}${b.join(`
`)}`),_(this,ke,gg).call(this);const v=new Range;let A=g.reduce((R,L)=>R+L.length,0);for(const{firstChild:R}of this.editorDiv.childNodes)if(R.nodeType===Node.TEXT_NODE){const L=R.nodeValue.length;if(A<=L){v.setStart(R,A),v.setEnd(R,A);break}A-=L}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var u;let l=null;if(e instanceof FR){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:g,rotation:b,id:v,popupRef:A},textContent:S,textPosition:E,parent:{page:{pageNumber:D}}}=e;if(!S||S.length===0)return null;l=e={annotationType:Ct.FREETEXT,color:Array.from(p),fontSize:f,value:S.join(`
`),position:E,pageIndex:D-1,rect:g.slice(0),rotation:b,id:v,deleted:!1,popupRef:A}}const c=await super.deserialize(e,s,r);return x(c,ls,e.fontSize),x(c,tn,dt.makeHexColor(...e.color)),x(c,os,_(u=oe,Ia,yA).call(u,e.value)),c.annotationElementId=e.id||null,c._initialData=l,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=oe._internalPadding*this.parentScale,r=this.getRect(s,s),l=be._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,tn)),c={annotationType:Ct.FREETEXT,color:l,fontSize:d(this,ls),value:_(this,ke,YR).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!_(this,ke,KR).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${d(this,ls)}px * var(--scale-factor))`,r.color=d(this,tn),s.replaceChildren();for(const c of d(this,os).split(`
`)){const u=document.createElement("div");u.append(c?document.createTextNode(c):document.createElement("br")),s.append(u)}const l=oe._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:d(this,os)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};tn=new WeakMap,os=new WeakMap,Gf=new WeakMap,dl=new WeakMap,ls=new WeakMap,ke=new WeakSet,GR=function(e){const s=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-d(this,ls))*this.parentScale),x(this,ls,l),_(this,ke,pg).call(this)},r=d(this,ls);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},qR=function(e){const s=l=>{x(this,tn,this.editorDiv.style.color=l)},r=d(this,tn);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},XR=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const l of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(_(r=oe,Ia,mg).call(r,l)),s=l);return e.join(`
`)},pg=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,u=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=u,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},Ia=new WeakSet,mg=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Vm,"")},gg=function(){if(this.editorDiv.replaceChildren(),!!d(this,os))for(const e of d(this,os).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},YR=function(){return d(this,os).replaceAll(" "," ")},yA=function(e){return e.replaceAll(" "," ")},KR=function(e){const{value:s,fontSize:r,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((u,f)=>u!==l[f])||e.pageIndex!==c},T(oe,Ia),gt(oe,"_freeTextDefaultContent",""),gt(oe,"_internalPadding",0),gt(oe,"_defaultColor",null),gt(oe,"_defaultFontSize",10),gt(oe,"_type","freetext"),gt(oe,"_editorType",Ct.FREETEXT);let gA=oe;class at{toSVGPath(){ae("Abstract method `toSVGPath` must be implemented.")}get box(){ae("Abstract getter `box` must be implemented.")}serialize(t,e){ae("Abstract method `serialize` must be implemented.")}static _rescale(t,e,s,r,l,c){c||(c=new Float32Array(t.length));for(let u=0,f=t.length;u<f;u+=2)c[u]=e+t[u]*r,c[u+1]=s+t[u+1]*l;return c}static _rescaleAndSwap(t,e,s,r,l,c){c||(c=new Float32Array(t.length));for(let u=0,f=t.length;u<f;u+=2)c[u]=e+t[u+1]*r,c[u+1]=s+t[u]*l;return c}static _translate(t,e,s,r){r||(r=new Float32Array(t.length));for(let l=0,c=t.length;l<c;l+=2)r[l]=e+t[l],r[l+1]=s+t[l+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,s,r,l){switch(l){case 90:return[1-e/s,t/r];case 180:return[1-t/s,1-e/r];case 270:return[e/s,1-t/r];default:return[t/s,e/r]}}static _normalizePagePoint(t,e,s){switch(s){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,s,r,l,c){return[(t+5*s)/6,(e+5*r)/6,(5*s+l)/6,(5*r+c)/6,(s+l)/2,(r+c)/2]}}gt(at,"PRECISION",1e-4);var cs,en,Au,xu,Ln,kt,fl,pl,qf,Xf,Su,wu,kr,Yf,Jg,ty,He,fd,$R,WR,QR,ZR,JR,tD;const ca=class ca{constructor({x:t,y:e},s,r,l,c,u=0){T(this,He);T(this,cs);T(this,en,[]);T(this,Au);T(this,xu);T(this,Ln,[]);T(this,kt,new Float32Array(18));T(this,fl);T(this,pl);T(this,qf);T(this,Xf);T(this,Su);T(this,wu);T(this,kr,[]);x(this,cs,s),x(this,wu,l*r),x(this,xu,c),d(this,kt).set([NaN,NaN,NaN,NaN,t,e],6),x(this,Au,u),x(this,Xf,d(ca,Yf)*r),x(this,qf,d(ca,ty)*r),x(this,Su,r),d(this,kr).push(t,e)}isEmpty(){return isNaN(d(this,kt)[8])}add({x:t,y:e}){var tt;x(this,fl,t),x(this,pl,e);const[s,r,l,c]=d(this,cs);let[u,f,p,g]=d(this,kt).subarray(8,12);const b=t-p,v=e-g,A=Math.hypot(b,v);if(A<d(this,qf))return!1;const S=A-d(this,Xf),E=S/A,D=E*b,R=E*v;let L=u,N=f;u=p,f=g,p+=D,g+=R,(tt=d(this,kr))==null||tt.push(t,e);const j=-R/S,P=D/S,U=j*d(this,wu),q=P*d(this,wu);return d(this,kt).set(d(this,kt).subarray(2,8),0),d(this,kt).set([p+U,g+q],4),d(this,kt).set(d(this,kt).subarray(14,18),12),d(this,kt).set([p-U,g-q],16),isNaN(d(this,kt)[6])?(d(this,Ln).length===0&&(d(this,kt).set([u+U,f+q],2),d(this,Ln).push(NaN,NaN,NaN,NaN,(u+U-s)/l,(f+q-r)/c),d(this,kt).set([u-U,f-q],14),d(this,en).push(NaN,NaN,NaN,NaN,(u-U-s)/l,(f-q-r)/c)),d(this,kt).set([L,N,u,f,p,g],6),!this.isEmpty()):(d(this,kt).set([L,N,u,f,p,g],6),Math.abs(Math.atan2(N-f,L-u)-Math.atan2(R,D))<Math.PI/2?([u,f,p,g]=d(this,kt).subarray(2,6),d(this,Ln).push(NaN,NaN,NaN,NaN,((u+p)/2-s)/l,((f+g)/2-r)/c),[u,f,L,N]=d(this,kt).subarray(14,18),d(this,en).push(NaN,NaN,NaN,NaN,((L+u)/2-s)/l,((N+f)/2-r)/c),!0):([L,N,u,f,p,g]=d(this,kt).subarray(0,6),d(this,Ln).push(((L+5*u)/6-s)/l,((N+5*f)/6-r)/c,((5*u+p)/6-s)/l,((5*f+g)/6-r)/c,((u+p)/2-s)/l,((f+g)/2-r)/c),[p,g,u,f,L,N]=d(this,kt).subarray(12,18),d(this,en).push(((L+5*u)/6-s)/l,((N+5*f)/6-r)/c,((5*u+p)/6-s)/l,((5*f+g)/6-r)/c,((u+p)/2-s)/l,((f+g)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,Ln),e=d(this,en);if(isNaN(d(this,kt)[6])&&!this.isEmpty())return _(this,He,$R).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);_(this,He,QR).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return _(this,He,WR).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,l,c){return new eD(t,e,s,r,l,c)}getOutlines(){var b;const t=d(this,Ln),e=d(this,en),s=d(this,kt),[r,l,c,u]=d(this,cs),f=new Float32Array((((b=d(this,kr))==null?void 0:b.length)??0)+2);for(let v=0,A=f.length-2;v<A;v+=2)f[v]=(d(this,kr)[v]-r)/c,f[v+1]=(d(this,kr)[v+1]-l)/u;if(f[f.length-2]=(d(this,fl)-r)/c,f[f.length-1]=(d(this,pl)-l)/u,isNaN(s[6])&&!this.isEmpty())return _(this,He,ZR).call(this,f);const p=new Float32Array(d(this,Ln).length+24+d(this,en).length);let g=t.length;for(let v=0;v<g;v+=2){if(isNaN(t[v])){p[v]=p[v+1]=NaN;continue}p[v]=t[v],p[v+1]=t[v+1]}g=_(this,He,tD).call(this,p,g);for(let v=e.length-6;v>=6;v-=6)for(let A=0;A<6;A+=2){if(isNaN(e[v+A])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[v+A],p[g+1]=e[v+A+1],g+=2}return _(this,He,JR).call(this,p,g),this.newFreeDrawOutline(p,f,d(this,cs),d(this,Su),d(this,Au),d(this,xu))}};cs=new WeakMap,en=new WeakMap,Au=new WeakMap,xu=new WeakMap,Ln=new WeakMap,kt=new WeakMap,fl=new WeakMap,pl=new WeakMap,qf=new WeakMap,Xf=new WeakMap,Su=new WeakMap,wu=new WeakMap,kr=new WeakMap,Yf=new WeakMap,Jg=new WeakMap,ty=new WeakMap,He=new WeakSet,fd=function(){const t=d(this,kt).subarray(4,6),e=d(this,kt).subarray(16,18),[s,r,l,c]=d(this,cs);return[(d(this,fl)+(t[0]-e[0])/2-s)/l,(d(this,pl)+(t[1]-e[1])/2-r)/c,(d(this,fl)+(e[0]-t[0])/2-s)/l,(d(this,pl)+(e[1]-t[1])/2-r)/c]},$R=function(){const[t,e,s,r]=d(this,cs),[l,c,u,f]=_(this,He,fd).call(this);return`M${(d(this,kt)[2]-t)/s} ${(d(this,kt)[3]-e)/r} L${(d(this,kt)[4]-t)/s} ${(d(this,kt)[5]-e)/r} L${l} ${c} L${u} ${f} L${(d(this,kt)[16]-t)/s} ${(d(this,kt)[17]-e)/r} L${(d(this,kt)[14]-t)/s} ${(d(this,kt)[15]-e)/r} Z`},WR=function(t){const e=d(this,en);t.push(`L${e[4]} ${e[5]} Z`)},QR=function(t){const[e,s,r,l]=d(this,cs),c=d(this,kt).subarray(4,6),u=d(this,kt).subarray(16,18),[f,p,g,b]=_(this,He,fd).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-s)/l} L${f} ${p} L${g} ${b} L${(u[0]-e)/r} ${(u[1]-s)/l}`)},ZR=function(t){const e=d(this,kt),[s,r,l,c]=d(this,cs),[u,f,p,g]=_(this,He,fd).call(this),b=new Float32Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-s)/l,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-s)/l,(e[5]-r)/c,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-s)/l,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-s)/l,(e[15]-r)/c],0),this.newFreeDrawOutline(b,t,d(this,cs),d(this,Su),d(this,Au),d(this,xu))},JR=function(t,e){const s=d(this,en);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},tD=function(t,e){const s=d(this,kt).subarray(4,6),r=d(this,kt).subarray(16,18),[l,c,u,f]=d(this,cs),[p,g,b,v]=_(this,He,fd).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/u,(s[1]-c)/f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(r[0]-l)/u,(r[1]-c)/f],e),e+=24},T(ca,Yf,8),T(ca,Jg,2),T(ca,ty,d(ca,Yf)+d(ca,Jg));let Pg=ca;var Eu,ml,Ma,Kf,us,$f,_e,ey,iD;class eD extends at{constructor(e,s,r,l,c,u){super();T(this,ey);T(this,Eu);T(this,ml,new Float32Array(4));T(this,Ma);T(this,Kf);T(this,us);T(this,$f);T(this,_e);x(this,_e,e),x(this,us,s),x(this,Eu,r),x(this,$f,l),x(this,Ma,c),x(this,Kf,u),this.lastPoint=[NaN,NaN],_(this,ey,iD).call(this,u);const[f,p,g,b]=d(this,ml);for(let v=0,A=e.length;v<A;v+=2)e[v]=(e[v]-f)/g,e[v+1]=(e[v+1]-p)/b;for(let v=0,A=s.length;v<A;v+=2)s[v]=(s[v]-f)/g,s[v+1]=(s[v+1]-p)/b}toSVGPath(){const e=[`M${d(this,_e)[4]} ${d(this,_e)[5]}`];for(let s=6,r=d(this,_e).length;s<r;s+=6){if(isNaN(d(this,_e)[s])){e.push(`L${d(this,_e)[s+4]} ${d(this,_e)[s+5]}`);continue}e.push(`C${d(this,_e)[s]} ${d(this,_e)[s+1]} ${d(this,_e)[s+2]} ${d(this,_e)[s+3]} ${d(this,_e)[s+4]} ${d(this,_e)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,l],c){const u=r-e,f=l-s;let p,g;switch(c){case 0:p=at._rescale(d(this,_e),e,l,u,-f),g=at._rescale(d(this,us),e,l,u,-f);break;case 90:p=at._rescaleAndSwap(d(this,_e),e,s,u,f),g=at._rescaleAndSwap(d(this,us),e,s,u,f);break;case 180:p=at._rescale(d(this,_e),r,s,-u,f),g=at._rescale(d(this,us),r,s,-u,f);break;case 270:p=at._rescaleAndSwap(d(this,_e),r,l,-u,-f),g=at._rescaleAndSwap(d(this,us),r,l,-u,-f);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return d(this,ml)}newOutliner(e,s,r,l,c,u=0){return new Pg(e,s,r,l,c,u)}getNewOutline(e,s){const[r,l,c,u]=d(this,ml),[f,p,g,b]=d(this,Eu),v=c*g,A=u*b,S=r*g+f,E=l*b+p,D=this.newOutliner({x:d(this,us)[0]*v+S,y:d(this,us)[1]*A+E},d(this,Eu),d(this,$f),e,d(this,Kf),s??d(this,Ma));for(let R=2;R<d(this,us).length;R+=2)D.add({x:d(this,us)[R]*v+S,y:d(this,us)[R+1]*A+E});return D.getOutlines()}}Eu=new WeakMap,ml=new WeakMap,Ma=new WeakMap,Kf=new WeakMap,us=new WeakMap,$f=new WeakMap,_e=new WeakMap,ey=new WeakSet,iD=function(e){const s=d(this,_e);let r=s[4],l=s[5],c=r,u=l,f=r,p=l,g=r,b=l;const v=e?Math.max:Math.min;for(let S=6,E=s.length;S<E;S+=6){if(isNaN(s[S]))c=Math.min(c,s[S+4]),u=Math.min(u,s[S+5]),f=Math.max(f,s[S+4]),p=Math.max(p,s[S+5]),b<s[S+5]?(g=s[S+4],b=s[S+5]):b===s[S+5]&&(g=v(g,s[S+4]));else{const D=dt.bezierBoundingBox(r,l,...s.slice(S,S+6));c=Math.min(c,D[0]),u=Math.min(u,D[1]),f=Math.max(f,D[2]),p=Math.max(p,D[3]),b<D[3]?(g=D[2],b=D[3]):b===D[3]&&(g=v(g,D[2]))}r=s[S+4],l=s[S+5]}const A=d(this,ml);A[0]=c-d(this,Ma),A[1]=u-d(this,Ma),A[2]=f-c+2*d(this,Ma),A[3]=p-u+2*d(this,Ma),this.lastPoint=[g,b]};var Wf,Qf,Pr,sn,Li,sD,yg,nD,aD,vA;class bA{constructor(t,e=0,s=0,r=!0){T(this,Li);T(this,Wf);T(this,Qf);T(this,Pr,[]);T(this,sn,[]);let l=1/0,c=-1/0,u=1/0,f=-1/0;const p=10**-4;for(const{x:D,y:R,width:L,height:N}of t){const j=Math.floor((D-e)/p)*p,P=Math.ceil((D+L+e)/p)*p,U=Math.floor((R-e)/p)*p,q=Math.ceil((R+N+e)/p)*p,$=[j,U,q,!0],tt=[P,U,q,!1];d(this,Pr).push($,tt),l=Math.min(l,j),c=Math.max(c,P),u=Math.min(u,U),f=Math.max(f,q)}const g=c-l+2*s,b=f-u+2*s,v=l-s,A=u-s,S=d(this,Pr).at(r?-1:-2),E=[S[0],S[2]];for(const D of d(this,Pr)){const[R,L,N]=D;D[0]=(R-v)/g,D[1]=(L-A)/b,D[2]=(N-A)/b}x(this,Wf,new Float32Array([v,A,g,b])),x(this,Qf,E)}getOutlines(){d(this,Pr).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of d(this,Pr))e[3]?(t.push(..._(this,Li,vA).call(this,e)),_(this,Li,nD).call(this,e)):(_(this,Li,aD).call(this,e),t.push(..._(this,Li,vA).call(this,e)));return _(this,Li,sD).call(this,t)}}Wf=new WeakMap,Qf=new WeakMap,Pr=new WeakMap,sn=new WeakMap,Li=new WeakSet,sD=function(t){const e=[],s=new Set;for(const c of t){const[u,f,p]=c;e.push([u,f,c],[u,p,c])}e.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=e.length;c<u;c+=2){const f=e[c][2],p=e[c+1][2];f.push(p),p.push(f),s.add(f),s.add(p)}const r=[];let l;for(;s.size>0;){const c=s.values().next().value;let[u,f,p,g,b]=c;s.delete(c);let v=u,A=f;for(l=[u,p],r.push(l);;){let S;if(s.has(g))S=g;else if(s.has(b))S=b;else break;s.delete(S),[u,f,p,g,b]=S,v!==u&&(l.push(v,A,u,A===f?f:p),v=u),A=A===f?p:f}l.push(v,A)}return new jB(r,d(this,Wf),d(this,Qf))},yg=function(t){const e=d(this,sn);let s=0,r=e.length-1;for(;s<=r;){const l=s+r>>1,c=e[l][0];if(c===t)return l;c<t?s=l+1:r=l-1}return r+1},nD=function([,t,e]){const s=_(this,Li,yg).call(this,t);d(this,sn).splice(s,0,[t,e])},aD=function([,t,e]){const s=_(this,Li,yg).call(this,t);for(let r=s;r<d(this,sn).length;r++){const[l,c]=d(this,sn)[r];if(l!==t)break;if(l===t&&c===e){d(this,sn).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[l,c]=d(this,sn)[r];if(l!==t)break;if(l===t&&c===e){d(this,sn).splice(r,1);return}}},vA=function(t){const[e,s,r]=t,l=[[e,s,r]],c=_(this,Li,yg).call(this,r);for(let u=0;u<c;u++){const[f,p]=d(this,sn)[u];for(let g=0,b=l.length;g<b;g++){const[,v,A]=l[g];if(!(p<=v||A<=f)){if(v>=f){if(A>p)l[g][1]=p;else{if(b===1)return[];l.splice(g,1),g--,b--}continue}l[g][2]=f,A>p&&l.push([e,p,A])}}}return l};var Zf,Tu;class jB extends at{constructor(e,s,r){super();T(this,Zf);T(this,Tu);x(this,Tu,e),x(this,Zf,s),this.lastPoint=r}toSVGPath(){const e=[];for(const s of d(this,Tu)){let[r,l]=s;e.push(`M${r} ${l}`);for(let c=2;c<s.length;c+=2){const u=s[c],f=s[c+1];u===r?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${u}`),r=u)}e.push("Z")}return e.join(" ")}serialize([e,s,r,l],c){const u=[],f=r-e,p=l-s;for(const g of d(this,Tu)){const b=new Array(g.length);for(let v=0;v<g.length;v+=2)b[v]=e+g[v]*f,b[v+1]=l-g[v+1]*p;u.push(b)}return u}get box(){return d(this,Zf)}get classNamesForOutlining(){return["highlightOutline"]}}Zf=new WeakMap,Tu=new WeakMap;class AA extends Pg{newFreeDrawOutline(t,e,s,r,l,c){return new IB(t,e,s,r,l,c)}}class IB extends eD{newOutliner(t,e,s,r,l,c=0){return new AA(t,e,s,r,l,c)}}var nn,gl,_u,ze,Jf,Cu,tp,ep,jr,an,Mu,ip,ie,xA,SA,wA,Ao,rD,fr;const zi=class zi{constructor({editor:t=null,uiManager:e=null}){T(this,ie);T(this,nn,null);T(this,gl,null);T(this,_u);T(this,ze,null);T(this,Jf,!1);T(this,Cu,!1);T(this,tp,null);T(this,ep);T(this,jr,null);T(this,an,null);T(this,Mu);var s;t?(x(this,Cu,!1),x(this,Mu,Bt.HIGHLIGHT_COLOR),x(this,tp,t)):(x(this,Cu,!0),x(this,Mu,Bt.HIGHLIGHT_DEFAULT_COLOR)),x(this,an,(t==null?void 0:t._uiManager)||e),x(this,ep,d(this,an)._eventBus),x(this,_u,(t==null?void 0:t.color)||((s=d(this,an))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),d(zi,ip)||x(zi,ip,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Pt(this,"_keyboardManager",new gp([[["Escape","mac+Escape"],zi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],zi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],zi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],zi.prototype._moveToPrevious],[["Home","mac+Home"],zi.prototype._moveToBeginning],[["End","mac+End"],zi.prototype._moveToEnd]]))}renderButton(){const t=x(this,nn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,an)._signal;t.addEventListener("click",_(this,ie,Ao).bind(this),{signal:e}),t.addEventListener("keydown",_(this,ie,wA).bind(this),{signal:e});const s=x(this,gl,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=d(this,_u),t.append(s),t}renderMainDropdown(){const t=x(this,ze,_(this,ie,xA).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,nn)){_(this,ie,Ao).call(this,t);return}const e=t.target.getAttribute("data-color");e&&_(this,ie,SA).call(this,e,t)}_moveToNext(t){var e,s;if(!d(this,ie,fr)){_(this,ie,Ao).call(this,t);return}if(t.target===d(this,nn)){(e=d(this,ze).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=d(this,ze))==null?void 0:e.firstChild)||t.target===d(this,nn)){d(this,ie,fr)&&this._hideDropdownFromKeyboard();return}d(this,ie,fr)||_(this,ie,Ao).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!d(this,ie,fr)){_(this,ie,Ao).call(this,t);return}(e=d(this,ze).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,ie,fr)){_(this,ie,Ao).call(this,t);return}(e=d(this,ze).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,ze))==null||t.classList.add("hidden"),(e=d(this,jr))==null||e.abort(),x(this,jr,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,Cu)){if(!d(this,ie,fr)){(t=d(this,tp))==null||t.unselect();return}this.hideDropdown(),d(this,nn).focus({preventScroll:!0,focusVisible:d(this,Jf)})}}updateColor(t){if(d(this,gl)&&(d(this,gl).style.backgroundColor=t),!d(this,ze))return;const e=d(this,an).highlightColors.values();for(const s of d(this,ze).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,nn))==null||t.remove(),x(this,nn,null),x(this,gl,null),(e=d(this,ze))==null||e.remove(),x(this,ze,null)}};nn=new WeakMap,gl=new WeakMap,_u=new WeakMap,ze=new WeakMap,Jf=new WeakMap,Cu=new WeakMap,tp=new WeakMap,ep=new WeakMap,jr=new WeakMap,an=new WeakMap,Mu=new WeakMap,ip=new WeakMap,ie=new WeakSet,xA=function(){const t=document.createElement("div"),e=d(this,an)._signal;t.addEventListener("contextmenu",hn,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of d(this,an).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=s,l.setAttribute("data-l10n-id",d(zi,ip)[s]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===d(this,_u)),l.addEventListener("click",_(this,ie,SA).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",_(this,ie,wA).bind(this),{signal:e}),t},SA=function(t,e){e.stopPropagation(),d(this,ep).dispatch("switchannotationeditorparams",{source:this,type:d(this,Mu),value:t})},wA=function(t){zi._keyboardManager.exec(this,t)},Ao=function(t){if(d(this,ie,fr)){this.hideDropdown();return}if(x(this,Jf,t.detail===0),d(this,jr)||(x(this,jr,new AbortController),window.addEventListener("pointerdown",_(this,ie,rD).bind(this),{signal:d(this,an).combinedSignal(d(this,jr))})),d(this,ze)){d(this,ze).classList.remove("hidden");return}const e=x(this,ze,_(this,ie,xA).call(this));d(this,nn).append(e)},rD=function(t){var e;(e=d(this,ze))!=null&&e.contains(t.target)||this.hideDropdown()},fr=function(){return d(this,ze)&&!d(this,ze).classList.contains("hidden")},T(zi,ip,null);let jg=zi;var Ru,sp,Ra,yl,Du,Ui,np,ap,bl,Ps,hs,ni,Nu,Da,yi,Lu,js,rp,Et,EA,bg,oD,lD,cD,TA,xo,zs,Cc,uD,vg,pd,hD,dD,fD,pD,mD;const Yt=class Yt extends be{constructor(e){super({...e,name:"highlightEditor"});T(this,Et);T(this,Ru,null);T(this,sp,0);T(this,Ra);T(this,yl,null);T(this,Du,null);T(this,Ui,null);T(this,np,null);T(this,ap,0);T(this,bl,null);T(this,Ps,null);T(this,hs,null);T(this,ni,!1);T(this,Nu,null);T(this,Da);T(this,yi,null);T(this,Lu,"");T(this,js);T(this,rp,"");this.color=e.color||Yt._defaultColor,x(this,js,e.thickness||Yt._defaultThickness),x(this,Da,e.opacity||Yt._defaultOpacity),x(this,Ra,e.boxes||null),x(this,rp,e.methodOfCreation||""),x(this,Lu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(x(this,ni,!0),_(this,Et,bg).call(this,e),_(this,Et,xo).call(this)):d(this,Ra)&&(x(this,Ru,e.anchorNode),x(this,sp,e.anchorOffset),x(this,np,e.focusNode),x(this,ap,e.focusOffset),_(this,Et,EA).call(this),_(this,Et,xo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Yt.prototype;return Pt(this,"_keyboardManager",new gp([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,ni)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,js),methodOfCreation:d(this,rp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;be.initialize(e,s),Yt._defaultColor||(Yt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Bt.HIGHLIGHT_DEFAULT_COLOR:Yt._defaultColor=s;break;case Bt.HIGHLIGHT_THICKNESS:Yt._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return d(this,Nu)}updateParams(e,s){switch(e){case Bt.HIGHLIGHT_COLOR:_(this,Et,oD).call(this,s);break;case Bt.HIGHLIGHT_THICKNESS:_(this,Et,lD).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Bt.HIGHLIGHT_DEFAULT_COLOR,Yt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,Yt._defaultThickness]]}get propertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,this.color||Yt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,d(this,js)||Yt._defaultThickness],[Bt.HIGHLIGHT_FREE,d(this,ni)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(x(this,Du,new jg({editor:this})),e.addColorPicker(d(this,Du))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,Et,pd).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,_(this,Et,pd).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){_(this,Et,TA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Et,xo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?_(this,Et,TA).call(this):e&&(_(this,Et,xo).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var l,c,u;const{drawLayer:s}=this.parent;let r;d(this,ni)?(e=(e-this.rotation+360)%360,r=_(l=Yt,zs,Cc).call(l,d(this,Ps).box,e)):r=_(c=Yt,zs,Cc).call(c,[this.x,this.y,this.width,this.height],e),s.updateProperties(d(this,hs),{bbox:r,root:{"data-main-rotation":e}}),s.updateProperties(d(this,yi),{bbox:_(u=Yt,zs,Cc).call(u,d(this,Ui).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();d(this,Lu)&&(e.setAttribute("aria-label",d(this,Lu)),e.setAttribute("role","mark")),d(this,ni)?e.classList.add("free"):this.div.addEventListener("keydown",_(this,Et,uD).bind(this),{signal:this._uiManager._signal});const s=x(this,bl,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=d(this,yl);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),Lg(this,d(this,bl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,yi),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,yi),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:_(this,Et,vg).call(this,!0);break;case 1:case 3:_(this,Et,vg).call(this,!1);break}}select(){var e;super.select(),d(this,yi)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,yi),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),d(this,yi)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,yi),{rootClass:{selected:!1}}),d(this,ni)||_(this,Et,vg).call(this,!1))}get _mustFixPosition(){return!d(this,ni)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(d(this,hs),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(d(this,yi),{rootClass:{hidden:!e}}))}static startHighlighting(e,s,{target:r,x:l,y:c}){const{x:u,y:f,width:p,height:g}=r.getBoundingClientRect(),b=new AbortController,v=e.combinedSignal(b),A=S=>{b.abort(),_(this,zs,pD).call(this,e,S)};window.addEventListener("blur",A,{signal:v}),window.addEventListener("pointerup",A,{signal:v}),window.addEventListener("pointerdown",ys,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",hn,{signal:v}),r.addEventListener("pointermove",_(this,zs,fD).bind(this,e),{signal:v}),this._freeHighlight=new AA({x:l,y:c},[u,f,p,g],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,s,r){var E,D,R,L;let l=null;if(e instanceof HR){const{data:{quadPoints:N,rect:j,rotation:P,id:U,color:q,opacity:$,popupRef:tt},parent:{page:{pageNumber:ft}}}=e;l=e={annotationType:Ct.HIGHLIGHT,color:Array.from(q),opacity:$,quadPoints:N,boxes:null,pageIndex:ft-1,rect:j.slice(0),rotation:P,id:U,deleted:!1,popupRef:tt}}else if(e instanceof jx){const{data:{inkLists:N,rect:j,rotation:P,id:U,color:q,borderStyle:{rawWidth:$},popupRef:tt},parent:{page:{pageNumber:ft}}}=e;l=e={annotationType:Ct.HIGHLIGHT,color:Array.from(q),thickness:$,inkLists:N,boxes:null,pageIndex:ft-1,rect:j.slice(0),rotation:P,id:U,deleted:!1,popupRef:tt}}const{color:c,quadPoints:u,inkLists:f,opacity:p}=e,g=await super.deserialize(e,s,r);g.color=dt.makeHexColor(...c),x(g,Da,p||1),f&&x(g,js,e.thickness),g.annotationElementId=e.id||null,g._initialData=l;const[b,v]=g.pageDimensions,[A,S]=g.pageTranslation;if(u){const N=x(g,Ra,[]);for(let j=0;j<u.length;j+=8)N.push({x:(u[j]-A)/b,y:1-(u[j+1]-S)/v,width:(u[j+2]-u[j])/b,height:(u[j+1]-u[j+5])/v});_(E=g,Et,EA).call(E),_(D=g,Et,xo).call(D),g.rotate(g.rotation)}else if(f){x(g,ni,!0);const N=f[0],j={x:N[0]-A,y:v-(N[1]-S)},P=new AA(j,[0,0,b,v],1,d(g,js)/2,!0,.001);for(let $=0,tt=N.length;$<tt;$+=2)j.x=N[$]-A,j.y=v-(N[$+1]-S),P.add(j);const{id:U,clipPathId:q}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);_(R=g,Et,bg).call(R,{highlightOutlines:P.getOutlines(),highlightId:U,clipPathId:q}),_(L=g,Et,xo).call(L)}return g}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=be._colorManager.convert(this.color),l={annotationType:Ct.HIGHLIGHT,color:r,opacity:d(this,Da),thickness:d(this,js),quadPoints:_(this,Et,hD).call(this),outlines:_(this,Et,dD).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:_(this,Et,pd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_(this,Et,mD).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ru=new WeakMap,sp=new WeakMap,Ra=new WeakMap,yl=new WeakMap,Du=new WeakMap,Ui=new WeakMap,np=new WeakMap,ap=new WeakMap,bl=new WeakMap,Ps=new WeakMap,hs=new WeakMap,ni=new WeakMap,Nu=new WeakMap,Da=new WeakMap,yi=new WeakMap,Lu=new WeakMap,js=new WeakMap,rp=new WeakMap,Et=new WeakSet,EA=function(){const e=new bA(d(this,Ra),.001);x(this,Ps,e.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,Ps).box;const s=new bA(d(this,Ra),.0025,.001,this._uiManager.direction==="ltr");x(this,Ui,s.getOutlines());const{lastPoint:r}=d(this,Ui);x(this,Nu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},bg=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var b,v;if(x(this,Ps,e),x(this,Ui,e.getNewOutline(d(this,js)/2+1.5,.0025)),s>=0)x(this,hs,s),x(this,yl,r),this.parent.drawLayer.finalizeDraw(s,{bbox:e.box,path:{d:e.toSVGPath()}}),x(this,yi,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,Ui).box,path:{d:d(this,Ui).toSVGPath()}},!0));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,hs),{bbox:_(b=Yt,zs,Cc).call(b,d(this,Ps).box,(A-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,yi),{bbox:_(v=Yt,zs,Cc).call(v,d(this,Ui).box,A),path:{d:d(this,Ui).toSVGPath()}})}const[c,u,f,p]=e.box;switch(this.rotation){case 0:this.x=c,this.y=u,this.width=f,this.height=p;break;case 90:{const[A,S]=this.parentDimensions;this.x=u,this.y=1-c,this.width=f*S/A,this.height=p*A/S;break}case 180:this.x=1-c,this.y=1-u,this.width=f,this.height=p;break;case 270:{const[A,S]=this.parentDimensions;this.x=1-u,this.y=c,this.width=f*S/A,this.height=p*A/S;break}}const{lastPoint:g}=d(this,Ui);x(this,Nu,[(g[0]-c)/f,(g[1]-u)/p])},oD=function(e){const s=(c,u)=>{var f,p;this.color=c,x(this,Da,u),(f=this.parent)==null||f.drawLayer.updateProperties(d(this,hs),{root:{fill:c,"fill-opacity":u}}),(p=d(this,Du))==null||p.updateColor(c)},r=this.color,l=d(this,Da);this.addCommands({cmd:s.bind(this,e,Yt._defaultOpacity),undo:s.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},lD=function(e){const s=d(this,js),r=l=>{x(this,js,l),_(this,Et,cD).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},cD=function(e){if(!d(this,ni))return;_(this,Et,bg).call(this,{highlightOutlines:d(this,Ps).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},TA=function(){d(this,hs)===null||!this.parent||(this.parent.drawLayer.remove(d(this,hs)),x(this,hs,null),this.parent.drawLayer.remove(d(this,yi)),x(this,yi,null))},xo=function(e=this.parent){d(this,hs)===null&&({id:wi(this,hs)._,clipPathId:wi(this,yl)._}=e.drawLayer.draw({bbox:d(this,Ps).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":d(this,Da)},rootClass:{highlight:!0,free:d(this,ni)},path:{d:d(this,Ps).toSVGPath()}},!1,!0),x(this,yi,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,ni)},bbox:d(this,Ui).box,path:{d:d(this,Ui).toSVGPath()}},d(this,ni))),d(this,bl)&&(d(this,bl).style.clipPath=d(this,yl)))},zs=new WeakSet,Cc=function([e,s,r,l],c){switch(c){case 90:return[1-s-l,e,l,r];case 180:return[1-e-r,1-s-l,r,l];case 270:return[s,1-e-r,l,r]}return[e,s,r,l]},uD=function(e){Yt._keyboardManager.exec(this,e)},vg=function(e){if(!d(this,Ru))return;const s=window.getSelection();e?s.setPosition(d(this,Ru),d(this,sp)):s.setPosition(d(this,np),d(this,ap))},pd=function(){return d(this,ni)?this.rotation:0},hD=function(){if(d(this,ni))return null;const[e,s]=this.pageDimensions,[r,l]=this.pageTranslation,c=d(this,Ra),u=new Float32Array(c.length*8);let f=0;for(const{x:p,y:g,width:b,height:v}of c){const A=p*e+r,S=(1-g)*s+l;u[f]=u[f+4]=A,u[f+1]=u[f+3]=S,u[f+2]=u[f+6]=A+b*e,u[f+5]=u[f+7]=S-v*s,f+=8}return u},dD=function(e){return d(this,Ps).serialize(e,_(this,Et,pd).call(this))},fD=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},pD=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},mD=function(e){const{color:s}=this._initialData;return e.color.some((r,l)=>r!==s[l])},T(Yt,zs),gt(Yt,"_defaultColor",null),gt(Yt,"_defaultOpacity",1),gt(Yt,"_defaultThickness",12),gt(Yt,"_type","highlight"),gt(Yt,"_editorType",Ct.HIGHLIGHT),gt(Yt,"_freeHighlightId",-1),gt(Yt,"_freeHighlight",null),gt(Yt,"_freeHighlightClipId","");let Ig=Yt;var vl;class BB{constructor(){T(this,vl,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,s]of Object.entries(t))this.updateProperty(e,s)}updateSVGProperty(t,e){d(this,vl)[t]=e}toSVGProperties(){const t=d(this,vl);return x(this,vl,Object.create(null)),{root:t}}reset(){x(this,vl,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){ae("Not implemented")}}vl=new WeakMap;var ds,Ou,$e,Al,xl,Ir,Br,Fr,Sl,Ht,CA,MA,RA,md,gD,Ag,gd,Mc;const rt=class rt extends be{constructor(e){super(e);T(this,Ht);T(this,ds,null);T(this,Ou);gt(this,"_drawId",null);x(this,Ou,e.mustBeCommitted||!1),e.drawOutlines&&(_(this,Ht,CA).call(this,e),_(this,Ht,md).call(this))}static _mergeSVGProperties(e,s){const r=new Set(Object.keys(e));for(const[l,c]of Object.entries(s))r.has(l)?Object.assign(e[l],c):e[l]=c;return e}static getDefaultDrawingOptions(e){ae("Not implemented")}static get typesMap(){ae("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,s){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,s),this._currentParent&&(d(rt,$e).updateProperty(r,s),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,s){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,s)}static get defaultPropertiesToUpdate(){const e=[],s=this._defaultDrawingOptions;for(const[r,l]of this.typesMap)e.push([r,s[l]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:s}=this;for(const[r,l]of this.constructor.typesMap)e.push([r,s[l]]);return e}_updateProperty(e,s,r){const l=this._drawingOptions,c=l[s],u=f=>{var g;l.updateProperty(s,f);const p=d(this,ds).updateProperty(s,f);p&&_(this,Ht,gd).call(this,p),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,l.toSVGProperties())};this.addCommands({cmd:u.bind(this,r),undo:u.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,rt._mergeSVGProperties(d(this,ds).getPathResizingSVGProperties(_(this,Ht,Ag).call(this)),{bbox:_(this,Ht,Mc).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,rt._mergeSVGProperties(d(this,ds).getPathResizedSVGProperties(_(this,Ht,Ag).call(this)),{bbox:_(this,Ht,Mc).call(this)}))}_onTranslating(e,s){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:_(this,Ht,Mc).call(this,e,s)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,rt._mergeSVGProperties(d(this,ds).getPathTranslatedSVGProperties(_(this,Ht,Ag).call(this),this.parentDimensions),{bbox:_(this,Ht,Mc).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,Ou)&&(x(this,Ou,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){_(this,Ht,RA).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Ht,md).call(this),_(this,Ht,gd).call(this,d(this,ds).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),_(this,Ht,RA).call(this)):e&&(this._uiManager.addShouldRescale(this),_(this,Ht,md).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),s&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,rt._mergeSVGProperties({bbox:_(this,Ht,Mc).call(this)},d(this,ds).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&_(this,Ht,gd).call(this,d(this,ds).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const e=super.render();e.classList.add("draw");const s=document.createElement("div");e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),this._uiManager.addShouldRescale(this),this.disableEditing(),e}static createDrawerInstance(e,s,r,l,c){ae("Not implemented")}static startDrawing(e,s,r,l){var D;const{target:c,offsetX:u,offsetY:f,pointerId:p,pointerType:g}=l;if(d(rt,Br)&&d(rt,Br)!==g)return;const{viewport:{rotation:b}}=e,{width:v,height:A}=c.getBoundingClientRect(),S=x(rt,Al,new AbortController),E=e.combinedSignal(S);if(d(rt,Ir)||x(rt,Ir,p),d(rt,Br)??x(rt,Br,g),window.addEventListener("pointerup",R=>{var L;d(rt,Ir)===R.pointerId?this._endDraw(R):(L=d(rt,Fr))==null||L.delete(R.pointerId)},{signal:E}),window.addEventListener("pointercancel",R=>{var L;d(rt,Ir)===R.pointerId?this._currentParent.endDrawingSession():(L=d(rt,Fr))==null||L.delete(R.pointerId)},{signal:E}),window.addEventListener("pointerdown",R=>{d(rt,Br)===R.pointerType&&((d(rt,Fr)||x(rt,Fr,new Set)).add(R.pointerId),d(rt,$e).isCancellable()&&(d(rt,$e).removeLastElement(),d(rt,$e).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:E}),window.addEventListener("contextmenu",hn,{signal:E}),c.addEventListener("pointermove",this._drawMove.bind(this),{signal:E}),c.addEventListener("touchmove",R=>{R.timeStamp===d(rt,Sl)&&ys(R)},{signal:E}),e.toggleDrawing(),(D=s._editorUndoBar)==null||D.hide(),d(rt,$e)){e.drawLayer.updateProperties(this._currentDrawId,d(rt,$e).startNew(u,f,v,A,b));return}s.updateUIForDefaultProperties(this),x(rt,$e,this.createDrawerInstance(u,f,v,A,b)),x(rt,xl,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(d(rt,xl).toSVGProperties(),d(rt,$e).defaultSVGProperties),!0,!1)}static _drawMove(e){var c;if(x(rt,Sl,-1),!d(rt,$e))return;const{offsetX:s,offsetY:r,pointerId:l}=e;if(d(rt,Ir)===l){if(((c=d(rt,Fr))==null?void 0:c.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(rt,$e).add(s,r)),x(rt,Sl,e.timeStamp),ys(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,x(rt,$e,null),x(rt,xl,null),x(rt,Br,null),x(rt,Sl,NaN)),d(rt,Al)&&(d(rt,Al).abort(),x(rt,Al,null),x(rt,Ir,NaN),x(rt,Fr,null))}static _endDraw(e){const s=this._currentParent;if(s){if(s.toggleDrawing(!0),this._cleanup(!1),e&&s.drawLayer.updateProperties(this._currentDrawId,d(rt,$e).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=d(rt,$e),l=this._currentDrawId,c=r.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(l,r.setLastElement(c))},undo:()=>{s.drawLayer.updateProperties(l,r.removeLastElement())},mustExec:!1,type:Bt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const s=this._currentParent;if(!s)return null;if(s.toggleDrawing(!0),s.cleanUndoStack(Bt.DRAW_STEP),!d(rt,$e).isEmpty()){const{pageDimensions:[r,l],scale:c}=s,u=s.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(rt,$e).getOutlines(r*c,l*c,c,this._INNER_MARGIN),drawingOptions:d(rt,xl),mustBeCommitted:!e});return this._cleanup(!0),u}return s.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,s,r,l,c,u){ae("Not implemented")}static async deserialize(e,s,r){var b,v;const{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:f}}=s.viewport,p=this.deserializeDraw(u,f,l,c,this._INNER_MARGIN,e),g=await super.deserialize(e,s,r);return g.createDrawingOptions(e),_(b=g,Ht,CA).call(b,{drawOutlines:p}),_(v=g,Ht,md).call(v),g.onScaleChanging(),g.rotate(),g}serializeDraw(e){const[s,r]=this.pageTranslation,[l,c]=this.pageDimensions;return d(this,ds).serialize([s,r,l,c],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ds=new WeakMap,Ou=new WeakMap,$e=new WeakMap,Al=new WeakMap,xl=new WeakMap,Ir=new WeakMap,Br=new WeakMap,Fr=new WeakMap,Sl=new WeakMap,Ht=new WeakSet,CA=function({drawOutlines:e,drawId:s,drawingOptions:r}){x(this,ds,e),this._drawingOptions||(this._drawingOptions=r),s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,e.defaultProperties)):this._drawId=_(this,Ht,MA).call(this,e,this.parent),_(this,Ht,gd).call(this,e.box)},MA=function(e,s){const{id:r}=s.drawLayer.draw(rt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r},RA=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},md=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=_(this,Ht,MA).call(this,d(this,ds),e)}},gD=function([e,s,r,l]){const{parentDimensions:[c,u],rotation:f}=this;switch(f){case 90:return[s,1-e,r*(u/c),l*(c/u)];case 180:return[1-e,1-s,r,l];case 270:return[1-s,e,r*(u/c),l*(c/u)];default:return[e,s,r,l]}},Ag=function(){const{x:e,y:s,width:r,height:l,parentDimensions:[c,u],rotation:f}=this;switch(f){case 90:return[1-s,e,r*(c/u),l*(u/c)];case 180:return[1-e,1-s,r,l];case 270:return[s,1-e,r*(c/u),l*(u/c)];default:return[e,s,r,l]}},gd=function(e){if([this.x,this.y,this.width,this.height]=_(this,Ht,gD).call(this,e),this.div){this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)}this._onResized()},Mc=function(){const{x:e,y:s,width:r,height:l,rotation:c,parentRotation:u,parentDimensions:[f,p]}=this;switch((c*4+u)/90){case 1:return[1-s-l,e,l,r];case 2:return[1-e-r,1-s-l,r,l];case 3:return[s,1-e-r,l,r];case 4:return[e,s-r*(f/p),l*(p/f),r*(f/p)];case 5:return[1-s,e,r*(f/p),l*(p/f)];case 6:return[1-e-l*(p/f),1-s,l*(p/f),r*(f/p)];case 7:return[s-r*(f/p),1-e-l*(p/f),r*(f/p),l*(p/f)];case 8:return[e-r,s-l,r,l];case 9:return[1-s,e-r,l,r];case 10:return[1-e,1-s,r,l];case 11:return[s-l,1-e,l,r];case 12:return[e-l*(p/f),s,l*(p/f),r*(f/p)];case 13:return[1-s-r*(f/p),e-l*(p/f),r*(f/p),l*(p/f)];case 14:return[1-e,1-s-r*(f/p),l*(p/f),r*(f/p)];case 15:return[s,1-e,r*(f/p),l*(p/f)];default:return[e,s,r,l]}},gt(rt,"_currentDrawId",-1),gt(rt,"_currentParent",null),T(rt,$e,null),T(rt,Al,null),T(rt,xl,null),T(rt,Ir,NaN),T(rt,Br,null),T(rt,Fr,null),T(rt,Sl,NaN),gt(rt,"_INNER_MARGIN",3);let _A=rt;var On,We,Qe,wl,ku,_i,ai,Is,El,Tl,_l,Pu,xg;class FB{constructor(t,e,s,r,l,c){T(this,Pu);T(this,On,new Float64Array(6));T(this,We);T(this,Qe);T(this,wl);T(this,ku);T(this,_i);T(this,ai,"");T(this,Is,0);T(this,El,new Bg);T(this,Tl);T(this,_l);x(this,Tl,s),x(this,_l,r),x(this,wl,l),x(this,ku,c),[t,e]=_(this,Pu,xg).call(this,t,e);const u=x(this,We,[NaN,NaN,NaN,NaN,t,e]);x(this,_i,[t,e]),x(this,Qe,[{line:u,points:d(this,_i)}]),d(this,On).set(u,0)}updateProperty(t,e){t==="stroke-width"&&x(this,ku,e)}isEmpty(){return!d(this,Qe)||d(this,Qe).length===0}isCancellable(){return d(this,_i).length<=10}add(t,e){[t,e]=_(this,Pu,xg).call(this,t,e);const[s,r,l,c]=d(this,On).subarray(2,6),u=t-l,f=e-c;return Math.hypot(d(this,Tl)*u,d(this,_l)*f)<=2?null:(d(this,_i).push(t,e),isNaN(s)?(d(this,On).set([l,c,t,e],2),d(this,We).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(d(this,On)[0])&&d(this,We).splice(6,6),d(this,On).set([s,r,l,c,t,e],0),d(this,We).push(...at.createBezierPoints(s,r,l,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const s=this.add(t,e);return s||(d(this,_i).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,s,r,l){x(this,Tl,s),x(this,_l,r),x(this,wl,l),[t,e]=_(this,Pu,xg).call(this,t,e);const c=x(this,We,[NaN,NaN,NaN,NaN,t,e]);x(this,_i,[t,e]);const u=d(this,Qe).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),d(this,Qe).push({line:c,points:d(this,_i)}),d(this,On).set(c,0),x(this,Is,0),this.toSVGPath(),null}getLastElement(){return d(this,Qe).at(-1)}setLastElement(t){return d(this,Qe)?(d(this,Qe).push(t),x(this,We,t.line),x(this,_i,t.points),x(this,Is,0),{path:{d:this.toSVGPath()}}):d(this,El).setLastElement(t)}removeLastElement(){if(!d(this,Qe))return d(this,El).removeLastElement();d(this,Qe).pop(),x(this,ai,"");for(let t=0,e=d(this,Qe).length;t<e;t++){const{line:s,points:r}=d(this,Qe)[t];x(this,We,s),x(this,_i,r),x(this,Is,0),this.toSVGPath()}return{path:{d:d(this,ai)}}}toSVGPath(){const t=at.svgRound(d(this,We)[4]),e=at.svgRound(d(this,We)[5]);if(d(this,_i).length===2)return x(this,ai,`${d(this,ai)} M ${t} ${e} Z`),d(this,ai);if(d(this,_i).length<=6){const r=d(this,ai).lastIndexOf("M");x(this,ai,`${d(this,ai).slice(0,r)} M ${t} ${e}`),x(this,Is,6)}if(d(this,_i).length===4){const r=at.svgRound(d(this,We)[10]),l=at.svgRound(d(this,We)[11]);return x(this,ai,`${d(this,ai)} L ${r} ${l}`),x(this,Is,12),d(this,ai)}const s=[];d(this,Is)===0&&(s.push(`M ${t} ${e}`),x(this,Is,6));for(let r=d(this,Is),l=d(this,We).length;r<l;r+=6){const[c,u,f,p,g,b]=d(this,We).slice(r,r+6).map(at.svgRound);s.push(`C${c} ${u} ${f} ${p} ${g} ${b}`)}return x(this,ai,d(this,ai)+s.join(" ")),x(this,Is,d(this,We).length),d(this,ai)}getOutlines(t,e,s,r){const l=d(this,Qe).at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),d(this,El).build(d(this,Qe),t,e,s,d(this,wl),d(this,ku),r),x(this,On,null),x(this,We,null),x(this,Qe,null),x(this,ai,null),d(this,El)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}On=new WeakMap,We=new WeakMap,Qe=new WeakMap,wl=new WeakMap,ku=new WeakMap,_i=new WeakMap,ai=new WeakMap,Is=new WeakMap,El=new WeakMap,Tl=new WeakMap,_l=new WeakMap,Pu=new WeakSet,xg=function(t,e){return at._normalizePoint(t,e,d(this,Tl),d(this,_l),d(this,wl))};var Ci,op,lp,fs,kn,Pn,ju,Iu,Bu,oi,oa,yD,bD,vD;const Hx=class Hx extends at{constructor(){super(...arguments);T(this,oi);T(this,Ci);T(this,op,0);T(this,lp);T(this,fs);T(this,kn);T(this,Pn);T(this,ju);T(this,Iu);T(this,Bu)}build(e,s,r,l,c,u,f){x(this,kn,s),x(this,Pn,r),x(this,ju,l),x(this,Iu,c),x(this,Bu,u),x(this,lp,f??0),x(this,fs,e),_(this,oi,bD).call(this)}setLastElement(e){return d(this,fs).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,fs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:s}of d(this,fs)){if(e.push(`M${at.svgRound(s[4])} ${at.svgRound(s[5])}`),s.length===6){e.push("Z");continue}if(s.length===12){e.push(`L${at.svgRound(s[10])} ${at.svgRound(s[11])}`);continue}for(let r=6,l=s.length;r<l;r+=6){const[c,u,f,p,g,b]=s.subarray(r,r+6).map(at.svgRound);e.push(`C${c} ${u} ${f} ${p} ${g} ${b}`)}}return e.join("")}serialize([e,s,r,l],c){const u=[],f=[],[p,g,b,v]=_(this,oi,yD).call(this);let A,S,E,D,R,L,N,j,P;switch(d(this,Iu)){case 0:P=at._rescale,A=e,S=s+l,E=r,D=-l,R=e+p*r,L=s+(1-g-v)*l,N=e+(p+b)*r,j=s+(1-g)*l;break;case 90:P=at._rescaleAndSwap,A=e,S=s,E=r,D=l,R=e+g*r,L=s+p*l,N=e+(g+v)*r,j=s+(p+b)*l;break;case 180:P=at._rescale,A=e+r,S=s,E=-r,D=l,R=e+(1-p-b)*r,L=s+g*l,N=e+(1-p)*r,j=s+(g+v)*l;break;case 270:P=at._rescaleAndSwap,A=e+r,S=s+l,E=-r,D=-l,R=e+(1-g-v)*r,L=s+(1-p-b)*l,N=e+(1-g)*r,j=s+(1-p)*l;break}for(const{line:U,points:q}of d(this,fs))u.push(P(U,A,S,E,D,c?new Array(U.length):null)),f.push(P(q,A,S,E,D,c?new Array(q.length):null));return{lines:u,points:f,rect:[R,L,N,j]}}static deserialize(e,s,r,l,c,{paths:{lines:u,points:f},rotation:p,thickness:g}){const b=[];let v,A,S,E,D;switch(p){case 0:D=at._rescale,v=-e/r,A=s/l+1,S=1/r,E=-1/l;break;case 90:D=at._rescaleAndSwap,v=-s/l,A=-e/r,S=1/l,E=1/r;break;case 180:D=at._rescale,v=e/r+1,A=-s/l,S=-1/r,E=1/l;break;case 270:D=at._rescaleAndSwap,v=s/l+1,A=e/r+1,S=-1/l,E=-1/r;break}if(!u){u=[];for(const L of f){const N=L.length;if(N===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1]]));continue}if(N===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1],NaN,NaN,NaN,NaN,L[2],L[3]]));continue}const j=new Float32Array(3*(N-2));u.push(j);let[P,U,q,$]=L.subarray(0,4);j.set([NaN,NaN,NaN,NaN,P,U],0);for(let tt=4;tt<N;tt+=2){const ft=L[tt],ot=L[tt+1];j.set(at.createBezierPoints(P,U,q,$,ft,ot),(tt-2)*3),[P,U,q,$]=[q,$,ft,ot]}}}for(let L=0,N=u.length;L<N;L++)b.push({line:D(u[L].map(j=>j??NaN),v,A,S,E),points:D(f[L].map(j=>j??NaN),v,A,S,E)});const R=new Hx;return R.build(b,r,l,1,p,g,c),R}get box(){return d(this,Ci)}updateProperty(e,s){return e==="stroke-width"?_(this,oi,vD).call(this,s):null}updateParentDimensions([e,s],r){const[l,c]=_(this,oi,oa).call(this);x(this,kn,e),x(this,Pn,s),x(this,ju,r);const[u,f]=_(this,oi,oa).call(this),p=u-l,g=f-c,b=d(this,Ci);return b[0]-=p,b[1]-=g,b[2]+=2*p,b[3]+=2*g,b}updateRotation(e){return x(this,op,e),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,Ci).map(at.svgRound).join(" ")}get defaultProperties(){const[e,s]=d(this,Ci);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`}}}get rotationTransform(){const[,,e,s]=d(this,Ci);let r=0,l=0,c=0,u=0,f=0,p=0;switch(d(this,op)){case 90:l=s/e,c=-e/s,f=e;break;case 180:r=-1,u=-1,f=e,p=s;break;case 270:l=-s/e,c=e/s,p=s;break;default:return""}return`matrix(${r} ${l} ${c} ${u} ${at.svgRound(f)} ${at.svgRound(p)})`}getPathResizingSVGProperties([e,s,r,l]){const[c,u]=_(this,oi,oa).call(this),[f,p,g,b]=d(this,Ci);if(Math.abs(g-c)<=at.PRECISION||Math.abs(b-u)<=at.PRECISION){const D=e+r/2-(f+g/2),R=s+l/2-(p+b/2);return{path:{"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`,transform:`${this.rotationTransform} translate(${D} ${R})`}}}const v=(r-2*c)/(g-2*c),A=(l-2*u)/(b-2*u),S=g/r,E=b/l;return{path:{"transform-origin":`${at.svgRound(f)} ${at.svgRound(p)}`,transform:`${this.rotationTransform} scale(${S} ${E}) translate(${at.svgRound(c)} ${at.svgRound(u)}) scale(${v} ${A}) translate(${at.svgRound(-c)} ${at.svgRound(-u)})`}}}getPathResizedSVGProperties([e,s,r,l]){const[c,u]=_(this,oi,oa).call(this),f=d(this,Ci),[p,g,b,v]=f;if(f[0]=e,f[1]=s,f[2]=r,f[3]=l,Math.abs(b-c)<=at.PRECISION||Math.abs(v-u)<=at.PRECISION){const R=e+r/2-(p+b/2),L=s+l/2-(g+v/2);for(const{line:N,points:j}of d(this,fs))at._translate(N,R,L,N),at._translate(j,R,L,j);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const A=(r-2*c)/(b-2*c),S=(l-2*u)/(v-2*u),E=-A*(p+c)+e+c,D=-S*(g+u)+s+u;if(A!==1||S!==1||E!==0||D!==0)for(const{line:R,points:L}of d(this,fs))at._rescale(R,E,D,A,S,R),at._rescale(L,E,D,A,S,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,s],r){const[l,c]=r,u=d(this,Ci),f=e-u[0],p=s-u[1];if(d(this,kn)===l&&d(this,Pn)===c)for(const{line:g,points:b}of d(this,fs))at._translate(g,f,p,g),at._translate(b,f,p,b);else{const g=d(this,kn)/l,b=d(this,Pn)/c;x(this,kn,l),x(this,Pn,c);for(const{line:v,points:A}of d(this,fs))at._rescale(v,f,p,g,b,v),at._rescale(A,f,p,g,b,A);u[2]*=g,u[3]*=b}return u[0]=e,u[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`}}}get defaultSVGProperties(){const e=d(this,Ci);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${at.svgRound(e[0])} ${at.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}};Ci=new WeakMap,op=new WeakMap,lp=new WeakMap,fs=new WeakMap,kn=new WeakMap,Pn=new WeakMap,ju=new WeakMap,Iu=new WeakMap,Bu=new WeakMap,oi=new WeakSet,oa=function(e=d(this,Bu)){const s=d(this,lp)+e/2*d(this,ju);return d(this,Iu)%180===0?[s/d(this,kn),s/d(this,Pn)]:[s/d(this,Pn),s/d(this,kn)]},yD=function(){const[e,s,r,l]=d(this,Ci),[c,u]=_(this,oi,oa).call(this,0);return[e+c,s+u,r-2*c,l-2*u]},bD=function(){const e=x(this,Ci,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:l}of d(this,fs)){if(l.length<=12){for(let f=4,p=l.length;f<p;f+=6){const[g,b]=l.subarray(f,f+2);e[0]=Math.min(e[0],g),e[1]=Math.min(e[1],b),e[2]=Math.max(e[2],g),e[3]=Math.max(e[3],b)}continue}let c=l[4],u=l[5];for(let f=6,p=l.length;f<p;f+=6){const[g,b,v,A,S,E]=l.subarray(f,f+6);dt.bezierBoundingBox(c,u,g,b,v,A,S,E,e),c=S,u=E}}const[s,r]=_(this,oi,oa).call(this);e[0]=Math.min(1,Math.max(0,e[0]-s)),e[1]=Math.min(1,Math.max(0,e[1]-r)),e[2]=Math.min(1,Math.max(0,e[2]+s)),e[3]=Math.min(1,Math.max(0,e[3]+r)),e[2]-=e[0],e[3]-=e[1]},vD=function(e){const[s,r]=_(this,oi,oa).call(this);x(this,Bu,e);const[l,c]=_(this,oi,oa).call(this),[u,f]=[l-s,c-r],p=d(this,Ci);return p[0]-=u,p[1]-=f,p[2]+=2*u,p[3]+=2*f,p};let Bg=Hx;var Fu;const Vx=class Vx extends BB{constructor(e){super();T(this,Fu);x(this,Fu,e),super.updateProperties({fill:"none",stroke:be._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,s){e==="stroke-width"&&(s??(s=this["stroke-width"]),s*=d(this,Fu).realScale),super.updateSVGProperty(e,s)}clone(){const e=new Vx(d(this,Fu));return e.updateAll(this),e}};Fu=new WeakMap;let DA=Vx;var iy,AD;const jc=class jc extends _A{constructor(e){super({...e,name:"inkEditor"});T(this,iy);this._willKeepAspectRatio=!0}static initialize(e,s){be.initialize(e,s),this._defaultDrawingOptions=new DA(s.viewParameters)}static getDefaultDrawingOptions(e){const s=this._defaultDrawingOptions.clone();return s.updateProperties(e),s}static get supportMultipleDrawings(){return!0}static get typesMap(){return Pt(this,"typesMap",new Map([[Bt.INK_THICKNESS,"stroke-width"],[Bt.INK_COLOR,"stroke"],[Bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,s,r,l,c){return new FB(e,s,r,l,c,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,s,r,l,c,u){return Bg.deserialize(e,s,r,l,c,u)}static async deserialize(e,s,r){let l=null;if(e instanceof jx){const{data:{inkLists:u,rect:f,rotation:p,id:g,color:b,opacity:v,borderStyle:{rawWidth:A},popupRef:S},parent:{page:{pageNumber:E}}}=e;l=e={annotationType:Ct.INK,color:Array.from(b),thickness:A,opacity:v,paths:{points:u},boxes:null,pageIndex:E-1,rect:f.slice(0),rotation:p,id:g,deleted:!1,popupRef:S}}const c=await super.deserialize(e,s,r);return c.annotationElementId=e.id||null,c._initialData=l,c}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:s,parent:r}=this;s.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,s.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:s,opacity:r}){this._drawingOptions=jc.getDefaultDrawingOptions({stroke:dt.makeHexColor(...e),"stroke-width":s,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:s,points:r,rect:l}=this.serializeDraw(e),{_drawingOptions:{stroke:c,"stroke-opacity":u,"stroke-width":f}}=this,p={annotationType:Ct.INK,color:be._colorManager.convert(c),opacity:u,thickness:f,paths:{lines:s,points:r},pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?p:this.annotationElementId&&!_(this,iy,AD).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(e){const{points:s,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:s}),null}};iy=new WeakSet,AD=function(e){const{color:s,thickness:r,opacity:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((u,f)=>u!==s[f])||e.thickness!==r||e.opacity!==l||e.pageIndex!==c},gt(jc,"_type","ink"),gt(jc,"_editorType",Ct.INK),gt(jc,"_defaultDrawingOptions",null);let NA=jc;var me,ri,zr,Na,Hr,zu,jn,In,ps,Hu,Ut,yd,bd,Sg,OA,wg,kA,Eg,xD;const _d=class _d extends be{constructor(e){super({...e,name:"stampEditor"});T(this,Ut);T(this,me,null);T(this,ri,null);T(this,zr,null);T(this,Na,null);T(this,Hr,null);T(this,zu,"");T(this,jn,null);T(this,In,null);T(this,ps,!1);T(this,Hu,!1);x(this,Na,e.bitmapUrl),x(this,Hr,e.bitmapFile)}static initialize(e,s){be.initialize(e,s)}static get supportedTypes(){return Pt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Pt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Ct.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:u}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:c,height:u,channels:l.length/(c*u)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),s&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e;d(this,ri)&&(x(this,me,null),this._uiManager.imageManager.deleteId(d(this,ri)),(e=d(this,jn))==null||e.remove(),x(this,jn,null),d(this,In)&&(clearTimeout(d(this,In)),x(this,In,null))),super.remove()}rebuild(){if(!this.parent){d(this,ri)&&_(this,Ut,Sg).call(this);return}super.rebuild(),this.div!==null&&(d(this,ri)&&d(this,jn)===null&&_(this,Ut,Sg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(d(this,zr)||d(this,me)||d(this,Na)||d(this,Hr)||d(this,ri))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,me)?_(this,Ut,OA).call(this):_(this,Ut,Sg).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(e*r,s*l,this.width*r,this.height*l)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,In)!==null&&clearTimeout(d(this,In)),x(this,In,setTimeout(()=>{x(this,In,null),_(this,Ut,kA).call(this)},200))}copyCanvas(e,s,r=!1){var A;e||(e=224);const{width:l,height:c}=d(this,me),u=new Dv;let f=d(this,me),p=l,g=c,b=null;if(s){if(l>s||c>s){const $=Math.min(s/l,s/c);p=Math.floor(l*$),g=Math.floor(c*$)}b=document.createElement("canvas");const S=b.width=Math.ceil(p*u.sx),E=b.height=Math.ceil(g*u.sy);d(this,ps)||(f=_(this,Ut,wg).call(this,S,E));const D=b.getContext("2d");D.filter=this._uiManager.hcmFilter;let R="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(R="#8f8f9d",L="#42414d");const N=15,j=N*u.sx,P=N*u.sy,U=new OffscreenCanvas(j*2,P*2),q=U.getContext("2d");q.fillStyle=R,q.fillRect(0,0,j*2,P*2),q.fillStyle=L,q.fillRect(0,0,j,P),q.fillRect(j,P,j,P),D.fillStyle=D.createPattern(U,"repeat"),D.fillRect(0,0,S,E),D.drawImage(f,0,0,f.width,f.height,0,0,S,E)}let v=null;if(r){let S,E;if(u.symmetric&&f.width<e&&f.height<e)S=f.width,E=f.height;else if(f=d(this,me),l>e||c>e){const L=Math.min(e/l,e/c);S=Math.floor(l*L),E=Math.floor(c*L),d(this,ps)||(f=_(this,Ut,wg).call(this,S,E))}const R=new OffscreenCanvas(S,E).getContext("2d",{willReadFrequently:!0});R.drawImage(f,0,0,f.width,f.height,0,0,S,E),v={width:S,height:E,data:R.getImageData(0,0,S,E).data}}return{canvas:b,width:p,height:g,imageData:v}}getImageForAltText(){return d(this,jn)}static async deserialize(e,s,r){var E;let l=null;if(e instanceof VR){const{data:{rect:D,rotation:R,id:L,structParent:N,popupRef:j},container:P,parent:{page:{pageNumber:U}}}=e,q=P.querySelector("canvas"),$=r.imageManager.getFromCanvas(P.id,q);q.remove();const tt=((E=await s._structTree.getAriaAttributes(`${Mx}${L}`))==null?void 0:E.get("aria-label"))||"";l=e={annotationType:Ct.STAMP,bitmapId:$.id,bitmap:$.bitmap,pageIndex:U-1,rect:D.slice(0),rotation:R,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:N,popupRef:j}}const c=await super.deserialize(e,s,r),{rect:u,bitmap:f,bitmapUrl:p,bitmapId:g,isSvg:b,accessibilityData:v}=e;g&&r.imageManager.isValidId(g)?(x(c,ri,g),f&&x(c,me,f)):x(c,Na,p),x(c,ps,b);const[A,S]=c.pageDimensions;return c.width=(u[2]-u[0])/A,c.height=(u[3]-u[1])/S,c.annotationElementId=e.id||null,v&&(c.altTextData=v),c._initialData=l,x(c,Hu,!!l),c}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Ct.STAMP,bitmapId:d(this,ri),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,ps),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=_(this,Ut,Eg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=_(this,Ut,xD).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const u=d(this,ps)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(d(this,ri)))s.stamps.set(d(this,ri),{area:u,serialized:r}),r.bitmap=_(this,Ut,Eg).call(this,!1);else if(d(this,ps)){const f=s.stamps.get(d(this,ri));u>f.area&&(f.area=u,f.serialized.bitmap.close(),f.serialized.bitmap=_(this,Ut,Eg).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};me=new WeakMap,ri=new WeakMap,zr=new WeakMap,Na=new WeakMap,Hr=new WeakMap,zu=new WeakMap,jn=new WeakMap,In=new WeakMap,ps=new WeakMap,Hu=new WeakMap,Ut=new WeakSet,yd=function(e,s=!1){if(!e){this.remove();return}x(this,me,e.bitmap),s||(x(this,ri,e.id),x(this,ps,e.isSvg)),e.file&&x(this,zu,e.file.name),_(this,Ut,OA).call(this)},bd=function(){if(x(this,zr,null),this._uiManager.enableWaiting(!1),!!d(this,jn)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,me)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,me)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Sg=function(){if(d(this,ri)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,ri)).then(r=>_(this,Ut,yd).call(this,r,!0)).finally(()=>_(this,Ut,bd).call(this));return}if(d(this,Na)){const r=d(this,Na);x(this,Na,null),this._uiManager.enableWaiting(!0),x(this,zr,this._uiManager.imageManager.getFromUrl(r).then(l=>_(this,Ut,yd).call(this,l)).finally(()=>_(this,Ut,bd).call(this)));return}if(d(this,Hr)){const r=d(this,Hr);x(this,Hr,null),this._uiManager.enableWaiting(!0),x(this,zr,this._uiManager.imageManager.getFromFile(r).then(l=>_(this,Ut,yd).call(this,l)).finally(()=>_(this,Ut,bd).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=_d.supportedTypesStr;const s=this._uiManager._signal;x(this,zr,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,Ut,yd).call(this,l)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>_(this,Ut,bd).call(this))),e.click()},OA=function(){var b;const{div:e}=this;let{width:s,height:r}=d(this,me);const[l,c]=this.pageDimensions,u=.75;if(this.width)s=this.width*l,r=this.height*c;else if(s>u*l||r>u*c){const v=Math.min(u*l/s,u*c/r);s*=v,r*=v}const[f,p]=this.parentDimensions;this.setDims(s*f/l,r*p/c),this._uiManager.enableWaiting(!1);const g=x(this,jn,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=s/l,this.height=r/c,(b=this._initialOptions)!=null&&b.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),_(this,Ut,kA).call(this),d(this,Hu)||(this.parent.addUndoableEditor(this),x(this,Hu,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,zu)&&g.setAttribute("aria-label",d(this,zu))},wg=function(e,s){const{width:r,height:l}=d(this,me);let c=r,u=l,f=d(this,me);for(;c>2*e||u>2*s;){const p=c,g=u;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),u>2*s&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const b=new OffscreenCanvas(c,u);b.getContext("2d").drawImage(f,0,0,p,g,0,0,c,u),f=b.transferToImageBitmap()}return f},kA=function(){const[e,s]=this.parentDimensions,{width:r,height:l}=this,c=new Dv,u=Math.ceil(r*e*c.sx),f=Math.ceil(l*s*c.sy),p=d(this,jn);if(!p||p.width===u&&p.height===f)return;p.width=u,p.height=f;const g=d(this,ps)?d(this,me):_(this,Ut,wg).call(this,u,f),b=p.getContext("2d");b.filter=this._uiManager.hcmFilter,b.drawImage(g,0,0,g.width,g.height,0,0,u,f)},Eg=function(e){if(e){if(d(this,ps)){const l=this._uiManager.imageManager.getSvgUrl(d(this,ri));if(l)return l}const s=document.createElement("canvas");return{width:s.width,height:s.height}=d(this,me),s.getContext("2d").drawImage(d(this,me),0,0),s.toDataURL()}if(d(this,ps)){const[s,r]=this.pageDimensions,l=Math.round(this.width*s*Kr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*Kr.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(l,c);return u.getContext("2d").drawImage(d(this,me),0,0,d(this,me).width,d(this,me).height,0,0,l,c),u.transferToImageBitmap()}return structuredClone(d(this,me))},xD=function(e){var u;const{pageIndex:s,accessibilityData:{altText:r}}=this._initialData,l=e.pageIndex===s,c=(((u=e.accessibilityData)==null?void 0:u.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&l&&c,isSameAltText:c}},gt(_d,"_type","stamp"),gt(_d,"_editorType",Ct.STAMP);let LA=_d;var Cl,Vu,Bn,Vr,La,Bs,Ur,Uu,Ml,rn,Oa,bi,ka,ut,Gr,de,SD,xn,jA,IA,Tg;const Ys=class Ys{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:u,textLayer:f,viewport:p,l10n:g}){T(this,de);T(this,Cl);T(this,Vu,!1);T(this,Bn,null);T(this,Vr,null);T(this,La,null);T(this,Bs,new Map);T(this,Ur,!1);T(this,Uu,!1);T(this,Ml,!1);T(this,rn,null);T(this,Oa,null);T(this,bi,null);T(this,ka,null);T(this,ut);const b=[...d(Ys,Gr).values()];if(!Ys._initialized){Ys._initialized=!0;for(const v of b)v.initialize(g,t)}t.registerEditorTypes(b),x(this,ut,t),this.pageIndex=e,this.div=s,x(this,Cl,l),x(this,Bn,c),this.viewport=p,x(this,bi,f),this.drawLayer=u,this._structTree=r,d(this,ut).addLayer(this)}get isEmpty(){return d(this,Bs).size===0}get isInvisible(){return this.isEmpty&&d(this,ut).getMode()===Ct.NONE}updateToolbar(t){d(this,ut).updateToolbar(t)}updateMode(t=d(this,ut).getMode()){switch(_(this,de,Tg).call(this),t){case Ct.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ct.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ct.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of d(Ys,Gr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,bi))==null?void 0:e.div)}setEditingState(t){d(this,ut).setEditingState(t)}addCommands(t){d(this,ut).addCommands(t)}cleanUndoStack(t){d(this,ut).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,Bn))==null||e.div.classList.toggle("disabled",!t)}async enable(){x(this,Ml,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of d(this,Bs).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(d(this,ut).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!d(this,Bn)){x(this,Ml,!1);return}const e=d(this,Bn).getEditableAnnotations();for(const s of e){if(s.hide(),d(this,ut).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}x(this,Ml,!1)}disable(){var r;x(this,Uu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of d(this,Bs).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(d(this,Bn)){const l=d(this,Bn).getEditableAnnotations();for(const c of l){const{id:u}=c.data;if(d(this,ut).isDeletedAnnotationElement(u))continue;let f=e.get(u);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=t.get(u),f&&(d(this,ut).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}_(this,de,Tg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const l of d(Ys,Gr).values())s.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(this,Uu,!1)}getEditableAnnotation(t){var e;return((e=d(this,Bn))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,ut).getActive()!==t&&d(this,ut).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,bi))!=null&&t.div&&!d(this,ka)){x(this,ka,new AbortController);const e=d(this,ut).combinedSignal(d(this,ka));d(this,bi).div.addEventListener("pointerdown",_(this,de,SD).bind(this),{signal:e}),d(this,bi).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,bi))!=null&&t.div&&d(this,ka)&&(d(this,ka).abort(),x(this,ka,null),d(this,bi).div.classList.remove("highlighting"))}enableClick(){if(d(this,Vr))return;x(this,Vr,new AbortController);const t=d(this,ut).combinedSignal(d(this,Vr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=d(this,Vr))==null||t.abort(),x(this,Vr,null)}attach(t){d(this,Bs).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,ut).isDeletedAnnotationElement(e)&&d(this,ut).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,Bs).delete(t.id),(e=d(this,Cl))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,Uu)&&t.annotationElementId&&d(this,ut).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,ut).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,ut).addDeletedAnnotationElement(t.annotationElementId),be.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,ut).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!d(this,Ml)),d(this,ut).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,La)&&(t._focusEventsAllowed=!1,x(this,La,setTimeout(()=>{x(this,La,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,ut)._signal}),e.focus())},0))),t._structTreeParentId=(s=d(this,Cl))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return d(this,ut).getId()}combinedSignal(t){return d(this,ut).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,de,xn))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){d(this,ut).updateToolbar(t),d(this,ut).updateMode(t);const{offsetX:s,offsetY:r}=_(this,de,IA).call(this),l=this.getNextId(),c=_(this,de,jA).call(this,{parent:this,id:l,x:s,y:r,uiManager:d(this,ut),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=d(Ys,Gr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,ut)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),l=_(this,de,jA).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:d(this,ut),isCentered:e,...s});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(_(this,de,IA).call(this),!0)}setSelected(t){d(this,ut).setSelected(t)}toggleSelected(t){d(this,ut).toggleSelected(t)}unselect(t){d(this,ut).unselect(t)}pointerup(t){var s;const{isMac:e}=Di.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&d(this,Ur)&&(x(this,Ur,!1),!((s=d(this,de,xn))!=null&&s.isDrawer&&d(this,de,xn).supportMultipleDrawings))){if(!d(this,Vu)){x(this,Vu,!0);return}if(d(this,ut).getMode()===Ct.STAMP){d(this,ut).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){var r;if(d(this,ut).getMode()===Ct.HIGHLIGHT&&this.enableTextSelection(),d(this,Ur)){x(this,Ur,!1);return}const{isMac:e}=Di.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(x(this,Ur,!0),(r=d(this,de,xn))!=null&&r.isDrawer){this.startDrawingSession(t);return}const s=d(this,ut).getActive();x(this,Vu,!s||s.isEmpty())}startDrawingSession(t){if(this.div.focus(),d(this,rn)){d(this,de,xn).startDrawing(this,d(this,ut),!1,t);return}d(this,ut).setCurrentDrawingSession(this),x(this,rn,new AbortController);const e=d(this,ut).combinedSignal(d(this,rn));this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(x(this,Oa,null),this.commitOrRemove())},{signal:e}),d(this,de,xn).startDrawing(this,d(this,ut),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&x(this,Oa,e);return}d(this,Oa)&&setTimeout(()=>{var e;(e=d(this,Oa))==null||e.focus(),x(this,Oa,null)},0)}endDrawingSession(t=!1){return d(this,rn)?(d(this,ut).setCurrentDrawingSession(null),d(this,rn).abort(),x(this,rn,null),x(this,Oa,null),d(this,de,xn).endDrawing(t)):null}findNewParent(t,e,s){const r=d(this,ut).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return d(this,rn)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,rn)&&d(this,de,xn).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=d(this,ut).getActive())==null?void 0:t.parent)===this&&(d(this,ut).commitOrRemove(),d(this,ut).setActiveEditor(null)),d(this,La)&&(clearTimeout(d(this,La)),x(this,La,null));for(const s of d(this,Bs).values())(e=d(this,Cl))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,d(this,Bs).clear(),d(this,ut).removeLayer(this)}render({viewport:t}){this.viewport=t,Ll(this.div,t);for(const e of d(this,ut).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,ut).commitOrRemove(),_(this,de,Tg).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Ll(this.div,{rotation:s}),e!==s)for(const r of d(this,Bs).values())r.rotate(s)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,ut).viewParameters.realScale}};Cl=new WeakMap,Vu=new WeakMap,Bn=new WeakMap,Vr=new WeakMap,La=new WeakMap,Bs=new WeakMap,Ur=new WeakMap,Uu=new WeakMap,Ml=new WeakMap,rn=new WeakMap,Oa=new WeakMap,bi=new WeakMap,ka=new WeakMap,ut=new WeakMap,Gr=new WeakMap,de=new WeakSet,SD=function(t){d(this,ut).unselectAll();const{target:e}=t;if(e===d(this,bi).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,bi).div.contains(e)){const{isMac:s}=Di.platform;if(t.button!==0||t.ctrlKey&&s)return;d(this,ut).showAllEditors("highlight",!0,!0),d(this,bi).div.classList.add("free"),this.toggleDrawing(),Ig.startHighlighting(this,d(this,ut).direction==="ltr",{target:d(this,bi).div,x:t.x,y:t.y}),d(this,bi).div.addEventListener("pointerup",()=>{d(this,bi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,ut)._signal}),t.preventDefault()}},xn=function(){return d(Ys,Gr).get(d(this,ut).getMode())},jA=function(t){const e=d(this,de,xn);return e?new e.prototype.constructor(t):null},IA=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),u=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,e+r),p=(l+u)/2-t,g=(c+f)/2-e,[b,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:b,offsetY:v}},Tg=function(){for(const t of d(this,Bs).values())t.isEmpty()&&t.remove()},gt(Ys,"_initialized",!1),T(Ys,Gr,new Map([gA,NA,LA,Ig].map(t=>[t._editorType,t])));let PA=Ys;var on,cp,Mi,Rl,sy,wD,Un,FA,ED,zA;const pi=class pi{constructor({pageIndex:t}){T(this,Un);T(this,on,null);T(this,cp,0);T(this,Mi,new Map);T(this,Rl,new Map);this.pageIndex=t}setParent(t){if(!d(this,on)){x(this,on,t);return}if(d(this,on)!==t){if(d(this,Mi).size>0)for(const e of d(this,Mi).values())e.remove(),t.append(e);x(this,on,t)}}static get _svgFactory(){return Pt(this,"_svgFactory",new Px)}draw(t,e=!1,s=!1){const r=wi(this,cp)._++,l=_(this,Un,FA).call(this),c=pi._svgFactory.createElement("defs");l.append(c);const u=pi._svgFactory.createElement("path");c.append(u);const f=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",f),u.setAttribute("vector-effect","non-scaling-stroke"),e&&d(this,Rl).set(r,u);const p=s?_(this,Un,ED).call(this,c,f):null,g=pi._svgFactory.createElement("use");return l.append(g),g.setAttribute("href",`#${f}`),this.updateProperties(l,t),d(this,Mi).set(r,l),{id:r,clipPathId:`url(#${p})`}}drawOutline(t,e){const s=wi(this,cp)._++,r=_(this,Un,FA).call(this),l=pi._svgFactory.createElement("defs");r.append(l);const c=pi._svgFactory.createElement("path");l.append(c);const u=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let f;if(e){const b=pi._svgFactory.createElement("mask");l.append(b),f=`mask_p${this.pageIndex}_${s}`,b.setAttribute("id",f),b.setAttribute("maskUnits","objectBoundingBox");const v=pi._svgFactory.createElement("rect");b.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const A=pi._svgFactory.createElement("use");b.append(A),A.setAttribute("href",`#${u}`),A.setAttribute("stroke","none"),A.setAttribute("fill","black"),A.setAttribute("fill-rule","nonzero"),A.classList.add("mask")}const p=pi._svgFactory.createElement("use");r.append(p),p.setAttribute("href",`#${u}`),f&&p.setAttribute("mask",`url(#${f})`);const g=p.cloneNode();return r.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(r,t),d(this,Mi).set(s,r),s}finalizeDraw(t,e){d(this,Rl).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var f;if(!e)return;const{root:s,bbox:r,rootClass:l,path:c}=e,u=typeof t=="number"?d(this,Mi).get(t):t;if(u){if(s&&_(this,Un,zA).call(this,u,s),r&&_(f=pi,sy,wD).call(f,u,r),l){const{classList:p}=u;for(const[g,b]of Object.entries(l))p.toggle(g,b)}if(c){const g=u.firstChild.firstChild;_(this,Un,zA).call(this,g,c)}}}updateParent(t,e){if(e===this)return;const s=d(this,Mi).get(t);s&&(d(e,on).append(s),d(this,Mi).delete(t),d(e,Mi).set(t,s))}remove(t){d(this,Rl).delete(t),d(this,on)!==null&&(d(this,Mi).get(t).remove(),d(this,Mi).delete(t))}destroy(){x(this,on,null);for(const t of d(this,Mi).values())t.remove();d(this,Mi).clear(),d(this,Rl).clear()}};on=new WeakMap,cp=new WeakMap,Mi=new WeakMap,Rl=new WeakMap,sy=new WeakSet,wD=function(t,[e,s,r,l]){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*l}%`},Un=new WeakSet,FA=function(){const t=pi._svgFactory.create(1,1,!0);return d(this,on).append(t),t.setAttribute("aria-hidden",!0),t},ED=function(t,e){const s=pi._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const l=pi._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},zA=function(t,e){for(const[s,r]of Object.entries(e))r===null?t.removeAttribute(s):t.setAttribute(s,r)},T(pi,sy);let BA=pi;globalThis.pdfjsTestingUtils={HighlightOutliner:bA};xt.AbortException;xt.AnnotationEditorLayer;xt.AnnotationEditorParamsType;xt.AnnotationEditorType;xt.AnnotationEditorUIManager;xt.AnnotationLayer;xt.AnnotationMode;xt.ColorPicker;xt.DOMSVGFactory;xt.DrawLayer;xt.FeatureTest;var P_=xt.GlobalWorkerOptions;xt.ImageKind;xt.InvalidPDFException;xt.MissingPDFException;xt.OPS;xt.OutputScale;xt.PDFDataRangeTransport;xt.PDFDateString;xt.PDFWorker;xt.PasswordResponses;xt.PermissionFlag;xt.PixelsPerInch;xt.RenderingCancelledException;xt.TextLayer;xt.TouchManager;xt.UnexpectedResponseException;xt.Util;xt.VerbosityLevel;xt.XfaLayer;xt.build;xt.createValidAbsoluteUrl;xt.fetchData;var zB=xt.getDocument;xt.getFilenameFromUrl;xt.getPdfFilenameFromUrl;xt.getXfaPageViewport;xt.isDataScheme;xt.isPdfFile;xt.noContextMenu;xt.normalizeUnicode;xt.setLayerDimensions;xt.shadow;xt.stopEvent;xt.version;function HB(a){return new Worker("/assets/pdf.worker.min-BRG_qK7b.js",{name:a==null?void 0:a.name})}const Um="/assets/odcheo_resume-CjfkTnXX.pdf",Xu={hidden:{},visible:{transition:{staggerChildren:.1,delayChildren:.1}}},Id={hidden:{opacity:0,y:60},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},VB={hidden:{opacity:0,x:-60},visible:{opacity:1,x:0,transition:{duration:.6,ease:"easeOut"}}},UB={hidden:{opacity:0,x:60},visible:{opacity:1,x:0,transition:{duration:.6,ease:"easeOut"}}},GB={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};function TD(a=.1){const[t,e]=J.useState(!1),[s,r]=J.useState("down"),l=J.useRef(null),c=J.useRef(0);return J.useEffect(()=>{const u=()=>{const p=window.scrollY;p>c.current?r("down"):r("up"),c.current=p},f=new IntersectionObserver(([p])=>{p.isIntersecting?e(!0):e(!1)},{threshold:a,rootMargin:"50px"});return window.addEventListener("scroll",u,{passive:!0}),l.current&&f.observe(l.current),()=>{window.removeEventListener("scroll",u),l.current&&f.unobserve(l.current)}},[a]),[l,t,s]}function Ds({children:a,className:t="",delay:e=0,animation:s="fadeInUp"}){const[r,l]=TD();return M.jsx("div",{ref:r,className:`${t} transition-all duration-700 ease-out ${l?`opacity-100 ${s==="fadeInUp"?"translate-y-0":s==="fadeInLeft"||s==="fadeInRight"?"translate-x-0":s==="scaleIn"?"scale-100":"translate-y-0"}`:`opacity-0 ${s==="fadeInUp"?"translate-y-16":s==="fadeInLeft"?"-translate-x-16":s==="fadeInRight"?"translate-x-16":s==="scaleIn"?"scale-90":"translate-y-16"}`}`,style:{transitionDelay:`${e}ms`},children:a})}function j_({children:a,className:t="",staggerDelay:e=100}){const[s,r]=TD();return M.jsx("div",{ref:s,className:t,children:tL.Children.map(a,(l,c)=>M.jsx("div",{className:`transition-all duration-700 ease-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${c*e}ms`},children:l}))})}function qB(){const[a,t]=J.useState({x:0,y:0}),[e,s]=J.useState([]);return J.useEffect(()=>{const r=Array.from({length:30},(f,p)=>({id:p,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*1.5+.5,speedX:(Math.random()-.5)*.3,speedY:(Math.random()-.5)*.3,opacity:Math.random()*.3+.1}));s(r);const l=f=>{t({x:f.clientX,y:f.clientY})},c=()=>{s(f=>f.map(p=>({...p,x:(p.x+p.speedX+window.innerWidth)%window.innerWidth,y:(p.y+p.speedY+window.innerHeight)%window.innerHeight})))};window.addEventListener("mousemove",l);const u=setInterval(c,100);return()=>{window.removeEventListener("mousemove",l),clearInterval(u)}},[]),M.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#111827] via-[#1a202c] to-[#111827]"}),M.jsx("div",{className:"absolute w-80 h-80 rounded-full opacity-5 transition-all duration-700 ease-out",style:{left:a.x-160,top:a.y-160,background:"radial-gradient(circle, rgba(156, 163, 175, 0.15) 0%, transparent 70%)"}}),e.map(r=>M.jsx("div",{className:"absolute w-1 h-1 bg-[#9ca3af] rounded-full",style:{left:r.x,top:r.y,opacity:r.opacity,transform:`scale(${r.size})`}},r.id)),M.jsx("div",{className:"absolute inset-0 opacity-8",children:M.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[M.jsxs("defs",{children:[M.jsxs("pattern",{id:"diagonalGrid",patternUnits:"userSpaceOnUse",width:"60",height:"60",patternTransform:"rotate(45)",children:[M.jsx("path",{d:"M 0,30 l 60,0",stroke:"rgba(156, 163, 175, 0.1)",strokeWidth:"0.5",className:"grid-line"}),M.jsx("path",{d:"M 30,0 l 0,60",stroke:"rgba(156, 163, 175, 0.1)",strokeWidth:"0.5",className:"grid-line"})]}),M.jsxs("pattern",{id:"diagonalGridHover",patternUnits:"userSpaceOnUse",width:"60",height:"60",patternTransform:"rotate(45)",children:[M.jsx("path",{d:"M 0,30 l 60,0",stroke:"rgba(156, 163, 175, 0.25)",strokeWidth:"1",className:"grid-line-hover"}),M.jsx("path",{d:"M 30,0 l 0,60",stroke:"rgba(156, 163, 175, 0.25)",strokeWidth:"1",className:"grid-line-hover"})]})]}),M.jsx("rect",{width:"100%",height:"100%",fill:"url(#diagonalGrid)",className:"grid-base"}),M.jsx("rect",{width:"100%",height:"100%",fill:"url(#diagonalGridHover)",className:"grid-hover opacity-0 transition-opacity duration-300",style:{maskImage:`radial-gradient(300px circle at ${a.x}px ${a.y}px, black 0%, transparent 70%)`,WebkitMaskImage:`radial-gradient(300px circle at ${a.x}px ${a.y}px, black 0%, transparent 70%)`}})]})}),M.jsx("style",{jsx:!0,children:`
          .grid-base:hover ~ .grid-hover {
            opacity: 1;
          }

          @media (hover: hover) {
            .grid-hover {
              opacity: 0;
            }

            body:hover .grid-hover {
              opacity: 1;
            }
          }
        `})]})}function XB(){return M.jsx("div",{className:"fixed inset-0 bg-[#111827] flex items-center justify-center z-50",children:M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("div",{className:"w-3 h-3 bg-[#9ca3af] rounded-full animate-bounce"}),M.jsx("div",{className:"w-3 h-3 bg-[#9ca3af] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),M.jsx("div",{className:"w-3 h-3 bg-[#9ca3af] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}function YB(){const[a,t]=J.useState(!1),[e,s]=J.useState("hero"),[r,l]=J.useState(!1);J.useEffect(()=>{const u=()=>{t(window.scrollY>100)},f=new IntersectionObserver(p=>{p.forEach(g=>{g.isIntersecting&&s(g.target.id)})},{threshold:.5});return window.addEventListener("scroll",u),document.querySelectorAll("section[id]").forEach(p=>f.observe(p)),()=>{window.removeEventListener("scroll",u),f.disconnect()}},[]);const c=(u,f)=>{var p;f.preventDefault(),(p=document.getElementById(u))==null||p.scrollIntoView({behavior:"smooth"}),l(!1)};return M.jsxs("nav",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 px-4 ${a?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,children:[M.jsxs("div",{className:"bg-[#111827]/90 backdrop-blur-md rounded-full px-3 sm:px-6 py-2 sm:py-3 border border-[#374151] shadow-2xl",children:[M.jsxs("div",{className:"hidden sm:flex items-center space-x-8",children:[M.jsx("button",{onClick:u=>c("hero",u),className:"text-[#f9fafb] font-bold text-lg hover:text-[#9ca3af] transition-colors",children:"Jermin"}),M.jsx("div",{className:"flex space-x-6",children:["experience","projects","certifications","contact"].map(u=>M.jsx("button",{onClick:f=>c(u,f),className:`px-3 py-1 rounded-full text-sm transition-all ${e===u?"bg-[#374151] text-[#f9fafb]":"text-[#9ca3af] hover:text-[#f9fafb] hover:bg-[#374151]/50"}`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]}),M.jsxs("div",{className:"sm:hidden flex items-center justify-between",children:[M.jsx("button",{onClick:u=>c("hero",u),className:"text-[#f9fafb] font-bold text-base hover:text-[#9ca3af] transition-colors",children:"Jermin"}),M.jsx("button",{onClick:()=>l(!r),className:"text-[#f9fafb] p-2 hover:text-[#9ca3af] transition-colors",children:M.jsx("i",{className:`fas ${r?"fa-times":"fa-bars"}`})})]})]}),r&&M.jsx("div",{className:"sm:hidden absolute top-full left-0 right-0 mt-2 bg-[#111827]/95 backdrop-blur-md rounded-xl border border-[#374151] shadow-2xl overflow-hidden",children:["experience","projects","certifications","contact"].map(u=>M.jsx("button",{onClick:f=>c(u,f),className:`w-full text-left px-4 py-3 transition-all border-b border-[#374151]/50 last:border-b-0 ${e===u?"bg-[#374151] text-[#f9fafb]":"text-[#9ca3af] hover:text-[#f9fafb] hover:bg-[#374151]/50"}`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]})}function KB(){const[a,t]=J.useState(!1),e=[{name:"Python",icon:"fab fa-python",color:"from-blue-400 to-yellow-400"},{name:"Java",icon:"fab fa-java",color:"from-red-500 to-orange-500"},{name:"HTML5/CSS3",icon:"fab fa-html5",color:"from-orange-500 to-red-500"},{name:"JavaScript",icon:"fab fa-js-square",color:"from-yellow-400 to-yellow-600"},{name:"React",icon:"fab fa-react",color:"from-cyan-400 to-blue-500"},{name:"Node.js",icon:"fab fa-node-js",color:"from-green-500 to-green-700"},{name:"Tailwind CSS",icon:"fas fa-wind",color:"from-cyan-400 to-teal-500"},{name:"PHP",icon:"fab fa-php",color:"from-indigo-500 to-purple-600"},{name:"SQL",icon:"fas fa-database",color:"from-gray-500 to-gray-700"},{name:"Git",icon:"fab fa-git-alt",color:"from-orange-600 to-red-600"},{name:"Wordpress",icon:"fab fa-wordpress",color:"from-blue-600 to-blue-800"},{name:"Drupal",icon:"fab fa-drupal",color:"from-green-600 to-green-800"}],s=u=>{var f;(f=document.getElementById(u))==null||f.scrollIntoView({behavior:"smooth"})},r=()=>{t(!0)},l=()=>{const u=document.createElement("a");u.href=Um,u.download="odcheo_resume.pdf",u.click()},c=()=>{window.open(Um,"_blank")};return M.jsxs("section",{id:"hero",className:"min-h-screen flex items-center justify-center relative overflow-hidden py-20",children:[M.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center max-w-7xl mx-auto",children:[M.jsxs(Ds,{animation:"fadeInLeft",className:"text-center lg:text-left space-y-8",children:[M.jsx(Ds,{delay:200,className:"flex justify-center lg:justify-start",children:M.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-full px-6 py-2 flex items-center space-x-2",children:[M.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-ping"}),M.jsx("span",{className:"text-green-400 font-medium text-sm",children:"Available for Employment"})]})}),M.jsx(Ds,{animation:"scaleIn",delay:400,className:"flex justify-center lg:justify-start",children:M.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-[#374151] to-[#6b7280] p-1 hover:scale-110 transition-transform duration-300",children:M.jsx("div",{className:"w-full h-full rounded-full bg-[#f9fafb] flex items-center justify-center",children:M.jsx("img",{src:Pj,alt:"Profile",className:"w-full h-full rounded-full object-cover"})})})}),M.jsxs(Ds,{delay:600,children:[M.jsx("h1",{className:"text-5xl lg:text-6xl font-bold text-[#f9fafb] mb-4",children:"Jermin Odcheo"}),M.jsx("p",{className:"text-2xl text-[#9ca3af] mb-4",children:"Full-Stack Developer"}),M.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-4 text-[#6b7280] mb-6",children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("i",{className:"fas fa-map-marker-alt"}),M.jsx("span",{children:"Philippines/Australia"})]}),M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("i",{className:"fas fa-graduation-cap"}),M.jsx("span",{children:"BSIT Graduate"})]})]})]}),M.jsxs(Ds,{delay:800,className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30",children:[M.jsxs("h3",{className:"text-[#f9fafb] font-semibold mb-3 flex items-center",children:[M.jsx("i",{className:"fas fa-user mr-2"}),"Professional Summary"]}),M.jsx("p",{className:"text-[#9ca3af] leading-relaxed",children:"I'm a full-stack developer skilled in modern web technologies and AI integration. I'm eager to build scalable web applications and contribute to innovative projects with a dynamic team."})]}),M.jsxs(Ds,{delay:1e3,className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[M.jsxs("button",{onClick:r,className:"flex items-center justify-center space-x-2 bg-[#9ca3af] hover:bg-[#f9fafb] text-[#111827] font-medium py-3 px-6 rounded-lg transition-all duration-300 hover:scale-105 shadow-lg",children:[M.jsx("i",{className:"fas fa-file-alt"}),M.jsx("span",{children:"View Resume"})]}),M.jsxs("button",{onClick:l,className:"flex items-center justify-center space-x-2 bg-[#374151] hover:bg-[#6b7280] text-[#f9fafb] font-medium py-3 px-6 rounded-lg transition-all duration-300 hover:scale-105 shadow-lg border border-[#6b7280]/30",children:[M.jsx("i",{className:"fas fa-download"}),M.jsx("span",{children:"Download Resume"})]})]}),M.jsx(Ds,{delay:1200,className:"flex justify-center lg:justify-start space-x-4",children:[{icon:"fab fa-github",href:"https://github.com/Jermin-Odcheo",label:"GitHub",color:"hover:bg-gray-700"},{icon:"fab fa-linkedin",href:"https://linkedin.com/in/jerminodcheo",label:"LinkedIn",color:"hover:bg-blue-600"},{icon:"fas fa-envelope",href:"mailto:jerminbodcheo@gmail.com",label:"Email",color:"hover:bg-red-600"}].map(({icon:u,href:f,label:p,color:g})=>M.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:`w-12 h-12 rounded-full bg-[#374151] ${g} text-[#f9fafb] flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg hover:shadow-xl border border-[#6b7280]/30`,"aria-label":p,children:M.jsx("i",{className:`${u} text-lg`})},p))})]}),M.jsxs(Ds,{animation:"fadeInRight",className:"space-y-8",children:[M.jsxs(Ds,{delay:300,className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30",children:[M.jsxs("h3",{className:"text-[#f9fafb] font-semibold mb-6 flex items-center text-lg",children:[M.jsx("i",{className:"fas fa-code mr-2"}),"Technical Skills"]}),M.jsx(j_,{className:"grid grid-cols-2 gap-3",children:e.map((u,f)=>M.jsxs("div",{className:"group flex items-center space-x-3 bg-[#111827]/30 rounded-lg px-3 py-2 hover:bg-[#6b7280]/30 transition-all duration-300",children:[M.jsx("div",{className:`w-6 h-6 rounded bg-gradient-to-r ${u.color} flex items-center justify-center flex-shrink-0`,children:M.jsx("i",{className:`${u.icon} text-white text-xs`})}),M.jsx("span",{className:"text-[#f9fafb] font-medium text-sm",children:u.name})]},u.name))})]}),M.jsxs(Ds,{delay:500,className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30",children:[M.jsxs("h3",{className:"text-[#f9fafb] font-semibold mb-4 flex items-center text-lg",children:[M.jsx("i",{className:"fas fa-graduation-cap mr-2"}),"Education"]}),M.jsx("div",{className:"space-y-4",children:M.jsxs("div",{className:"border-l-2 border-[#9ca3af]/30 pl-4",children:[M.jsx("h4",{className:"text-[#f9fafb] font-medium",children:"Bachelor of Science in Information Technology"}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Saint Louis University, Baguio City"}),M.jsx("p",{className:"text-[#6b7280] text-sm",children:"2021 - 2025"})]})})]}),M.jsxs(Ds,{delay:700,className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30",children:[M.jsxs("h3",{className:"text-[#f9fafb] font-semibold mb-4 flex items-center text-lg",children:[M.jsx("i",{className:"fas fa-trophy mr-2"}),"Key Achievements"]}),M.jsx(j_,{className:"space-y-3",children:["Developed AI chatbot with 72% accuracy rate","Led inventory management system development","Completed full-stack web development projects"].map((u,f)=>M.jsxs("div",{className:"flex items-start space-x-3",children:[M.jsx("i",{className:"fas fa-check-circle text-green-400 mt-1 text-sm"}),M.jsx("span",{className:"text-[#9ca3af] text-sm",children:u})]},f))})]})]})]}),M.jsx(Ds,{delay:1400,className:"absolute -bottom-24 left-1/2 transform -translate-x-1/2",children:M.jsx("button",{onClick:()=>s("experience"),className:"animate-bounce hover:animate-pulse transition-all duration-300 cursor-pointer group",children:M.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[M.jsx("span",{className:"text-[#9ca3af] text-sm group-hover:text-[#f9fafb] transition-colors",children:"Explore My Work"}),M.jsx("i",{className:"fas fa-chevron-down text-[#9ca3af] text-xl group-hover:text-[#f9fafb] transition-colors"})]})})})]}),a&&M.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-[#374151] rounded-xl max-w-6xl w-full max-h-[95vh] overflow-hidden border border-[#6b7280] shadow-2xl",children:[M.jsxs("div",{className:"p-4 sm:p-6 border-b border-[#6b7280] flex justify-between items-center bg-[#374151] z-10",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-[#f9fafb]",children:"Resume - Jermin Odcheo"}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Full-Stack Developer"})]}),M.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[M.jsxs("button",{onClick:c,className:"flex items-center space-x-1 sm:space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm",title:"Open in new tab",children:[M.jsx("i",{className:"fas fa-external-link-alt text-xs sm:text-sm"}),M.jsx("span",{className:"hidden sm:inline",children:"New Tab"})]}),M.jsxs("button",{onClick:l,className:"flex items-center space-x-1 sm:space-x-2 bg-[#9ca3af] hover:bg-[#f9fafb] text-[#111827] px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm",children:[M.jsx("i",{className:"fas fa-download text-xs sm:text-sm"}),M.jsx("span",{className:"hidden sm:inline",children:"Download"})]}),M.jsx("button",{onClick:()=>t(!1),className:"text-[#9ca3af] hover:text-[#f9fafb] text-xl sm:text-2xl p-2 rounded-lg hover:bg-[#6b7280]/30 transition-all",children:M.jsx("i",{className:"fas fa-times"})})]})]}),M.jsxs("div",{className:"relative w-full h-[calc(95vh-80px)] bg-[#f9fafb]",children:[M.jsx("embed",{src:`${Um}#toolbar=1&navpanes=1&scrollbar=1`,type:"application/pdf",className:"w-full h-full",onError:()=>{console.log("Embed failed, trying iframe fallback"),document.getElementById("resume-iframe-fallback").classList.remove("hidden")}}),M.jsx("iframe",{src:Um,className:"w-full h-full absolute top-0 left-0 hidden",id:"resume-iframe-fallback",title:"Resume PDF",onError:()=>{document.getElementById("resume-fallback-message").classList.remove("hidden")}}),M.jsx("div",{id:"resume-fallback-message",className:"hidden absolute inset-0 flex flex-col items-center justify-center p-8 text-center",children:M.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-md",children:[M.jsx("i",{className:"fas fa-file-pdf text-red-500 text-4xl mb-4"}),M.jsx("h4",{className:"text-[#111827] font-bold text-lg mb-2",children:"PDF Viewer Not Supported"}),M.jsx("p",{className:"text-[#6b7280] mb-4 text-sm",children:"Your browser doesn't support PDF viewing. Please use one of the options below:"}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs("button",{onClick:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[M.jsx("i",{className:"fas fa-external-link-alt"}),M.jsx("span",{children:"Open in New Tab"})]}),M.jsxs("button",{onClick:l,className:"w-full bg-[#9ca3af] hover:bg-[#6b7280] text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[M.jsx("i",{className:"fas fa-download"}),M.jsx("span",{children:"Download PDF"})]})]})]})})]})]})})]})}function $B(){const a=J.useRef(null),{scrollYProgress:t}=Qb({target:a,offset:["start 0.9","end 0.1"]}),e=is(t,[0,.1,.9,1],[0,1,1,0]),s=is(t,[0,.1,.9,1],[50,0,0,-50]),r=[{title:"Web Development Internship",organization:"TMDD SLU",period:"Jan 2025 - May 2025",description:"Led development of a comprehensive inventory management system using PHP, featuring role-based access control and modern UI components.",detailedTasks:[{category:"Database Architecture & Design",description:"Designed and implemented a comprehensive MySQL database schema for inventory and asset management, ensuring optimal data structure and relationships for scalable operations.",icon:"fas fa-database"},{category:"Security & Authentication",description:"Developed a robust role-based access control (RBAC) system with secure session-based authentication, input sanitization, and encrypted password hashing to ensure data security and user access management.",icon:"fas fa-shield-alt"},{category:"Frontend Development",description:"Built responsive interfaces using Bootstrap, JavaScript, and CSS, featuring dynamic data tables with pagination, interactive modals, and intuitive navigation components.",icon:"fas fa-laptop-code"},{category:"Backend Development",description:"Implemented server-side logic using PHP with comprehensive CRUD operations, data validation, and secure API endpoints for seamless data flow between frontend and database.",icon:"fas fa-server"},{category:"Real-time Table Updates",description:"Automatically refreshed table data after each SQL CRUD operation to show changes instantly.",icon:"fas fa-sync-alt"},{category:"Quality Assurance & Testing",description:"Conducted thorough testing of website performance, CRUD functionality, user interface elements, error handling, and data flow validation to ensure optimal system reliability.",icon:"fas fa-bug"},{category:"Advanced Integrations",description:"Implemented document generation capabilities using DomPDF and PHPOffice libraries, and managed dependencies with Composer for enhanced functionality.",icon:"fas fa-puzzle-piece"},{category:"Audit & Compliance",description:"Developed comprehensive logging systems to track all CRUD operations and data changes, ensuring full audit trails for inventory management compliance.",icon:"fas fa-clipboard-check"},{category:"UI/UX Enhancement",description:"Designed user-friendly interfaces with Font Awesome icons, consistent spacing, and intuitive placement of elements, resulting in improved user engagement and workflow efficiency.",icon:"fas fa-paint-brush"}],skills:["HTML","CSS","PHP","JavaScript","MySQL","Bootstrap"],icon:"fas fa-briefcase"},{title:"Capstone Research Project",organization:"SAMCIS, Saint Louis University",period:"Aug 2024 - Dec 2024",description:"Designed and implemented NaviBot, an AI-powered chatbot utilizing generative AI and BART models for academic assistance with 72% accuracy rate.",detailedTasks:[{category:"Data Engineering & Preprocessing",description:"Executed comprehensive data cleaning, processing, and augmentation workflows to prepare high-quality training datasets for machine learning model development.",icon:"fas fa-cogs"},{category:"Machine Learning Implementation",description:"Fine-tuned a BART (Bidirectional and Auto-Regressive Transformers) model using custom datasets, implementing transfer learning techniques to adapt the pre-trained model for domain-specific enrollment queries.",icon:"fas fa-brain"},{category:"Machine Learning Model Evaluation",description:"Implemented rigorous validation framework using industry-standard metrics: BERTScore for semantic similarity evaluation, BLEU Score for precision and quality assessment, and ROUGE Score for n-gram overlap measurement to ensure response accuracy and relevance.",icon:"fas fa-chart-line"}],skills:["AI","Python","NLP","BART","Machine Learning","Data Science"],icon:"fas fa-robot"},{title:"Self-Directed Learning",organization:"Professional Development",period:"2024 - Present",description:"Continuously expanding expertise in modern web development technologies through structured self-learning and project building.",skills:["React","Tailwind CSS","Vite","Git"],icon:"fas fa-code"}],l=({exp:u,index:f})=>{const p=J.useRef(null),{scrollYProgress:g}=Qb({target:p,offset:["start 0.9","end 0.1"]}),b=is(g,[0,.2,.8,1],[0,1,1,0]),v=is(g,[0,.2,.8,1],[-100,0,0,-50]),A=is(g,[0,.2,.8,1],[.9,1,1,.95]),S=is(g,[0,.5,1],[0,360,720]);return M.jsxs(ge.div,{ref:p,className:"relative flex items-start group",style:{opacity:b,x:v,scale:A},children:[M.jsx(ge.div,{className:"flex-shrink-0 w-16 h-16 bg-[#374151] rounded-full flex items-center justify-center relative z-10 border-4 border-[#111827] group-hover:bg-[#6b7280] transition-all duration-300 shadow-lg",style:{rotate:S},children:M.jsx("i",{className:`${u.icon} text-[#f9fafb] text-xl`})}),M.jsxs(ge.div,{className:"ml-8 bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30 flex-1 hover:border-[#9ca3af]/50 hover:bg-[#374151]/30 transition-all duration-300 hover:shadow-lg",children:[M.jsxs("div",{className:"flex justify-between items-start mb-4",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-bold text-[#f9fafb] group-hover:text-[#9ca3af] transition-colors",children:u.title}),M.jsx("p",{className:"text-[#9ca3af] font-medium",children:u.organization})]}),M.jsx("span",{className:"text-sm text-[#9ca3af] bg-[#111827]/50 px-3 py-1 rounded-full",children:u.period})]}),M.jsx("p",{className:"text-[#9ca3af] mb-4 whitespace-pre-line",children:u.description}),u.detailedTasks&&u.detailedTasks.length>0&&M.jsx("div",{className:"space-y-4 mb-4",children:u.detailedTasks.map((E,D)=>{const R=is(g,[0,.3+D*.05,.8,1],[0,1,1,0]),L=is(g,[0,.3+D*.05,.8,1],[0,0,0,-20]);return M.jsxs(ge.div,{className:"flex items-start space-x-3",style:{opacity:R,x:L},whileHover:{x:10,transition:{duration:.2}},children:[M.jsx(ge.i,{className:`${E.icon} text-[#9ca3af] mt-1 text-lg`,whileHover:{scale:1.2,color:"#f9fafb",transition:{duration:.2}}}),M.jsxs("div",{children:[M.jsx("span",{className:"text-[#f9fafb] font-medium text-sm",children:E.category}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:E.description})]})]},D)})}),M.jsx("div",{className:"flex flex-wrap gap-2",children:u.skills.map((E,D)=>{const R=is(g,[0,.5+D*.03,.8,1],[0,1,1,0]),L=is(g,[0,.5+D*.03,.8,1],[.8,1,1,.9]);return M.jsx(ge.span,{className:"px-3 py-1 bg-[#6b7280]/30 text-[#f9fafb] text-sm rounded-full border border-[#9ca3af]/20 hover:bg-[#6b7280]/50 transition-colors",style:{opacity:R,scale:L},whileHover:{scale:1.1,y:-2,boxShadow:"0 4px 8px rgba(0,0,0,0.2)",transition:{duration:.2}},children:E},E)})})]})]})},c=()=>{const u=J.useRef(null),{scrollYProgress:f}=Qb({target:u,offset:["start 0.9","end 0.2"]}),p=is(f,[0,1],["0%","100%"]);return M.jsx("div",{ref:u,className:"absolute left-8 top-0 bottom-0 w-0.5 bg-[#6b7280]/30",children:M.jsx(ge.div,{className:"w-full bg-gradient-to-b from-[#6b7280] via-[#9ca3af] to-[#6b7280]",style:{height:p}})})};return M.jsxs(ge.section,{ref:a,id:"experience",className:"py-20 relative",style:{opacity:e,y:s},children:[M.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#6b7280] to-transparent"}),M.jsxs("div",{className:"container mx-auto px-6 max-w-5xl",children:[M.jsx(ge.h2,{className:"text-4xl font-bold text-[#f9fafb] text-center mb-16",style:{opacity:is(t,[0,.2,.8,1],[0,1,1,0]),y:is(t,[0,.2,.8,1],[30,0,0,0])},children:"Experience"}),M.jsxs("div",{className:"relative",children:[M.jsx(c,{}),M.jsx("div",{className:"space-y-12",children:r.map((u,f)=>M.jsx(l,{exp:u,index:f},f))})]})]})]})}function WB(){const[a,t]=J.useState(null),[e,s]=J.useState(!1),[r,l]=J.useState(null),c=J.useRef(null),u=UA(c),f=[{id:"navibot",title:"NaviBot AI Chatbot",description:"AI-powered chatbot utilizing generative AI to handle enrollment-related FAQs with 72% accuracy rate.",technologies:["AI","Python","BART","NLP"],image:m_,screenshots:[{src:m_,title:"NaviBot Homepage"},{src:Lj,title:"Chat Interface 1"},{src:Oj,title:"Chat Interface 2"}],github:"https://github.com/Jermin-Odcheo/ChatbotNaviBot",category:"AI/ML"},{id:"inventory",title:"Inventory Management System",description:"Comprehensive inventory management system with role-based access control and real-time updates.",technologies:["PHP","JavaScript","MySQL","Bootstrap"],image:f_,screenshots:[{src:f_,title:"Dashboard Overview"},{src:Dj,title:"Login Interface"}],github:"https://github.com/Jermin-Odcheo/Inventory-Management-System-TMDD",category:"Web App"},{id:"anime",title:"Anime Fetch API",description:"Web application that fetches and displays anime data using external APIs with modern UI design.",technologies:["JavaScript","REST API","HTML/CSS"],image:p_,screenshots:[{src:p_,title:"Anime Homepage"},{src:Nj,title:"Manga Section"}],github:"https://github.com/JoefreyToriano/it312-9474-mt-teamburnersly/tree/main/activity_2_dom",category:"Web App"},{id:"crime pattern",title:"Crime Pattern Analysis",description:"Data mining project focused on identifying and analyzing crime patterns using clustering algorithms and visualization techniques.",technologies:["Python","Pandas","Scikit-learn"," Matplotlib","Mlxtend","Tkinter"],image:kj,screenshots:[],github:"https://github.com/Jermin-Odcheo/Team-Yor-OnTrack",category:"Data Mining"},{id:"wordy game",title:"Wordy Game",description:"Wordy is a Java word game where players use a given set of letters to form the longest valid word and win by scoring the highest.",technologies:["Java"],image:"",screenshots:[],github:"https://github.com/Jermin-Odcheo/WordyGame",category:"Game"}],p=()=>{s(!1),t(null),l(null)},g=b=>{l(b)};return M.jsxs(ge.section,{ref:c,id:"projects",className:"py-20 relative",initial:"hidden",animate:u?"visible":"hidden",variants:Xu,children:[M.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#6b7280] to-transparent"}),M.jsxs("div",{className:"container mx-auto px-6 max-w-6xl",children:[M.jsx(ge.h2,{className:"text-4xl font-bold text-[#f9fafb] text-center mb-16",variants:Id,children:"Featured Projects"}),M.jsx(ge.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",variants:Xu,children:f.map((b,v)=>M.jsx(ge.div,{className:"group h-full",variants:Id,custom:v,children:M.jsxs("div",{className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl overflow-hidden hover:bg-[#374151]/30 transition-all duration-300 border border-[#6b7280]/30 hover:shadow-2xl hover:scale-105 h-full flex flex-col",children:[M.jsxs("div",{className:"relative h-48 overflow-hidden flex-shrink-0",children:[b.image?M.jsxs(M.Fragment,{children:[M.jsx("img",{src:b.image,alt:b.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300 cursor-pointer",onClick:()=>g(b.image)}),M.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity duration-300",onClick:()=>g(b.image),children:M.jsx("i",{className:"fas fa-search-plus text-white text-2xl"})})]}):M.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-[#374151] to-[#6b7280] flex flex-col items-center justify-center text-center p-6 group-hover:from-[#6b7280] group-hover:to-[#9ca3af] transition-all duration-300",children:[M.jsx("div",{className:"bg-[#111827]/30 rounded-full p-4 mb-3 group-hover:bg-[#111827]/50 transition-all duration-300",children:M.jsx("i",{className:`fas ${b.category==="Game"?"fa-gamepad":b.category==="AI/ML"?"fa-brain":b.category==="Web App"?"fa-globe":b.category==="Data Mining"?"fa-chart-bar":"fa-code"} text-3xl text-[#f9fafb]`})}),M.jsx("h4",{className:"text-[#f9fafb] font-bold text-lg mb-1",children:b.title}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:b.category}),M.jsxs("div",{className:"absolute bottom-3 right-3 text-[#9ca3af]/50 text-xs",children:[M.jsx("i",{className:"fas fa-image"}),M.jsx("span",{className:"ml-1",children:"No preview"})]})]}),M.jsx("div",{className:"absolute top-4 left-4",children:M.jsx("span",{className:"bg-[#111827]/80 text-[#9ca3af] px-3 py-1 rounded-full text-sm",children:b.category})})]}),M.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[M.jsx("h3",{className:"text-xl font-bold text-[#f9fafb] mb-3 group-hover:text-[#9ca3af] transition-colors",children:b.title}),M.jsx("p",{className:"text-[#9ca3af] mb-4 text-sm flex-1",children:b.description}),M.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:b.technologies.map(A=>M.jsx("span",{className:"px-2 py-1 bg-[#6b7280]/30 text-[#f9fafb] text-xs rounded border border-[#9ca3af]/20 hover:bg-[#6b7280]/50 transition-colors",children:A},A))}),M.jsxs("div",{className:"flex gap-2",children:[b.details&&M.jsx("a",{href:b.details,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[#6b7280]/30 hover:bg-[#6b7280]/50 text-[#f9fafb] py-2 px-4 rounded-lg transition-all duration-300 border border-[#9ca3af]/20 hover:border-[#9ca3af]/40 hover:shadow-lg flex items-center justify-center text-sm sm:text-base gap-2",children:"View Details"}),b.github&&M.jsxs("a",{href:b.github,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[#6b7280]/30 hover:bg-[#6b7280]/50 text-[#f9fafb] py-2 px-4 rounded-lg transition-all duration-300 border border-[#9ca3af]/20 hover:border-[#9ca3af]/40 hover:shadow-lg flex items-center justify-center text-sm sm:text-base gap-2",children:[M.jsx("i",{className:"fab fa-github"}),M.jsx("span",{children:"View on GitHub"})]})]})]})]})},b.id))})]}),e&&a&&M.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-2 sm:p-4",children:M.jsxs("div",{className:"bg-[#374151] rounded-xl max-w-6xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-auto border border-[#6b7280] shadow-2xl",children:[M.jsxs("div",{className:"p-4 sm:p-6 border-b border-[#6b7280] flex justify-between items-center sticky top-0 bg-[#374151] z-10",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-[#f9fafb]",children:a.title}),M.jsx("p",{className:"text-[#9ca3af] text-xs sm:text-sm",children:a.category})]}),M.jsx("button",{onClick:p,className:"text-[#9ca3af] hover:text-[#f9fafb] text-xl sm:text-2xl p-2 rounded-lg hover:bg-[#6b7280]/30 transition-all",children:M.jsx("i",{className:"fas fa-times"})})]}),M.jsxs("div",{className:"p-4 sm:p-6",children:[M.jsx("p",{className:"text-[#9ca3af] mb-4 sm:mb-6 text-sm sm:text-base",children:a.description}),M.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.screenshots&&a.screenshots.map((b,v)=>M.jsxs("div",{className:"bg-[#111827]/50 rounded-lg p-3 sm:p-4 border border-[#6b7280]/30 hover:border-[#9ca3af]/50 transition-all duration-300",children:[M.jsx("h4",{className:"text-[#f9fafb] font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:b.title}),M.jsx("div",{className:"flex justify-center group cursor-pointer",onClick:()=>g(b.src),children:M.jsxs("div",{className:"relative",children:[M.jsx("img",{src:b.src,alt:b.title,className:"max-w-full max-h-64 sm:max-h-96 object-contain rounded-lg shadow-lg group-hover:scale-105 transition-transform duration-300"}),M.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity duration-300 rounded-lg",children:M.jsx("i",{className:"fas fa-expand text-white text-lg sm:text-xl"})})]})})]},v))}),M.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-[#6b7280]/30",children:[M.jsx("h4",{className:"text-[#f9fafb] font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Technologies Used:"}),M.jsx("div",{className:"flex flex-wrap gap-2",children:a.technologies.map(b=>M.jsx("span",{className:"px-2 sm:px-3 py-1 bg-[#6b7280]/30 text-[#f9fafb] text-xs sm:text-sm rounded-full border border-[#9ca3af]/20 hover:bg-[#6b7280]/50 transition-colors",children:b},b))})]})]})]})}),r&&M.jsx("div",{className:"fixed inset-0 bg-black/95 flex items-center justify-center z-60 p-4 overflow-auto",onClick:()=>l(null),children:M.jsxs("div",{className:"relative max-w-[90%] max-h-[90vh]",children:[M.jsx("img",{src:r,alt:"Zoomed view",className:"max-w-full max-h-[85vh] object-contain mx-auto"}),M.jsx("button",{onClick:b=>{b.stopPropagation(),l(null)},className:"absolute top-4 right-4 text-white bg-black/50 rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/70 transition-colors",children:M.jsx("i",{className:"fas fa-times"})})]})})]})}function QB(){const a=J.useRef(null),t=UA(a),[e,s]=J.useState(null);J.useEffect(()=>{try{P_.workerPort||(P_.workerPort=new HB)}catch(p){console.warn("PDF.js worker setup failed, using placeholders if needed.",p)}},[]);const r=(p,g,b,v)=>{const A=document.createElement("canvas");A.width=640,A.height=400;const S=A.getContext("2d"),E=S.createLinearGradient(0,0,A.width,A.height);E.addColorStop(0,"#374151"),E.addColorStop(1,"#6b7280"),S.fillStyle=E,S.fillRect(0,0,A.width,A.height);const D=S.createLinearGradient(0,0,A.width,0);return D.addColorStop(0,b),D.addColorStop(1,v),S.fillStyle=D,S.fillRect(0,0,A.width,10),S.fillStyle="#f9fafb",S.font="bold 32px Arial",S.textAlign="center",S.fillText(p,A.width/2,190),S.font="20px Arial",S.fillStyle="#d1d5db",S.fillText(g,A.width/2,230),S.strokeStyle="rgba(156, 163, 175, 0.35)",S.lineWidth=4,S.strokeRect(16,16,A.width-32,A.height-32),A.toDataURL("image/png")},l=async(p,g=1.2)=>{const A=await(await zB(p).promise).getPage(1),S=A.getViewport({scale:g}),E=document.createElement("canvas"),D=E.getContext("2d");E.width=Math.ceil(S.width),E.height=Math.ceil(S.height),await A.render({canvasContext:D,viewport:S}).promise;const R=E.toDataURL("image/png");return E.width=0,E.height=0,R},c=[{id:"udemy-ai",platform:"Udemy",title:"AI",file:Bj,icon:"fas fa-brain",tag:"Artificial Intelligence",colors:["#a855f7","#6366f1"],description:"Udemy completion certificate for foundational AI concepts and practical applications."},{id:"udemy-python",platform:"Udemy",title:"Python",file:Fj,icon:"fab fa-python",tag:"Programming",colors:["#f59e0b","#f97316"],description:"Udemy completion certificate covering Python fundamentals and real-world exercises."},{id:"udemy-web",platform:"Udemy",title:"Web Development",file:zj,icon:"fas fa-code",tag:"Frontend/Backend",colors:["#3b82f6","#06b6d4"],description:"Udemy completion certificate for modern frontend and backend web development."},{id:"htb-eldoria",platform:"HackTheBox",title:"Tales of Eldoria",file:jj,icon:"fas fa-shield-alt",tag:"Cybersecurity",colors:["#10b981","#059669"],description:"HackTheBox certificate for completing the Tales of Eldoria challenge series."},{id:"thm-hackfinity",platform:"TryHackMe",title:"Hackfinity",file:Ij,icon:"fas fa-lock",tag:"Cybersecurity",colors:["#ef4444","#ec4899"],description:"TryHackMe certificate for participating in the Hackfinity challenge event."}],[u,f]=J.useState(()=>c.map(p=>({...p,preview:r(p.title,p.platform,p.colors[0],p.colors[1]),full:null,tags:[p.platform,p.tag]})));return J.useEffect(()=>{let p=!1;return(async()=>{try{const g=await Promise.allSettled(c.map(async b=>{const v=await l(b.file,.9),A=await l(b.file,1.8);return{id:b.id,preview:v,full:A}}));if(p)return;f(b=>b.map(v=>{const A=g.find(S=>S.status==="fulfilled"&&S.value.id===v.id);return A?{...v,preview:A.value.preview,full:A.value.full}:v}))}catch(g){console.warn("PDF rendering failed, using placeholders.",g)}})(),()=>{p=!0}},[]),M.jsxs(ge.section,{ref:a,id:"certifications",className:"py-20 relative",initial:"hidden",animate:t?"visible":"hidden",variants:Xu,children:[M.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#6b7280] to-transparent"}),M.jsxs("div",{className:"container mx-auto px-6 max-w-6xl",children:[M.jsx(ge.h2,{className:"text-4xl font-bold text-[#f9fafb] text-center mb-16",variants:Id,children:"Certifications"}),M.jsx(ge.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",variants:Xu,children:u.map((p,g)=>M.jsx(ge.div,{className:"group h-full",variants:Id,custom:g,children:M.jsxs("div",{className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl overflow-hidden border border-[#6b7280]/30 hover:border-[#9ca3af]/50 hover:bg-[#374151]/30 transition-all duration-300 h-full flex flex-col",children:[M.jsxs("div",{className:"relative h-40 sm:h-48 overflow-hidden cursor-pointer",onClick:()=>s(p),children:[M.jsx("img",{src:p.preview,alt:`${p.platform} - ${p.title}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),M.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:M.jsx("i",{className:"fas fa-expand text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),M.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[M.jsxs("div",{className:"flex items-center mb-3",children:[M.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br flex items-center justify-center shadow-sm",style:{backgroundImage:`linear-gradient(135deg, ${p.colors[0]}, ${p.colors[1]})`},"aria-hidden":"true",children:M.jsx("i",{className:`${p.icon} text-white text-base`})}),M.jsxs("div",{className:"ml-3",children:[M.jsx("h3",{className:"text-lg font-bold text-[#f9fafb] leading-tight",children:p.title}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:p.platform})]})]}),M.jsx("p",{className:"text-[#9ca3af] text-sm flex-1",children:p.description}),M.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:p.tags.map(b=>M.jsx("span",{className:"px-2 py-1 bg-[#6b7280]/30 text-[#f9fafb] text-xs rounded border border-[#9ca3af]/20",children:b},b))})]})]})},p.id))})]}),e&&M.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-60 p-4",onClick:()=>s(null),children:M.jsxs("div",{className:"bg-[#1f2937] border border-[#4b5563] rounded-xl w-full max-w-3xl max-h-[80vh] overflow-hidden shadow-2xl",onClick:p=>p.stopPropagation(),children:[M.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[#374151] bg-[#111827]",children:[M.jsxs("div",{children:[M.jsx("h4",{className:"text-[#f9fafb] font-semibold",children:e.title}),M.jsx("p",{className:"text-[#9ca3af] text-xs",children:e.platform})]}),M.jsx("button",{onClick:()=>s(null),className:"text-[#9ca3af] hover:text-[#f9fafb] p-2 rounded-lg hover:bg-[#374151]/50 transition-colors","aria-label":"Close preview",children:M.jsx("i",{className:"fas fa-times"})})]}),M.jsx("div",{className:"bg-[#111827] flex items-center justify-center p-3",children:M.jsx("img",{src:e.full||e.preview,alt:`${e.platform} - ${e.title} preview`,className:"max-w-full max-h-[70vh] object-contain rounded"})})]})})]})}function ZB(){const[a,t]=J.useState({name:"",email:"",message:"",honeypot:""}),[e,s]=J.useState({}),[r,l]=J.useState(!1),[c,u]=J.useState(""),[f,p]=J.useState(0),g=J.useRef(null),b=UA(g);J.useEffect(()=>{XE.init(Om.PUBLIC_KEY),v()},[]),J.useEffect(()=>{let N;return f>0&&(N=setInterval(()=>{p(j=>j<=1?(clearInterval(N),0):j-1)},1e3)),()=>clearInterval(N)},[f]);const v=()=>{const N=localStorage.getItem("lastEmailSubmission");if(N){const j=Date.now(),P=1*60*1e3,U=j-parseInt(N);if(U<P){const q=Math.ceil((P-U)/1e3);p(q)}}},A=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,S=()=>{const N={};return a.honeypot?!1:(a.name.trim()?a.name.trim().length<2?N.name="Name must be at least 2 characters":a.name.trim().length>50&&(N.name="Name must be less than 50 characters"):N.name="Name is required",a.email.trim()?A.test(a.email.trim())?a.email.trim().length>100&&(N.email="Email must be less than 100 characters"):N.email="Please enter a valid email address":N.email="Email is required",a.message.trim()?a.message.trim().length<10?N.message="Message must be at least 10 characters":a.message.trim().length>1e3&&(N.message="Message must be less than 1000 characters"):N.message="Message is required",s(N),Object.keys(N).length===0)},E=N=>{const{name:j,value:P}=N.target;t(U=>({...U,[j]:P})),e[j]&&s(U=>({...U,[j]:""}))},D=N=>{const j=Math.floor(N/60),P=N%60;return`${j}:${P.toString().padStart(2,"0")}`},R=async N=>{if(N.preventDefault(),f>0){u("cooldown");return}if(!S())return a.honeypot,void 0;l(!0),u("");try{const j=localStorage.getItem("lastEmailSubmission"),P=Date.now(),U=1*60*1e3;if(j&&P-parseInt(j)<U){const tt=Math.ceil((U-(P-parseInt(j)))/1e3);throw p(tt),new Error(`Please wait ${D(tt)} before sending another message.`)}const q={name:a.name.trim(),email:a.email.trim(),time:new Date().toLocaleString(),message:a.message.trim()},$=await XE.send(Om.SERVICE_ID,Om.TEMPLATE_ID,q,Om.PUBLIC_KEY);console.log("Email sent successfully:",$.text),u("success"),t({name:"",email:"",message:"",honeypot:""}),localStorage.setItem("lastEmailSubmission",P.toString()),p(60)}catch(j){console.error("Error sending email:",j),j.message.includes("Please wait")?u("cooldown"):u("error")}finally{l(!1)}},L=r||f>0;return M.jsxs(ge.section,{ref:g,id:"contact",className:"py-20 relative",initial:"hidden",animate:b?"visible":"hidden",variants:Xu,children:[M.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#6b7280] to-transparent"}),M.jsxs("div",{className:"container mx-auto px-6 max-w-6xl",children:[M.jsxs(ge.div,{className:"text-center mb-16",variants:Id,children:[M.jsx("h2",{className:"text-4xl font-bold text-[#f9fafb] mb-8",children:"Let's Connect"}),M.jsx("p",{className:"text-[#9ca3af] text-lg mb-12",children:"I'm actively seeking new opportunities and exciting projects to contribute to."})]}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[M.jsxs(ge.div,{className:"space-y-8",variants:VB,children:[M.jsx("h3",{className:"text-2xl font-semibold text-[#f9fafb] mb-6",children:"Get in Touch"}),M.jsx(ge.div,{className:"grid grid-cols-1 md:grid-cols-1 gap-6",variants:Xu,children:[{href:"mailto:jerminbodcheo@gmail.com",icon:"fas fa-envelope",title:"Email",description:"jerminbodcheo@gmail.com"},{href:"https://linkedin.com/in/jerminodcheo",icon:"fab fa-linkedin",title:"LinkedIn",description:"Connect with me",target:"_blank"},{href:"https://github.com/Jermin-Odcheo",icon:"fab fa-github",title:"GitHub",description:"View my code",target:"_blank"}].map((N,j)=>M.jsxs(ge.a,{href:N.href,target:N.target,rel:N.target?"noopener noreferrer":void 0,className:"group bg-[#374151]/20 backdrop-blur-sm p-6 rounded-xl hover:bg-[#374151]/30 transition-all border border-[#6b7280]/30 hover:border-[#9ca3af]/50 hover:shadow-xl hover:scale-105 duration-300",variants:GB,custom:j,children:[M.jsx("i",{className:`${N.icon} text-3xl text-[#9ca3af] mb-4 group-hover:text-[#f9fafb] transition-colors`}),M.jsx("h4",{className:"font-semibold text-[#f9fafb] mb-2",children:N.title}),M.jsx("p",{className:"text-[#9ca3af] group-hover:text-[#f9fafb] transition-colors",children:N.description})]},N.title))})]}),M.jsxs(ge.div,{className:"bg-[#374151]/20 backdrop-blur-sm p-8 rounded-xl border border-[#6b7280]/30",variants:UB,children:[M.jsx("h3",{className:"text-2xl font-semibold text-[#f9fafb] mb-6",children:"Send Message"}),f>0&&M.jsxs("div",{className:"mb-6 p-4 bg-yellow-500/20 border border-yellow-500/50 rounded-lg",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx("i",{className:"fas fa-clock text-yellow-400 mr-2"}),M.jsx("span",{className:"text-yellow-400 font-medium",children:"Rate limit active"})]}),M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("span",{className:"text-yellow-400 text-sm",children:"Next submission in:"}),M.jsx("span",{className:"text-yellow-400 font-mono text-lg bg-yellow-500/20 px-2 py-1 rounded",children:D(f)})]})]}),M.jsx("p",{className:"text-yellow-300 text-sm mt-2",children:"To prevent spam, you can send one message per minute."})]}),M.jsxs("form",{onSubmit:R,className:"space-y-6",children:[M.jsx("input",{type:"text",name:"honeypot",value:a.honeypot,onChange:E,style:{display:"none"},tabIndex:"-1",autoComplete:"off"}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"name",className:"block text-[#f9fafb] font-medium mb-2",children:"Name *"}),M.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:E,maxLength:"50",className:`w-full px-4 py-3 bg-[#111827] border rounded-lg text-[#f9fafb] placeholder-[#9ca3af] focus:outline-none focus:ring-2 transition-all ${e.name?"border-red-500 focus:ring-red-500":L?"border-[#4b5563] bg-[#1f2937]":"border-[#6b7280] focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Your full name",disabled:L}),e.name&&M.jsx("p",{className:"text-red-400 textsm mt-1",children:e.name})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",className:"block text-[#f9fafb] font-medium mb-2",children:"Email *"}),M.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:E,maxLength:"100",className:`w-full px-4 py-3 bg-[#111827] border rounded-lg text-[#f9fafb] placeholder-[#9ca3af] focus:outline-none focus:ring-2 transition-all ${e.email?"border-red-500 focus:ring-red-500":L?"border-[#4b5563] bg-[#1f2937]":"border-[#6b7280] focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"your.email@example.com",disabled:L}),e.email&&M.jsx("p",{className:"text-red-400 text-sm mt-1",children:e.email})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"message",className:"block text-[#f9fafb] font-medium mb-2",children:"Message *"}),M.jsx("textarea",{id:"message",name:"message",rows:"5",value:a.message,onChange:E,maxLength:"1000",className:`w-full px-4 py-3 bg-[#111827] border rounded-lg text-[#f9fafb] placeholder-[#9ca3af] focus:outline-none focus:ring-2 transition-all resize-vertical ${e.message?"border-red-500 focus:ring-red-500":L?"border-[#4b5563] bg-[#1f2937]":"border-[#6b7280] focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Tell me about your project, job opportunity, or just say hello...",disabled:L}),e.message&&M.jsx("p",{className:"text-red-400 text-sm mt-1",children:e.message}),M.jsxs("p",{className:"text-xs text-[#6b7280] mt-1",children:[a.message.length,"/1000 characters"]})]}),M.jsx("button",{type:"submit",disabled:L,className:`w-full py-3 px-6 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 ${L?"bg-[#6b7280] cursor-not-allowed opacity-50":"bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-500/50"} text-white`,children:r?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),M.jsx("span",{children:"Sending..."})]}):f>0?M.jsxs(M.Fragment,{children:[M.jsx("i",{className:"fas fa-clock"}),M.jsxs("span",{children:["Wait ",D(f)]})]}):M.jsxs(M.Fragment,{children:[M.jsx("i",{className:"fas fa-paper-plane"}),M.jsx("span",{children:"Send Message"})]})}),c==="success"&&M.jsx("div",{className:"p-4 bg-green-500/20 border border-green-500/50 rounded-lg",children:M.jsxs("p",{className:"text-green-400 text-center",children:[M.jsx("i",{className:"fas fa-check-circle mr-2"}),"Message sent successfully! I'll get back to you soon."]})}),c==="cooldown"&&M.jsx("div",{className:"p-4 bg-yellow-500/20 border border-yellow-500/50 rounded-lg",children:M.jsxs("p",{className:"text-yellow-400 text-center",children:[M.jsx("i",{className:"fas fa-hourglass-half mr-2"}),"Please wait before sending another message."]})}),c==="error"&&M.jsx("div",{className:"p-4 bg-red-500/20 border border-red-500/50 rounded-lg",children:M.jsxs("p",{className:"text-red-400 text-center",children:[M.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),"There was an error sending your message. Please try again or email me directly."]})})]})]})]})]})]})}function JB(){return M.jsx("footer",{className:"py-8 relative border-t border-[#6b7280]/30",children:M.jsx("div",{className:"container mx-auto px-6 text-center",children:M.jsx("p",{className:"text-[#9ca3af]",children:"© 2025 Jermin Odcheo. All rights reserved."})})})}function tF(){const[a,t]=J.useState(!0);return J.useEffect(()=>{const e=setTimeout(()=>t(!1),1500);return()=>clearTimeout(e)},[]),a?M.jsx(XB,{}):M.jsxs(J.StrictMode,{children:[M.jsxs("div",{className:"min-h-screen relative",children:[M.jsx(qB,{}),M.jsxs("div",{className:"relative z-10",children:[M.jsx(YB,{}),M.jsx(KB,{}),M.jsx($B,{}),M.jsx(WB,{}),M.jsx(QB,{}),M.jsx(ZB,{}),M.jsx(JB,{})]})]}),M.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-in {
          animation: fadeIn 1s ease-out;
        }
      `})]})}const eF=oL.createRoot(document.getElementById("root"));eF.render(M.jsx(tF,{}));
