var AN=Object.defineProperty;var yT=r=>{throw TypeError(r)};var xN=(r,t,e)=>t in r?AN(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var gt=(r,t,e)=>xN(r,typeof t!="symbol"?t+"":t,e),xb=(r,t,e)=>t.has(r)||yT("Cannot "+e);var d=(r,t,e)=>(xb(r,t,"read from private field"),e?e.call(r):t.get(r)),E=(r,t,e)=>t.has(r)?yT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),x=(r,t,e,s)=>(xb(r,t,"write to private field"),s?s.call(r,e):t.set(r,e),e),_=(r,t,e)=>(xb(r,t,"access private method"),e);var wi=(r,t,e,s)=>({set _(a){x(r,t,a,e)},get _(){return d(r,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function SN(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sb={exports:{}},qh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function wN(){if(bT)return qh;bT=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:l}}return qh.Fragment=t,qh.jsx=e,qh.jsxs=e,qh}var vT;function TN(){return vT||(vT=1,Sb.exports=wN()),Sb.exports}var M=TN(),wb={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function EN(){if(AT)return _t;AT=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function D(k,W,J){this.props=k,this.context=W,this.refs=T,this.updater=J||A}D.prototype.isReactComponent={},D.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},D.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=D.prototype;function L(k,W,J){this.props=k,this.context=W,this.refs=T,this.updater=J||A}var N=L.prototype=new R;N.constructor=L,S(N,D.prototype),N.isPureReactComponent=!0;var j=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function q(k,W,J,Z,ht,Nt){return J=Nt.ref,{$$typeof:r,type:k,key:W,ref:J!==void 0?J:null,props:Nt}}function $(k,W){return q(k.type,W,void 0,void 0,void 0,k.props)}function tt(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function ft(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(J){return W[J]})}var ot=/\/+/g;function St(k,W){return typeof k=="object"&&k!==null&&k.key!=null?ft(""+k.key):W.toString(36)}function Gt(){}function Et(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Gt,Gt):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function zt(k,W,J,Z,ht){var Nt=typeof k;(Nt==="undefined"||Nt==="boolean")&&(k=null);var ct=!1;if(k===null)ct=!0;else switch(Nt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(k.$$typeof){case r:case t:ct=!0;break;case g:return ct=k._init,zt(ct(k._payload),W,J,Z,ht)}}if(ct)return ht=ht(k),ct=Z===""?"."+St(k,0):Z,j(ht)?(J="",ct!=null&&(J=ct.replace(ot,"$&/")+"/"),zt(ht,W,J,"",function(Vs){return Vs})):ht!=null&&(tt(ht)&&(ht=$(ht,J+(ht.key==null||k&&k.key===ht.key?"":(""+ht.key).replace(ot,"$&/")+"/")+ct)),W.push(ht)),1;ct=0;var Lt=Z===""?".":Z+":";if(j(k))for(var qt=0;qt<k.length;qt++)Z=k[qt],Nt=Lt+St(Z,qt),ct+=zt(Z,W,J,Nt,ht);else if(qt=v(k),typeof qt=="function")for(k=qt.call(k),qt=0;!(Z=k.next()).done;)Z=Z.value,Nt=Lt+St(Z,qt++),ct+=zt(Z,W,J,Nt,ht);else if(Nt==="object"){if(typeof k.then=="function")return zt(Et(k),W,J,Z,ht);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ct}function B(k,W,J){if(k==null)return k;var Z=[],ht=0;return zt(k,Z,"","",function(Nt){return W.call(J,Nt,ht++)}),Z}function X(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(J){(k._status===0||k._status===-1)&&(k._status=1,k._result=J)},function(J){(k._status===0||k._status===-1)&&(k._status=2,k._result=J)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var st=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function wt(){}return _t.Children={map:B,forEach:function(k,W,J){B(k,function(){W.apply(this,arguments)},J)},count:function(k){var W=0;return B(k,function(){W++}),W},toArray:function(k){return B(k,function(W){return W})||[]},only:function(k){if(!tt(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},_t.Component=D,_t.Fragment=e,_t.Profiler=a,_t.PureComponent=L,_t.StrictMode=s,_t.Suspense=f,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,_t.__COMPILER_RUNTIME={__proto__:null,c:function(k){return P.H.useMemoCache(k)}},_t.cache=function(k){return function(){return k.apply(null,arguments)}},_t.cloneElement=function(k,W,J){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Z=S({},k.props),ht=k.key,Nt=void 0;if(W!=null)for(ct in W.ref!==void 0&&(Nt=void 0),W.key!==void 0&&(ht=""+W.key),W)!U.call(W,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&W.ref===void 0||(Z[ct]=W[ct]);var ct=arguments.length-2;if(ct===1)Z.children=J;else if(1<ct){for(var Lt=Array(ct),qt=0;qt<ct;qt++)Lt[qt]=arguments[qt+2];Z.children=Lt}return q(k.type,ht,void 0,void 0,Nt,Z)},_t.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},_t.createElement=function(k,W,J){var Z,ht={},Nt=null;if(W!=null)for(Z in W.key!==void 0&&(Nt=""+W.key),W)U.call(W,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ht[Z]=W[Z]);var ct=arguments.length-2;if(ct===1)ht.children=J;else if(1<ct){for(var Lt=Array(ct),qt=0;qt<ct;qt++)Lt[qt]=arguments[qt+2];ht.children=Lt}if(k&&k.defaultProps)for(Z in ct=k.defaultProps,ct)ht[Z]===void 0&&(ht[Z]=ct[Z]);return q(k,Nt,void 0,void 0,null,ht)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(k){return{$$typeof:h,render:k}},_t.isValidElement=tt,_t.lazy=function(k){return{$$typeof:g,_payload:{_status:-1,_result:k},_init:X}},_t.memo=function(k,W){return{$$typeof:p,type:k,compare:W===void 0?null:W}},_t.startTransition=function(k){var W=P.T,J={};P.T=J;try{var Z=k(),ht=P.S;ht!==null&&ht(J,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(wt,st)}catch(Nt){st(Nt)}finally{P.T=W}},_t.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},_t.use=function(k){return P.H.use(k)},_t.useActionState=function(k,W,J){return P.H.useActionState(k,W,J)},_t.useCallback=function(k,W){return P.H.useCallback(k,W)},_t.useContext=function(k){return P.H.useContext(k)},_t.useDebugValue=function(){},_t.useDeferredValue=function(k,W){return P.H.useDeferredValue(k,W)},_t.useEffect=function(k,W,J){var Z=P.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(k,W)},_t.useId=function(){return P.H.useId()},_t.useImperativeHandle=function(k,W,J){return P.H.useImperativeHandle(k,W,J)},_t.useInsertionEffect=function(k,W){return P.H.useInsertionEffect(k,W)},_t.useLayoutEffect=function(k,W){return P.H.useLayoutEffect(k,W)},_t.useMemo=function(k,W){return P.H.useMemo(k,W)},_t.useOptimistic=function(k,W){return P.H.useOptimistic(k,W)},_t.useReducer=function(k,W,J){return P.H.useReducer(k,W,J)},_t.useRef=function(k){return P.H.useRef(k)},_t.useState=function(k){return P.H.useState(k)},_t.useSyncExternalStore=function(k,W,J){return P.H.useSyncExternalStore(k,W,J)},_t.useTransition=function(){return P.H.useTransition()},_t.version="19.1.0",_t}var xT;function RA(){return xT||(xT=1,wb.exports=EN()),wb.exports}var et=RA();const _N=SN(et);var Tb={exports:{}},Xh={},Eb={exports:{}},_b={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function CN(){return ST||(ST=1,function(r){function t(B,X){var st=B.length;B.push(X);t:for(;0<st;){var wt=st-1>>>1,k=B[wt];if(0<a(k,X))B[wt]=X,B[st]=k,st=wt;else break t}}function e(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var X=B[0],st=B.pop();if(st!==X){B[0]=st;t:for(var wt=0,k=B.length,W=k>>>1;wt<W;){var J=2*(wt+1)-1,Z=B[J],ht=J+1,Nt=B[ht];if(0>a(Z,st))ht<k&&0>a(Nt,Z)?(B[wt]=Nt,B[ht]=st,wt=ht):(B[wt]=Z,B[J]=st,wt=J);else if(ht<k&&0>a(Nt,st))B[wt]=Nt,B[ht]=st,wt=ht;else break t}}return X}function a(B,X){var st=B.sortIndex-X.sortIndex;return st!==0?st:B.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var f=[],p=[],g=1,b=null,v=3,A=!1,S=!1,T=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function j(B){for(var X=e(p);X!==null;){if(X.callback===null)s(p);else if(X.startTime<=B)s(p),X.sortIndex=X.expirationTime,t(f,X);else break;X=e(p)}}function P(B){if(T=!1,j(B),!S)if(e(f)!==null)S=!0,U||(U=!0,St());else{var X=e(p);X!==null&&zt(P,X.startTime-B)}}var U=!1,q=-1,$=5,tt=-1;function ft(){return D?!0:!(r.unstable_now()-tt<$)}function ot(){if(D=!1,U){var B=r.unstable_now();tt=B;var X=!0;try{t:{S=!1,T&&(T=!1,L(q),q=-1),A=!0;var st=v;try{e:{for(j(B),b=e(f);b!==null&&!(b.expirationTime>B&&ft());){var wt=b.callback;if(typeof wt=="function"){b.callback=null,v=b.priorityLevel;var k=wt(b.expirationTime<=B);if(B=r.unstable_now(),typeof k=="function"){b.callback=k,j(B),X=!0;break e}b===e(f)&&s(f),j(B)}else s(f);b=e(f)}if(b!==null)X=!0;else{var W=e(p);W!==null&&zt(P,W.startTime-B),X=!1}}break t}finally{b=null,v=st,A=!1}X=void 0}}finally{X?St():U=!1}}}var St;if(typeof N=="function")St=function(){N(ot)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,Et=Gt.port2;Gt.port1.onmessage=ot,St=function(){Et.postMessage(null)}}else St=function(){R(ot,0)};function zt(B,X){q=R(function(){B(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(B){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var st=v;v=X;try{return B()}finally{v=st}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var st=v;v=B;try{return X()}finally{v=st}},r.unstable_scheduleCallback=function(B,X,st){var wt=r.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?wt+st:wt):st=wt,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=st+k,B={id:g++,callback:X,priorityLevel:B,startTime:st,expirationTime:k,sortIndex:-1},st>wt?(B.sortIndex=st,t(p,B),e(f)===null&&B===e(p)&&(T?(L(q),q=-1):T=!0,zt(P,st-wt))):(B.sortIndex=k,t(f,B),S||A||(S=!0,U||(U=!0,St()))),B},r.unstable_shouldYield=ft,r.unstable_wrapCallback=function(B){var X=v;return function(){var st=v;v=X;try{return B.apply(this,arguments)}finally{v=st}}}}(_b)),_b}var wT;function MN(){return wT||(wT=1,Eb.exports=CN()),Eb.exports}var Cb={exports:{}},hi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function RN(){if(TT)return hi;TT=1;var r=RA();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:g}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hi.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,g)},hi.flushSync=function(f){var p=c.T,g=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=p,s.p=g,s.d.f()}},hi.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},hi.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},hi.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,b=h(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:A}):g==="script"&&s.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hi.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},hi.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,b=h(g,p.crossOrigin);s.d.L(f,g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hi.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=h(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},hi.requestFormReset=function(f){s.d.r(f)},hi.unstable_batchedUpdates=function(f,p){return f(p)},hi.useFormState=function(f,p,g){return c.H.useFormState(f,p,g)},hi.useFormStatus=function(){return c.H.useHostTransitionStatus()},hi.version="19.1.0",hi}var ET;function DN(){if(ET)return Cb.exports;ET=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cb.exports=RN(),Cb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function NN(){if(_T)return Xh;_T=1;var r=MN(),t=RA(),e=DN();function s(i){var n="https://react.dev/errors/"+i;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var n=i,o=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,(n.flags&4098)!==0&&(o=n.return),i=n.return;while(i)}return n.tag===3?o:null}function c(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(s(188))}function f(i){var n=i.alternate;if(!n){if(n=l(i),n===null)throw Error(s(188));return n!==i?null:i}for(var o=i,u=n;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return h(m),i;if(y===u)return h(m),n;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=y;else{for(var w=!1,C=m.child;C;){if(C===o){w=!0,o=m,u=y;break}if(C===u){w=!0,u=m,o=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===o){w=!0,o=y,u=m;break}if(C===u){w=!0,u=y,o=m;break}C=C.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:n}function p(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i;for(i=i.child;i!==null;){if(n=p(i),n!==null)return n;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),ft=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function St(i){return i===null||typeof i!="object"?null:(i=ot&&i[ot]||i["@@iterator"],typeof i=="function"?i:null)}var Gt=Symbol.for("react.client.reference");function Et(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Gt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case D:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case U:return"SuspenseList";case tt:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case N:return(i.displayName||"Context")+".Provider";case L:return(i._context.displayName||"Context")+".Consumer";case j:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return n=i.displayName||null,n!==null?n:Et(i.type)||"Memo";case $:n=i._payload,i=i._init;try{return Et(i(n))}catch{}}return null}var zt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},wt=[],k=-1;function W(i){return{current:i}}function J(i){0>k||(i.current=wt[k],wt[k]=null,k--)}function Z(i,n){k++,wt[k]=i.current,i.current=n}var ht=W(null),Nt=W(null),ct=W(null),Lt=W(null);function qt(i,n){switch(Z(ct,n),Z(Nt,i),Z(ht,null),n.nodeType){case 9:case 11:i=(i=n.documentElement)&&(i=i.namespaceURI)?qw(i):0;break;default:if(i=n.tagName,n=n.namespaceURI)n=qw(n),i=Xw(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(ht),Z(ht,i)}function Vs(){J(ht),J(Nt),J(ct)}function Yu(i){i.memoizedState!==null&&Z(Lt,i);var n=ht.current,o=Xw(n,i.type);n!==o&&(Z(Nt,i),Z(ht,o))}function fp(i){Nt.current===i&&(J(ht),J(Nt)),Lt.current===i&&(J(Lt),zh._currentValue=st)}var oy=Object.prototype.hasOwnProperty,ly=r.unstable_scheduleCallback,cy=r.unstable_cancelCallback,ZR=r.unstable_shouldYield,JR=r.unstable_requestPaint,un=r.unstable_now,t2=r.unstable_getCurrentPriorityLevel,Ex=r.unstable_ImmediatePriority,_x=r.unstable_UserBlockingPriority,pp=r.unstable_NormalPriority,e2=r.unstable_LowPriority,Cx=r.unstable_IdlePriority,i2=r.log,s2=r.unstable_setDisableYieldValue,Ku=null,Xi=null;function Ba(i){if(typeof i2=="function"&&s2(i),Xi&&typeof Xi.setStrictMode=="function")try{Xi.setStrictMode(Ku,i)}catch{}}var Yi=Math.clz32?Math.clz32:r2,n2=Math.log,a2=Math.LN2;function r2(i){return i>>>=0,i===0?32:31-(n2(i)/a2|0)|0}var mp=256,gp=4194304;function $r(i){var n=i&42;if(n!==0)return n;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yp(i,n,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var C=u&134217727;return C!==0?(u=C&~y,u!==0?m=$r(u):(w&=C,w!==0?m=$r(w):o||(o=C&~i,o!==0&&(m=$r(o))))):(C=u&~y,C!==0?m=$r(C):w!==0?m=$r(w):o||(o=u&~i,o!==0&&(m=$r(o)))),m===0?0:n!==0&&n!==m&&(n&y)===0&&(y=m&-m,o=n&-n,y>=o||y===32&&(o&4194048)!==0)?n:m}function $u(i,n){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&n)===0}function o2(i,n){switch(i){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mx(){var i=mp;return mp<<=1,(mp&4194048)===0&&(mp=256),i}function Rx(){var i=gp;return gp<<=1,(gp&62914560)===0&&(gp=4194304),i}function uy(i){for(var n=[],o=0;31>o;o++)n.push(i);return n}function Wu(i,n){i.pendingLanes|=n,n!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function l2(i,n,o,u,m,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,O=i.expirationTimes,V=i.hiddenUpdates;for(o=w&~o;0<o;){var Y=31-Yi(o),Q=1<<Y;C[Y]=0,O[Y]=-1;var H=V[Y];if(H!==null)for(V[Y]=null,Y=0;Y<H.length;Y++){var G=H[Y];G!==null&&(G.lane&=-536870913)}o&=~Q}u!==0&&Dx(i,u,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~n))}function Dx(i,n,o){i.pendingLanes|=n,i.suspendedLanes&=~n;var u=31-Yi(n);i.entangledLanes|=n,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Nx(i,n){var o=i.entangledLanes|=n;for(i=i.entanglements;o;){var u=31-Yi(o),m=1<<u;m&n|i[u]&n&&(i[u]|=n),o&=~m}}function hy(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function dy(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Lx(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:hT(i.type))}function c2(i,n){var o=X.p;try{return X.p=i,n()}finally{X.p=o}}var Fa=Math.random().toString(36).slice(2),ci="__reactFiber$"+Fa,Oi="__reactProps$"+Fa,kl="__reactContainer$"+Fa,fy="__reactEvents$"+Fa,u2="__reactListeners$"+Fa,h2="__reactHandles$"+Fa,Ox="__reactResources$"+Fa,Qu="__reactMarker$"+Fa;function py(i){delete i[ci],delete i[Oi],delete i[fy],delete i[u2],delete i[h2]}function Pl(i){var n=i[ci];if(n)return n;for(var o=i.parentNode;o;){if(n=o[kl]||o[ci]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(i=Ww(i);i!==null;){if(o=i[ci])return o;i=Ww(i)}return n}i=o,o=i.parentNode}return null}function jl(i){if(i=i[ci]||i[kl]){var n=i.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return i}return null}function Zu(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i.stateNode;throw Error(s(33))}function Il(i){var n=i[Ox];return n||(n=i[Ox]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function He(i){i[Qu]=!0}var kx=new Set,Px={};function Wr(i,n){Bl(i,n),Bl(i+"Capture",n)}function Bl(i,n){for(Px[i]=n,i=0;i<n.length;i++)kx.add(n[i])}var d2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jx={},Ix={};function f2(i){return oy.call(Ix,i)?!0:oy.call(jx,i)?!1:d2.test(i)?Ix[i]=!0:(jx[i]=!0,!1)}function bp(i,n,o){if(f2(n))if(o===null)i.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(n);return}}i.setAttribute(n,""+o)}}function vp(i,n,o){if(o===null)i.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(n);return}i.setAttribute(n,""+o)}}function zn(i,n,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(n,o,""+u)}}var my,Bx;function Fl(i){if(my===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);my=n&&n[1]||"",Bx=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+my+i+Bx}var gy=!1;function yy(i,n){if(!i||gy)return"";gy=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var H=G}Reflect.construct(i,[],Q)}else{try{Q.call()}catch(G){H=G}i.call(Q.prototype)}}else{try{throw Error()}catch(G){H=G}(Q=i())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],C=y[1];if(w&&C){var O=w.split(`
`),V=C.split(`
`);for(m=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;m<V.length&&!V[m].includes("DetermineComponentFrameRoot");)m++;if(u===O.length||m===V.length)for(u=O.length-1,m=V.length-1;1<=u&&0<=m&&O[u]!==V[m];)m--;for(;1<=u&&0<=m;u--,m--)if(O[u]!==V[m]){if(u!==1||m!==1)do if(u--,m--,0>m||O[u]!==V[m]){var Y=`
`+O[u].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=u&&0<=m);break}}}finally{gy=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Fl(o):""}function p2(i){switch(i.tag){case 26:case 27:case 5:return Fl(i.type);case 16:return Fl("Lazy");case 13:return Fl("Suspense");case 19:return Fl("SuspenseList");case 0:case 15:return yy(i.type,!1);case 11:return yy(i.type.render,!1);case 1:return yy(i.type,!0);case 31:return Fl("Activity");default:return""}}function Fx(i){try{var n="";do n+=p2(i),i=i.return;while(i);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ys(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function zx(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function m2(i){var n=zx(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),u=""+i[n];if(!i.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return m.call(this)},set:function(w){u=""+w,y.call(this,w)}}),Object.defineProperty(i,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function Ap(i){i._valueTracker||(i._valueTracker=m2(i))}function Vx(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return i&&(u=zx(i)?i.checked?"true":"false":i.value),i=u,i!==o?(n.setValue(i),!0):!1}function xp(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var g2=/[\n"\\]/g;function bs(i){return i.replace(g2,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function by(i,n,o,u,m,y,w,C){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),n!=null?w==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+ys(n)):i.value!==""+ys(n)&&(i.value=""+ys(n)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),n!=null?vy(i,w,ys(n)):o!=null?vy(i,w,ys(o)):u!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+ys(C):i.removeAttribute("name")}function Hx(i,n,o,u,m,y,w,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),n!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;o=o!=null?""+ys(o):"",n=n!=null?""+ys(n):o,C||n===i.value||(i.value=n),i.defaultValue=n}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function vy(i,n,o){n==="number"&&xp(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function zl(i,n,o,u){if(i=i.options,n){n={};for(var m=0;m<o.length;m++)n["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=n.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ys(o),n=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}n!==null||i[m].disabled||(n=i[m])}n!==null&&(n.selected=!0)}}function Ux(i,n,o){if(n!=null&&(n=""+ys(n),n!==i.value&&(i.value=n),o==null)){i.defaultValue!==n&&(i.defaultValue=n);return}i.defaultValue=o!=null?""+ys(o):""}function Gx(i,n,o,u){if(n==null){if(u!=null){if(o!=null)throw Error(s(92));if(zt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),n=o}o=ys(n),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Vl(i,n){if(n){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=n;return}}i.textContent=n}var y2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qx(i,n,o){var u=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(n,""):n==="float"?i.cssFloat="":i[n]="":u?i.setProperty(n,o):typeof o!="number"||o===0||y2.has(n)?n==="float"?i.cssFloat=o:i[n]=(""+o).trim():i[n]=o+"px"}function Xx(i,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in n)u=n[m],n.hasOwnProperty(m)&&o[m]!==u&&qx(i,m,u)}else for(var y in n)n.hasOwnProperty(y)&&qx(i,y,n[y])}function Ay(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),v2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sp(i){return v2.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var xy=null;function Sy(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hl=null,Ul=null;function Yx(i){var n=jl(i);if(n&&(i=n.stateNode)){var o=i[Oi]||null;t:switch(i=n.stateNode,n.type){case"input":if(by(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bs(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==i&&u.form===i.form){var m=u[Oi]||null;if(!m)throw Error(s(90));by(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<o.length;n++)u=o[n],u.form===i.form&&Vx(u)}break t;case"textarea":Ux(i,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&zl(i,!!o.multiple,n,!1)}}}var wy=!1;function Kx(i,n,o){if(wy)return i(n,o);wy=!0;try{var u=i(n);return u}finally{if(wy=!1,(Hl!==null||Ul!==null)&&(om(),Hl&&(n=Hl,i=Ul,Ul=Hl=null,Yx(n),i)))for(n=0;n<i.length;n++)Yx(i[n])}}function Ju(i,n){var o=i.stateNode;if(o===null)return null;var u=o[Oi]||null;if(u===null)return null;o=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ty=!1;if(Vn)try{var th={};Object.defineProperty(th,"passive",{get:function(){Ty=!0}}),window.addEventListener("test",th,th),window.removeEventListener("test",th,th)}catch{Ty=!1}var za=null,Ey=null,wp=null;function $x(){if(wp)return wp;var i,n=Ey,o=n.length,u,m="value"in za?za.value:za.textContent,y=m.length;for(i=0;i<o&&n[i]===m[i];i++);var w=o-i;for(u=1;u<=w&&n[o-u]===m[y-u];u++);return wp=m.slice(i,1<u?1-u:void 0)}function Tp(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function Ep(){return!0}function Wx(){return!1}function ki(i){function n(o,u,m,y,w){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ep:Wx,this.isPropagationStopped=Wx,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ep)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ep)},persist:function(){},isPersistent:Ep}),n}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_p=ki(Qr),eh=g({},Qr,{view:0,detail:0}),A2=ki(eh),_y,Cy,ih,Cp=g({},eh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ry,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ih&&(ih&&i.type==="mousemove"?(_y=i.screenX-ih.screenX,Cy=i.screenY-ih.screenY):Cy=_y=0,ih=i),_y)},movementY:function(i){return"movementY"in i?i.movementY:Cy}}),Qx=ki(Cp),x2=g({},Cp,{dataTransfer:0}),S2=ki(x2),w2=g({},eh,{relatedTarget:0}),My=ki(w2),T2=g({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),E2=ki(T2),_2=g({},Qr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),C2=ki(_2),M2=g({},Qr,{data:0}),Zx=ki(M2),R2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L2(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=N2[i])?!!n[i]:!1}function Ry(){return L2}var O2=g({},eh,{key:function(i){if(i.key){var n=R2[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=Tp(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?D2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ry,charCode:function(i){return i.type==="keypress"?Tp(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Tp(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),k2=ki(O2),P2=g({},Cp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jx=ki(P2),j2=g({},eh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ry}),I2=ki(j2),B2=g({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),F2=ki(B2),z2=g({},Cp,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),V2=ki(z2),H2=g({},Qr,{newState:0,oldState:0}),U2=ki(H2),G2=[9,13,27,32],Dy=Vn&&"CompositionEvent"in window,sh=null;Vn&&"documentMode"in document&&(sh=document.documentMode);var q2=Vn&&"TextEvent"in window&&!sh,tS=Vn&&(!Dy||sh&&8<sh&&11>=sh),eS=" ",iS=!1;function sS(i,n){switch(i){case"keyup":return G2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Gl=!1;function X2(i,n){switch(i){case"compositionend":return nS(n);case"keypress":return n.which!==32?null:(iS=!0,eS);case"textInput":return i=n.data,i===eS&&iS?null:i;default:return null}}function Y2(i,n){if(Gl)return i==="compositionend"||!Dy&&sS(i,n)?(i=$x(),wp=Ey=za=null,Gl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return tS&&n.locale!=="ko"?null:n.data;default:return null}}var K2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aS(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!K2[i.type]:n==="textarea"}function rS(i,n,o,u){Hl?Ul?Ul.push(u):Ul=[u]:Hl=u,n=fm(n,"onChange"),0<n.length&&(o=new _p("onChange","change",null,o,u),i.push({event:o,listeners:n}))}var nh=null,ah=null;function $2(i){zw(i,0)}function Mp(i){var n=Zu(i);if(Vx(n))return i}function oS(i,n){if(i==="change")return n}var lS=!1;if(Vn){var Ny;if(Vn){var Ly="oninput"in document;if(!Ly){var cS=document.createElement("div");cS.setAttribute("oninput","return;"),Ly=typeof cS.oninput=="function"}Ny=Ly}else Ny=!1;lS=Ny&&(!document.documentMode||9<document.documentMode)}function uS(){nh&&(nh.detachEvent("onpropertychange",hS),ah=nh=null)}function hS(i){if(i.propertyName==="value"&&Mp(ah)){var n=[];rS(n,ah,i,Sy(i)),Kx($2,n)}}function W2(i,n,o){i==="focusin"?(uS(),nh=n,ah=o,nh.attachEvent("onpropertychange",hS)):i==="focusout"&&uS()}function Q2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Mp(ah)}function Z2(i,n){if(i==="click")return Mp(n)}function J2(i,n){if(i==="input"||i==="change")return Mp(n)}function tD(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var Ki=typeof Object.is=="function"?Object.is:tD;function rh(i,n){if(Ki(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var o=Object.keys(i),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!oy.call(n,m)||!Ki(i[m],n[m]))return!1}return!0}function dS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fS(i,n){var o=dS(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=n&&u>=n)return{node:o,offset:n-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=dS(o)}}function pS(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?pS(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function mS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var n=xp(i.document);n instanceof i.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)i=n.contentWindow;else break;n=xp(i.document)}return n}function Oy(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}var eD=Vn&&"documentMode"in document&&11>=document.documentMode,ql=null,ky=null,oh=null,Py=!1;function gS(i,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Py||ql==null||ql!==xp(u)||(u=ql,"selectionStart"in u&&Oy(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),oh&&rh(oh,u)||(oh=u,u=fm(ky,"onSelect"),0<u.length&&(n=new _p("onSelect","select",null,n,o),i.push({event:n,listeners:u}),n.target=ql)))}function Zr(i,n){var o={};return o[i.toLowerCase()]=n.toLowerCase(),o["Webkit"+i]="webkit"+n,o["Moz"+i]="moz"+n,o}var Xl={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},jy={},yS={};Vn&&(yS=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function Jr(i){if(jy[i])return jy[i];if(!Xl[i])return i;var n=Xl[i],o;for(o in n)if(n.hasOwnProperty(o)&&o in yS)return jy[i]=n[o];return i}var bS=Jr("animationend"),vS=Jr("animationiteration"),AS=Jr("animationstart"),iD=Jr("transitionrun"),sD=Jr("transitionstart"),nD=Jr("transitioncancel"),xS=Jr("transitionend"),SS=new Map,Iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Iy.push("scrollEnd");function Hs(i,n){SS.set(i,n),Wr(n,[i])}var wS=new WeakMap;function vs(i,n){if(typeof i=="object"&&i!==null){var o=wS.get(i);return o!==void 0?o:(n={value:i,source:n,stack:Fx(n)},wS.set(i,n),n)}return{value:i,source:n,stack:Fx(n)}}var As=[],Yl=0,By=0;function Rp(){for(var i=Yl,n=By=Yl=0;n<i;){var o=As[n];As[n++]=null;var u=As[n];As[n++]=null;var m=As[n];As[n++]=null;var y=As[n];if(As[n++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}y!==0&&TS(o,m,y)}}function Dp(i,n,o,u){As[Yl++]=i,As[Yl++]=n,As[Yl++]=o,As[Yl++]=u,By|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Fy(i,n,o,u){return Dp(i,n,o,u),Np(i)}function Kl(i,n){return Dp(i,null,null,n),Np(i)}function TS(i,n,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&n!==null&&(m=31-Yi(o),i=y.hiddenUpdates,u=i[m],u===null?i[m]=[n]:u.push(n),n.lane=o|536870912),y):null}function Np(i){if(50<Lh)throw Lh=0,q0=null,Error(s(185));for(var n=i.return;n!==null;)i=n,n=i.return;return i.tag===3?i.stateNode:null}var $l={};function aD(i,n,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(i,n,o,u){return new aD(i,n,o,u)}function zy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hn(i,n){var o=i.alternate;return o===null?(o=$i(i.tag,n,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=n,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,n=i.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function ES(i,n){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i}function Lp(i,n,o,u,m,y){var w=0;if(u=i,typeof i=="function")zy(i)&&(w=1);else if(typeof i=="string")w=oN(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case tt:return i=$i(31,o,n,m),i.elementType=tt,i.lanes=y,i;case S:return to(o.children,m,y,n);case T:w=8,m|=24;break;case D:return i=$i(12,o,n,m|2),i.elementType=D,i.lanes=y,i;case P:return i=$i(13,o,n,m),i.elementType=P,i.lanes=y,i;case U:return i=$i(19,o,n,m),i.elementType=U,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case N:w=10;break t;case L:w=9;break t;case j:w=11;break t;case q:w=14;break t;case $:w=16,u=null;break t}w=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return n=$i(w,o,n,m),n.elementType=i,n.type=u,n.lanes=y,n}function to(i,n,o,u){return i=$i(7,i,u,n),i.lanes=o,i}function Vy(i,n,o){return i=$i(6,i,null,n),i.lanes=o,i}function Hy(i,n,o){return n=$i(4,i.children!==null?i.children:[],i.key,n),n.lanes=o,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}var Wl=[],Ql=0,Op=null,kp=0,xs=[],Ss=0,eo=null,Un=1,Gn="";function io(i,n){Wl[Ql++]=kp,Wl[Ql++]=Op,Op=i,kp=n}function _S(i,n,o){xs[Ss++]=Un,xs[Ss++]=Gn,xs[Ss++]=eo,eo=i;var u=Un;i=Gn;var m=32-Yi(u)-1;u&=~(1<<m),o+=1;var y=32-Yi(n)+m;if(30<y){var w=m-m%5;y=(u&(1<<w)-1).toString(32),u>>=w,m-=w,Un=1<<32-Yi(n)+m|o<<m|u,Gn=y+i}else Un=1<<y|o<<m|u,Gn=i}function Uy(i){i.return!==null&&(io(i,1),_S(i,1,0))}function Gy(i){for(;i===Op;)Op=Wl[--Ql],Wl[Ql]=null,kp=Wl[--Ql],Wl[Ql]=null;for(;i===eo;)eo=xs[--Ss],xs[Ss]=null,Gn=xs[--Ss],xs[Ss]=null,Un=xs[--Ss],xs[Ss]=null}var Si=null,ve=null,Xt=!1,so=null,hn=!1,qy=Error(s(519));function no(i){var n=Error(s(418,""));throw uh(vs(n,i)),qy}function CS(i){var n=i.stateNode,o=i.type,u=i.memoizedProps;switch(n[ci]=i,n[Oi]=u,o){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(o=0;o<kh.length;o++)It(kh[o],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Hx(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ap(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Gx(n,u.value,u.defaultValue,u.children),Ap(n)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||u.suppressHydrationWarning===!0||Gw(n.textContent,o)?(u.popover!=null&&(It("beforetoggle",n),It("toggle",n)),u.onScroll!=null&&It("scroll",n),u.onScrollEnd!=null&&It("scrollend",n),u.onClick!=null&&(n.onclick=pm),n=!0):n=!1,n||no(i)}function MS(i){for(Si=i.return;Si;)switch(Si.tag){case 5:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:Si=Si.return}}function lh(i){if(i!==Si)return!1;if(!Xt)return MS(i),Xt=!0,!1;var n=i.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ob(i.type,i.memoizedProps)),o=!o),o&&ve&&no(i),MS(i),n===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(n===0){ve=Gs(i.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;i=i.nextSibling}ve=null}}else n===27?(n=ve,ir(i.type)?(i=hb,hb=null,ve=i):ve=n):ve=Si?Gs(i.stateNode.nextSibling):null;return!0}function ch(){ve=Si=null,Xt=!1}function RS(){var i=so;return i!==null&&(Ii===null?Ii=i:Ii.push.apply(Ii,i),so=null),i}function uh(i){so===null?so=[i]:so.push(i)}var Xy=W(null),ao=null,qn=null;function Va(i,n,o){Z(Xy,n._currentValue),n._currentValue=o}function Xn(i){i._currentValue=Xy.current,J(Xy)}function Yy(i,n,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),i===o)break;i=i.return}}function Ky(i,n,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var w=m.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=m;for(var O=0;O<n.length;O++)if(C.context===n[O]){y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),Yy(y.return,o,i),u||(w=null);break t}y=C.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(s(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Yy(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function hh(i,n,o,u){i=null;for(var m=n,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var C=m.type;Ki(m.pendingProps.value,w.value)||(i!==null?i.push(C):i=[C])}}else if(m===Lt.current){if(w=m.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(zh):i=[zh])}m=m.return}i!==null&&Ky(n,i,o,u),n.flags|=262144}function Pp(i){for(i=i.firstContext;i!==null;){if(!Ki(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ro(i){ao=i,qn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ui(i){return DS(ao,i)}function jp(i,n){return ao===null&&ro(i),DS(i,n)}function DS(i,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},qn===null){if(i===null)throw Error(s(308));qn=n,i.dependencies={lanes:0,firstContext:n},i.flags|=524288}else qn=qn.next=n;return o}var rD=typeof AbortController<"u"?AbortController:function(){var i=[],n=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){n.aborted=!0,i.forEach(function(o){return o()})}},oD=r.unstable_scheduleCallback,lD=r.unstable_NormalPriority,Pe={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $y(){return{controller:new rD,data:new Map,refCount:0}}function dh(i){i.refCount--,i.refCount===0&&oD(lD,function(){i.controller.abort()})}var fh=null,Wy=0,Zl=0,Jl=null;function cD(i,n){if(fh===null){var o=fh=[];Wy=0,Zl=Z0(),Jl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wy++,n.then(NS,NS),n}function NS(){if(--Wy===0&&fh!==null){Jl!==null&&(Jl.status="fulfilled");var i=fh;fh=null,Zl=0,Jl=null;for(var n=0;n<i.length;n++)(0,i[n])()}}function uD(i,n){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=n;for(var m=0;m<o.length;m++)(0,o[m])(n)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var LS=B.S;B.S=function(i,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&cD(i,n),LS!==null&&LS(i,n)};var oo=W(null);function Qy(){var i=oo.current;return i!==null?i:re.pooledCache}function Ip(i,n){n===null?Z(oo,oo.current):Z(oo,n.pool)}function OS(){var i=Qy();return i===null?null:{parent:Pe._currentValue,pool:i}}var ph=Error(s(460)),kS=Error(s(474)),Bp=Error(s(542)),Zy={then:function(){}};function PS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fp(){}function jS(i,n,o){switch(o=i[o],o===void 0?i.push(n):o!==n&&(n.then(Fp,Fp),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,BS(i),i;default:if(typeof n.status=="string")n.then(Fp,Fp);else{if(i=re,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=n,i.status="pending",i.then(function(u){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=u}},function(u){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,BS(i),i}throw mh=n,ph}}var mh=null;function IS(){if(mh===null)throw Error(s(459));var i=mh;return mh=null,i}function BS(i){if(i===ph||i===Bp)throw Error(s(483))}var Ha=!1;function Jy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function t0(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ua(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ga(i,n,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var m=u.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),u.pending=n,n=Np(i),TS(i,null,o),n}return Dp(i,u,n,o),Np(i)}function gh(i,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var u=n.lanes;u&=i.pendingLanes,o|=u,n.lanes=o,Nx(i,o)}}function e0(i,n){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?m=y=n:y=y.next=n}else m=y=n;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=n:i.next=n,o.lastBaseUpdate=n}var i0=!1;function yh(){if(i0){var i=Jl;if(i!==null)throw i}}function bh(i,n,o,u){i0=!1;var m=i.updateQueue;Ha=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var O=C,V=O.next;O.next=null,w===null?y=V:w.next=V,w=O;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==w&&(C===null?Y.firstBaseUpdate=V:C.next=V,Y.lastBaseUpdate=O))}if(y!==null){var Q=m.baseState;w=0,Y=V=O=null,C=y;do{var H=C.lane&-536870913,G=H!==C.lane;if(G?(Ft&H)===H:(u&H)===H){H!==0&&H===Zl&&(i0=!0),Y!==null&&(Y=Y.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var vt=i,mt=C;H=n;var ee=o;switch(mt.tag){case 1:if(vt=mt.payload,typeof vt=="function"){Q=vt.call(ee,Q,H);break t}Q=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=mt.payload,H=typeof vt=="function"?vt.call(ee,Q,H):vt,H==null)break t;Q=g({},Q,H);break t;case 2:Ha=!0}}H=C.callback,H!==null&&(i.flags|=64,G&&(i.flags|=8192),G=m.callbacks,G===null?m.callbacks=[H]:G.push(H))}else G={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(V=Y=G,O=Q):Y=Y.next=G,w|=H;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;G=C,C=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);Y===null&&(O=Q),m.baseState=O,m.firstBaseUpdate=V,m.lastBaseUpdate=Y,y===null&&(m.shared.lanes=0),Za|=w,i.lanes=w,i.memoizedState=Q}}function FS(i,n){if(typeof i!="function")throw Error(s(191,i));i.call(n)}function zS(i,n){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)FS(o[i],n)}var tc=W(null),zp=W(0);function VS(i,n){i=Jn,Z(zp,i),Z(tc,n),Jn=i|n.baseLanes}function s0(){Z(zp,Jn),Z(tc,tc.current)}function n0(){Jn=zp.current,J(tc),J(zp)}var qa=0,Dt=null,Jt=null,Re=null,Vp=!1,ec=!1,lo=!1,Hp=0,vh=0,ic=null,hD=0;function we(){throw Error(s(321))}function a0(i,n){if(n===null)return!1;for(var o=0;o<n.length&&o<i.length;o++)if(!Ki(i[o],n[o]))return!1;return!0}function r0(i,n,o,u,m,y){return qa=y,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=i===null||i.memoizedState===null?T1:E1,lo=!1,y=o(u,m),lo=!1,ec&&(y=US(n,o,u,m)),HS(i),y}function HS(i){B.H=Kp;var n=Jt!==null&&Jt.next!==null;if(qa=0,Re=Jt=Dt=null,Vp=!1,vh=0,ic=null,n)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Pp(i)&&(Ue=!0))}function US(i,n,o,u){Dt=i;var m=0;do{if(ec&&(ic=null),vh=0,ec=!1,25<=m)throw Error(s(301));if(m+=1,Re=Jt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=bD,y=n(o,u)}while(ec);return y}function dD(){var i=B.H,n=i.useState()[0];return n=typeof n.then=="function"?Ah(n):n,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Dt.flags|=1024),n}function o0(){var i=Hp!==0;return Hp=0,i}function l0(i,n,o){n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~o}function c0(i){if(Vp){for(i=i.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Vp=!1}qa=0,Re=Jt=Dt=null,ec=!1,vh=Hp=0,ic=null}function Pi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Dt.memoizedState=Re=i:Re=Re.next=i,Re}function De(){if(Jt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var n=Re===null?Dt.memoizedState:Re.next;if(n!==null)Re=n,Jt=i;else{if(i===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?Dt.memoizedState=Re=i:Re=Re.next=i}return Re}function u0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ah(i){var n=vh;return vh+=1,ic===null&&(ic=[]),i=jS(ic,i,n),n=Dt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?T1:E1),i}function Up(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ah(i);if(i.$$typeof===N)return ui(i)}throw Error(s(438,String(i)))}function h0(i){var n=null,o=Dt.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=u0(),Dt.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(i),u=0;u<i;u++)o[u]=ft;return n.index++,o}function Yn(i,n){return typeof n=="function"?n(i):n}function Gp(i){var n=De();return d0(n,Jt,i)}function d0(i,n,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=i.baseQueue,y=u.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}n.baseQueue=m=y,u.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{n=m.next;var C=w=null,O=null,V=n,Y=!1;do{var Q=V.lane&-536870913;if(Q!==V.lane?(Ft&Q)===Q:(qa&Q)===Q){var H=V.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Q===Zl&&(Y=!0);else if((qa&H)===H){V=V.next,H===Zl&&(Y=!0);continue}else Q={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},O===null?(C=O=Q,w=y):O=O.next=Q,Dt.lanes|=H,Za|=H;Q=V.action,lo&&o(y,Q),y=V.hasEagerState?V.eagerState:o(y,Q)}else H={lane:Q,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},O===null?(C=O=H,w=y):O=O.next=H,Dt.lanes|=Q,Za|=Q;V=V.next}while(V!==null&&V!==n);if(O===null?w=y:O.next=C,!Ki(y,i.memoizedState)&&(Ue=!0,Y&&(o=Jl,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=O,u.lastRenderedState=y}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function f0(i){var n=De(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,y=n.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do y=i(y,w.action),w=w.next;while(w!==m);Ki(y,n.memoizedState)||(Ue=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),o.lastRenderedState=y}return[y,u]}function GS(i,n,o){var u=Dt,m=De(),y=Xt;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=n();var w=!Ki((Jt||m).memoizedState,o);w&&(m.memoizedState=o,Ue=!0),m=m.queue;var C=YS.bind(null,u,m,i);if(xh(2048,8,C,[i]),m.getSnapshot!==n||w||Re!==null&&Re.memoizedState.tag&1){if(u.flags|=2048,sc(9,qp(),XS.bind(null,u,m,o,n),null),re===null)throw Error(s(349));y||(qa&124)!==0||qS(u,n,o)}return o}function qS(i,n,o){i.flags|=16384,i={getSnapshot:n,value:o},n=Dt.updateQueue,n===null?(n=u0(),Dt.updateQueue=n,n.stores=[i]):(o=n.stores,o===null?n.stores=[i]:o.push(i))}function XS(i,n,o,u){n.value=o,n.getSnapshot=u,KS(n)&&$S(i)}function YS(i,n,o){return o(function(){KS(n)&&$S(i)})}function KS(i){var n=i.getSnapshot;i=i.value;try{var o=n();return!Ki(i,o)}catch{return!0}}function $S(i){var n=Kl(i,2);n!==null&&ts(n,i,2)}function p0(i){var n=Pi();if(typeof i=="function"){var o=i;if(i=o(),lo){Ba(!0);try{o()}finally{Ba(!1)}}}return n.memoizedState=n.baseState=i,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:i},n}function WS(i,n,o,u){return i.baseState=o,d0(i,Jt,typeof u=="function"?u:Yn)}function fD(i,n,o,u,m){if(Yp(i))throw Error(s(485));if(i=n.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};B.T!==null?o(!0):y.isTransition=!1,u(y),o=n.pending,o===null?(y.next=n.pending=y,QS(n,y)):(y.next=o.next,n.pending=o.next=y)}}function QS(i,n){var o=n.action,u=n.payload,m=i.state;if(n.isTransition){var y=B.T,w={};B.T=w;try{var C=o(m,u),O=B.S;O!==null&&O(w,C),ZS(i,n,C)}catch(V){m0(i,n,V)}finally{B.T=y}}else try{y=o(m,u),ZS(i,n,y)}catch(V){m0(i,n,V)}}function ZS(i,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){JS(i,n,u)},function(u){return m0(i,n,u)}):JS(i,n,o)}function JS(i,n,o){n.status="fulfilled",n.value=o,t1(n),i.state=o,n=i.pending,n!==null&&(o=n.next,o===n?i.pending=null:(o=o.next,n.next=o,QS(i,o)))}function m0(i,n,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=o,t1(n),n=n.next;while(n!==u)}i.action=null}function t1(i){i=i.listeners;for(var n=0;n<i.length;n++)(0,i[n])()}function e1(i,n){return n}function i1(i,n){if(Xt){var o=re.formState;if(o!==null){t:{var u=Dt;if(Xt){if(ve){e:{for(var m=ve,y=hn;m.nodeType!==8;){if(!y){m=null;break e}if(m=Gs(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ve=Gs(m.nextSibling),u=m.data==="F!";break t}}no(u)}u=!1}u&&(n=o[0])}}return o=Pi(),o.memoizedState=o.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e1,lastRenderedState:n},o.queue=u,o=x1.bind(null,Dt,u),u.dispatch=o,u=p0(!1),y=A0.bind(null,Dt,!1,u.queue),u=Pi(),m={state:n,dispatch:null,action:i,pending:null},u.queue=m,o=fD.bind(null,Dt,m,y,o),m.dispatch=o,u.memoizedState=i,[n,o,!1]}function s1(i){var n=De();return n1(n,Jt,i)}function n1(i,n,o){if(n=d0(i,n,e1)[0],i=Gp(Yn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Ah(n)}catch(w){throw w===ph?Bp:w}else u=n;n=De();var m=n.queue,y=m.dispatch;return o!==n.memoizedState&&(Dt.flags|=2048,sc(9,qp(),pD.bind(null,m,o),null)),[u,y,i]}function pD(i,n){i.action=n}function a1(i){var n=De(),o=Jt;if(o!==null)return n1(n,o,i);De(),n=n.memoizedState,o=De();var u=o.queue.dispatch;return o.memoizedState=i,[n,u,!1]}function sc(i,n,o,u){return i={tag:i,create:o,deps:u,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=u0(),Dt.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,n.lastEffect=i),i}function qp(){return{destroy:void 0,resource:void 0}}function r1(){return De().memoizedState}function Xp(i,n,o,u){var m=Pi();u=u===void 0?null:u,Dt.flags|=i,m.memoizedState=sc(1|n,qp(),o,u)}function xh(i,n,o,u){var m=De();u=u===void 0?null:u;var y=m.memoizedState.inst;Jt!==null&&u!==null&&a0(u,Jt.memoizedState.deps)?m.memoizedState=sc(n,y,o,u):(Dt.flags|=i,m.memoizedState=sc(1|n,y,o,u))}function o1(i,n){Xp(8390656,8,i,n)}function l1(i,n){xh(2048,8,i,n)}function c1(i,n){return xh(4,2,i,n)}function u1(i,n){return xh(4,4,i,n)}function h1(i,n){if(typeof n=="function"){i=i();var o=n(i);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function d1(i,n,o){o=o!=null?o.concat([i]):null,xh(4,4,h1.bind(null,n,i),o)}function g0(){}function f1(i,n){var o=De();n=n===void 0?null:n;var u=o.memoizedState;return n!==null&&a0(n,u[1])?u[0]:(o.memoizedState=[i,n],i)}function p1(i,n){var o=De();n=n===void 0?null:n;var u=o.memoizedState;if(n!==null&&a0(n,u[1]))return u[0];if(u=i(),lo){Ba(!0);try{i()}finally{Ba(!1)}}return o.memoizedState=[u,n],u}function y0(i,n,o){return o===void 0||(qa&1073741824)!==0?i.memoizedState=n:(i.memoizedState=o,i=yw(),Dt.lanes|=i,Za|=i,o)}function m1(i,n,o,u){return Ki(o,n)?o:tc.current!==null?(i=y0(i,o,u),Ki(i,n)||(Ue=!0),i):(qa&42)===0?(Ue=!0,i.memoizedState=o):(i=yw(),Dt.lanes|=i,Za|=i,n)}function g1(i,n,o,u,m){var y=X.p;X.p=y!==0&&8>y?y:8;var w=B.T,C={};B.T=C,A0(i,!1,n,o);try{var O=m(),V=B.S;if(V!==null&&V(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=uD(O,u);Sh(i,n,Y,Ji(i))}else Sh(i,n,u,Ji(i))}catch(Q){Sh(i,n,{then:function(){},status:"rejected",reason:Q},Ji())}finally{X.p=y,B.T=w}}function mD(){}function b0(i,n,o,u){if(i.tag!==5)throw Error(s(476));var m=y1(i).queue;g1(i,m,n,st,o===null?mD:function(){return b1(i),o(u)})}function y1(i){var n=i.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:st},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:o},next:null},i.memoizedState=n,i=i.alternate,i!==null&&(i.memoizedState=n),n}function b1(i){var n=y1(i).next.queue;Sh(i,n,{},Ji())}function v0(){return ui(zh)}function v1(){return De().memoizedState}function A1(){return De().memoizedState}function gD(i){for(var n=i.return;n!==null;){switch(n.tag){case 24:case 3:var o=Ji();i=Ua(o);var u=Ga(n,i,o);u!==null&&(ts(u,n,o),gh(u,n,o)),n={cache:$y()},i.payload=n;return}n=n.return}}function yD(i,n,o){var u=Ji();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Yp(i)?S1(n,o):(o=Fy(i,n,o,u),o!==null&&(ts(o,i,u),w1(o,n,u)))}function x1(i,n,o){var u=Ji();Sh(i,n,o,u)}function Sh(i,n,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yp(i))S1(n,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var w=n.lastRenderedState,C=y(w,o);if(m.hasEagerState=!0,m.eagerState=C,Ki(C,w))return Dp(i,n,m,0),re===null&&Rp(),!1}catch{}finally{}if(o=Fy(i,n,m,u),o!==null)return ts(o,i,u),w1(o,n,u),!0}return!1}function A0(i,n,o,u){if(u={lane:2,revertLane:Z0(),action:u,hasEagerState:!1,eagerState:null,next:null},Yp(i)){if(n)throw Error(s(479))}else n=Fy(i,o,u,2),n!==null&&ts(n,i,2)}function Yp(i){var n=i.alternate;return i===Dt||n!==null&&n===Dt}function S1(i,n){ec=Vp=!0;var o=i.pending;o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n}function w1(i,n,o){if((o&4194048)!==0){var u=n.lanes;u&=i.pendingLanes,o|=u,n.lanes=o,Nx(i,o)}}var Kp={readContext:ui,use:Up,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we},T1={readContext:ui,use:Up,useCallback:function(i,n){return Pi().memoizedState=[i,n===void 0?null:n],i},useContext:ui,useEffect:o1,useImperativeHandle:function(i,n,o){o=o!=null?o.concat([i]):null,Xp(4194308,4,h1.bind(null,n,i),o)},useLayoutEffect:function(i,n){return Xp(4194308,4,i,n)},useInsertionEffect:function(i,n){Xp(4,2,i,n)},useMemo:function(i,n){var o=Pi();n=n===void 0?null:n;var u=i();if(lo){Ba(!0);try{i()}finally{Ba(!1)}}return o.memoizedState=[u,n],u},useReducer:function(i,n,o){var u=Pi();if(o!==void 0){var m=o(n);if(lo){Ba(!0);try{o(n)}finally{Ba(!1)}}}else m=n;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=yD.bind(null,Dt,i),[u.memoizedState,i]},useRef:function(i){var n=Pi();return i={current:i},n.memoizedState=i},useState:function(i){i=p0(i);var n=i.queue,o=x1.bind(null,Dt,n);return n.dispatch=o,[i.memoizedState,o]},useDebugValue:g0,useDeferredValue:function(i,n){var o=Pi();return y0(o,i,n)},useTransition:function(){var i=p0(!1);return i=g1.bind(null,Dt,i.queue,!0,!1),Pi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,n,o){var u=Dt,m=Pi();if(Xt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),re===null)throw Error(s(349));(Ft&124)!==0||qS(u,n,o)}m.memoizedState=o;var y={value:o,getSnapshot:n};return m.queue=y,o1(YS.bind(null,u,y,i),[i]),u.flags|=2048,sc(9,qp(),XS.bind(null,u,y,o,n),null),o},useId:function(){var i=Pi(),n=re.identifierPrefix;if(Xt){var o=Gn,u=Un;o=(u&~(1<<32-Yi(u)-1)).toString(32)+o,n=""+n+"R"+o,o=Hp++,0<o&&(n+="H"+o.toString(32)),n+=""}else o=hD++,n=""+n+"r"+o.toString(32)+"";return i.memoizedState=n},useHostTransitionStatus:v0,useFormState:i1,useActionState:i1,useOptimistic:function(i){var n=Pi();n.memoizedState=n.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=A0.bind(null,Dt,!0,o),o.dispatch=n,[i,n]},useMemoCache:h0,useCacheRefresh:function(){return Pi().memoizedState=gD.bind(null,Dt)}},E1={readContext:ui,use:Up,useCallback:f1,useContext:ui,useEffect:l1,useImperativeHandle:d1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:p1,useReducer:Gp,useRef:r1,useState:function(){return Gp(Yn)},useDebugValue:g0,useDeferredValue:function(i,n){var o=De();return m1(o,Jt.memoizedState,i,n)},useTransition:function(){var i=Gp(Yn)[0],n=De().memoizedState;return[typeof i=="boolean"?i:Ah(i),n]},useSyncExternalStore:GS,useId:v1,useHostTransitionStatus:v0,useFormState:s1,useActionState:s1,useOptimistic:function(i,n){var o=De();return WS(o,Jt,i,n)},useMemoCache:h0,useCacheRefresh:A1},bD={readContext:ui,use:Up,useCallback:f1,useContext:ui,useEffect:l1,useImperativeHandle:d1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:p1,useReducer:f0,useRef:r1,useState:function(){return f0(Yn)},useDebugValue:g0,useDeferredValue:function(i,n){var o=De();return Jt===null?y0(o,i,n):m1(o,Jt.memoizedState,i,n)},useTransition:function(){var i=f0(Yn)[0],n=De().memoizedState;return[typeof i=="boolean"?i:Ah(i),n]},useSyncExternalStore:GS,useId:v1,useHostTransitionStatus:v0,useFormState:a1,useActionState:a1,useOptimistic:function(i,n){var o=De();return Jt!==null?WS(o,Jt,i,n):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:h0,useCacheRefresh:A1},nc=null,wh=0;function $p(i){var n=wh;return wh+=1,nc===null&&(nc=[]),jS(nc,i,n)}function Th(i,n){n=n.props.ref,i.ref=n!==void 0?n:null}function Wp(i,n){throw n.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(n),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i)))}function _1(i){var n=i._init;return n(i._payload)}function C1(i){function n(F,I){if(i){var z=F.deletions;z===null?(F.deletions=[I],F.flags|=16):z.push(I)}}function o(F,I){if(!i)return null;for(;I!==null;)n(F,I),I=I.sibling;return null}function u(F){for(var I=new Map;F!==null;)F.key!==null?I.set(F.key,F):I.set(F.index,F),F=F.sibling;return I}function m(F,I){return F=Hn(F,I),F.index=0,F.sibling=null,F}function y(F,I,z){return F.index=z,i?(z=F.alternate,z!==null?(z=z.index,z<I?(F.flags|=67108866,I):z):(F.flags|=67108866,I)):(F.flags|=1048576,I)}function w(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function C(F,I,z,K){return I===null||I.tag!==6?(I=Vy(z,F.mode,K),I.return=F,I):(I=m(I,z),I.return=F,I)}function O(F,I,z,K){var lt=z.type;return lt===S?Y(F,I,z.props.children,K,z.key):I!==null&&(I.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===$&&_1(lt)===I.type)?(I=m(I,z.props),Th(I,z),I.return=F,I):(I=Lp(z.type,z.key,z.props,null,F.mode,K),Th(I,z),I.return=F,I)}function V(F,I,z,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Hy(z,F.mode,K),I.return=F,I):(I=m(I,z.children||[]),I.return=F,I)}function Y(F,I,z,K,lt){return I===null||I.tag!==7?(I=to(z,F.mode,K,lt),I.return=F,I):(I=m(I,z),I.return=F,I)}function Q(F,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Vy(""+I,F.mode,z),I.return=F,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case v:return z=Lp(I.type,I.key,I.props,null,F.mode,z),Th(z,I),z.return=F,z;case A:return I=Hy(I,F.mode,z),I.return=F,I;case $:var K=I._init;return I=K(I._payload),Q(F,I,z)}if(zt(I)||St(I))return I=to(I,F.mode,z,null),I.return=F,I;if(typeof I.then=="function")return Q(F,$p(I),z);if(I.$$typeof===N)return Q(F,jp(F,I),z);Wp(F,I)}return null}function H(F,I,z,K){var lt=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:C(F,I,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===lt?O(F,I,z,K):null;case A:return z.key===lt?V(F,I,z,K):null;case $:return lt=z._init,z=lt(z._payload),H(F,I,z,K)}if(zt(z)||St(z))return lt!==null?null:Y(F,I,z,K,null);if(typeof z.then=="function")return H(F,I,$p(z),K);if(z.$$typeof===N)return H(F,I,jp(F,z),K);Wp(F,z)}return null}function G(F,I,z,K,lt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return F=F.get(z)||null,C(I,F,""+K,lt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return F=F.get(K.key===null?z:K.key)||null,O(I,F,K,lt);case A:return F=F.get(K.key===null?z:K.key)||null,V(I,F,K,lt);case $:var Ot=K._init;return K=Ot(K._payload),G(F,I,z,K,lt)}if(zt(K)||St(K))return F=F.get(z)||null,Y(I,F,K,lt,null);if(typeof K.then=="function")return G(F,I,z,$p(K),lt);if(K.$$typeof===N)return G(F,I,z,jp(I,K),lt);Wp(I,K)}return null}function vt(F,I,z,K){for(var lt=null,Ot=null,pt=I,bt=I=0,qe=null;pt!==null&&bt<z.length;bt++){pt.index>bt?(qe=pt,pt=null):qe=pt.sibling;var Ht=H(F,pt,z[bt],K);if(Ht===null){pt===null&&(pt=qe);break}i&&pt&&Ht.alternate===null&&n(F,pt),I=y(Ht,I,bt),Ot===null?lt=Ht:Ot.sibling=Ht,Ot=Ht,pt=qe}if(bt===z.length)return o(F,pt),Xt&&io(F,bt),lt;if(pt===null){for(;bt<z.length;bt++)pt=Q(F,z[bt],K),pt!==null&&(I=y(pt,I,bt),Ot===null?lt=pt:Ot.sibling=pt,Ot=pt);return Xt&&io(F,bt),lt}for(pt=u(pt);bt<z.length;bt++)qe=G(pt,F,bt,z[bt],K),qe!==null&&(i&&qe.alternate!==null&&pt.delete(qe.key===null?bt:qe.key),I=y(qe,I,bt),Ot===null?lt=qe:Ot.sibling=qe,Ot=qe);return i&&pt.forEach(function(or){return n(F,or)}),Xt&&io(F,bt),lt}function mt(F,I,z,K){if(z==null)throw Error(s(151));for(var lt=null,Ot=null,pt=I,bt=I=0,qe=null,Ht=z.next();pt!==null&&!Ht.done;bt++,Ht=z.next()){pt.index>bt?(qe=pt,pt=null):qe=pt.sibling;var or=H(F,pt,Ht.value,K);if(or===null){pt===null&&(pt=qe);break}i&&pt&&or.alternate===null&&n(F,pt),I=y(or,I,bt),Ot===null?lt=or:Ot.sibling=or,Ot=or,pt=qe}if(Ht.done)return o(F,pt),Xt&&io(F,bt),lt;if(pt===null){for(;!Ht.done;bt++,Ht=z.next())Ht=Q(F,Ht.value,K),Ht!==null&&(I=y(Ht,I,bt),Ot===null?lt=Ht:Ot.sibling=Ht,Ot=Ht);return Xt&&io(F,bt),lt}for(pt=u(pt);!Ht.done;bt++,Ht=z.next())Ht=G(pt,F,bt,Ht.value,K),Ht!==null&&(i&&Ht.alternate!==null&&pt.delete(Ht.key===null?bt:Ht.key),I=y(Ht,I,bt),Ot===null?lt=Ht:Ot.sibling=Ht,Ot=Ht);return i&&pt.forEach(function(vN){return n(F,vN)}),Xt&&io(F,bt),lt}function ee(F,I,z,K){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:t:{for(var lt=z.key;I!==null;){if(I.key===lt){if(lt=z.type,lt===S){if(I.tag===7){o(F,I.sibling),K=m(I,z.props.children),K.return=F,F=K;break t}}else if(I.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===$&&_1(lt)===I.type){o(F,I.sibling),K=m(I,z.props),Th(K,z),K.return=F,F=K;break t}o(F,I);break}else n(F,I);I=I.sibling}z.type===S?(K=to(z.props.children,F.mode,K,z.key),K.return=F,F=K):(K=Lp(z.type,z.key,z.props,null,F.mode,K),Th(K,z),K.return=F,F=K)}return w(F);case A:t:{for(lt=z.key;I!==null;){if(I.key===lt)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){o(F,I.sibling),K=m(I,z.children||[]),K.return=F,F=K;break t}else{o(F,I);break}else n(F,I);I=I.sibling}K=Hy(z,F.mode,K),K.return=F,F=K}return w(F);case $:return lt=z._init,z=lt(z._payload),ee(F,I,z,K)}if(zt(z))return vt(F,I,z,K);if(St(z)){if(lt=St(z),typeof lt!="function")throw Error(s(150));return z=lt.call(z),mt(F,I,z,K)}if(typeof z.then=="function")return ee(F,I,$p(z),K);if(z.$$typeof===N)return ee(F,I,jp(F,z),K);Wp(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(o(F,I.sibling),K=m(I,z),K.return=F,F=K):(o(F,I),K=Vy(z,F.mode,K),K.return=F,F=K),w(F)):o(F,I)}return function(F,I,z,K){try{wh=0;var lt=ee(F,I,z,K);return nc=null,lt}catch(pt){if(pt===ph||pt===Bp)throw pt;var Ot=$i(29,pt,null,F.mode);return Ot.lanes=K,Ot.return=F,Ot}finally{}}}var ac=C1(!0),M1=C1(!1),ws=W(null),dn=null;function Xa(i){var n=i.alternate;Z(je,je.current&1),Z(ws,i),dn===null&&(n===null||tc.current!==null||n.memoizedState!==null)&&(dn=i)}function R1(i){if(i.tag===22){if(Z(je,je.current),Z(ws,i),dn===null){var n=i.alternate;n!==null&&n.memoizedState!==null&&(dn=i)}}else Ya()}function Ya(){Z(je,je.current),Z(ws,ws.current)}function Kn(i){J(ws),dn===i&&(dn=null),J(je)}var je=W(0);function Qp(i){for(var n=i;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ub(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function x0(i,n,o,u){n=i.memoizedState,o=o(u,n),o=o==null?n:g({},n,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var S0={enqueueSetState:function(i,n,o){i=i._reactInternals;var u=Ji(),m=Ua(u);m.payload=n,o!=null&&(m.callback=o),n=Ga(i,m,u),n!==null&&(ts(n,i,u),gh(n,i,u))},enqueueReplaceState:function(i,n,o){i=i._reactInternals;var u=Ji(),m=Ua(u);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=Ga(i,m,u),n!==null&&(ts(n,i,u),gh(n,i,u))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var o=Ji(),u=Ua(o);u.tag=2,n!=null&&(u.callback=n),n=Ga(i,u,o),n!==null&&(ts(n,i,o),gh(n,i,o))}};function D1(i,n,o,u,m,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,w):n.prototype&&n.prototype.isPureReactComponent?!rh(o,u)||!rh(m,y):!0}function N1(i,n,o,u){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==i&&S0.enqueueReplaceState(n,n.state,null)}function co(i,n){var o=n;if("ref"in n){o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}if(i=i.defaultProps){o===n&&(o=g({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var Zp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function L1(i){Zp(i)}function O1(i){console.error(i)}function k1(i){Zp(i)}function Jp(i,n){try{var o=i.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function P1(i,n,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function w0(i,n,o){return o=Ua(o),o.tag=3,o.payload={element:null},o.callback=function(){Jp(i,n)},o}function j1(i){return i=Ua(i),i.tag=3,i}function I1(i,n,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;i.payload=function(){return m(y)},i.callback=function(){P1(n,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){P1(n,o,u),typeof m!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function vD(i,n,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=o.alternate,n!==null&&hh(n,o,m,!0),o=ws.current,o!==null){switch(o.tag){case 13:return dn===null?Y0():o.alternate===null&&Ae===0&&(Ae=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Zy?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([u]):n.add(u),$0(i,u,m)),!1;case 22:return o.flags|=65536,u===Zy?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([u]):o.add(u)),$0(i,u,m)),!1}throw Error(s(435,o.tag))}return $0(i,u,m),Y0(),!1}if(Xt)return n=ws.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,u!==qy&&(i=Error(s(422),{cause:u}),uh(vs(i,o)))):(u!==qy&&(n=Error(s(423),{cause:u}),uh(vs(n,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=vs(u,o),m=w0(i.stateNode,u,m),e0(i,m),Ae!==4&&(Ae=2)),!1;var y=Error(s(520),{cause:u});if(y=vs(y,o),Nh===null?Nh=[y]:Nh.push(y),Ae!==4&&(Ae=2),n===null)return!0;u=vs(u,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=w0(o.stateNode,u,i),e0(o,i),!1;case 1:if(n=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ja===null||!Ja.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=j1(m),I1(m,i,o,u),e0(o,m),!1}o=o.return}while(o!==null);return!1}var B1=Error(s(461)),Ue=!1;function Ze(i,n,o,u){n.child=i===null?M1(n,null,o,u):ac(n,i.child,o,u)}function F1(i,n,o,u,m){o=o.render;var y=n.ref;if("ref"in u){var w={};for(var C in u)C!=="ref"&&(w[C]=u[C])}else w=u;return ro(n),u=r0(i,n,o,w,y,m),C=o0(),i!==null&&!Ue?(l0(i,n,m),$n(i,n,m)):(Xt&&C&&Uy(n),n.flags|=1,Ze(i,n,u,m),n.child)}function z1(i,n,o,u,m){if(i===null){var y=o.type;return typeof y=="function"&&!zy(y)&&y.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=y,V1(i,n,y,u,m)):(i=Lp(o.type,null,u,n,n.mode,m),i.ref=n.ref,i.return=n,n.child=i)}if(y=i.child,!N0(i,m)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:rh,o(w,u)&&i.ref===n.ref)return $n(i,n,m)}return n.flags|=1,i=Hn(y,u),i.ref=n.ref,i.return=n,n.child=i}function V1(i,n,o,u,m){if(i!==null){var y=i.memoizedProps;if(rh(y,u)&&i.ref===n.ref)if(Ue=!1,n.pendingProps=u=y,N0(i,m))(i.flags&131072)!==0&&(Ue=!0);else return n.lanes=i.lanes,$n(i,n,m)}return T0(i,n,o,u,m)}function H1(i,n,o){var u=n.pendingProps,m=u.children,y=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,i!==null){for(m=n.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;n.childLanes=y&~u}else n.childLanes=0,n.child=null;return U1(i,n,u,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ip(n,y!==null?y.cachePool:null),y!==null?VS(n,y):s0(),R1(n);else return n.lanes=n.childLanes=536870912,U1(i,n,y!==null?y.baseLanes|o:o,o)}else y!==null?(Ip(n,y.cachePool),VS(n,y),Ya(),n.memoizedState=null):(i!==null&&Ip(n,null),s0(),Ya());return Ze(i,n,m,o),n.child}function U1(i,n,o,u){var m=Qy();return m=m===null?null:{parent:Pe._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},i!==null&&Ip(n,null),s0(),R1(n),i!==null&&hh(i,n,u,!0),null}function tm(i,n){var o=n.ref;if(o===null)i!==null&&i.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(n.flags|=4194816)}}function T0(i,n,o,u,m){return ro(n),o=r0(i,n,o,u,void 0,m),u=o0(),i!==null&&!Ue?(l0(i,n,m),$n(i,n,m)):(Xt&&u&&Uy(n),n.flags|=1,Ze(i,n,o,m),n.child)}function G1(i,n,o,u,m,y){return ro(n),n.updateQueue=null,o=US(n,u,o,m),HS(i),u=o0(),i!==null&&!Ue?(l0(i,n,y),$n(i,n,y)):(Xt&&u&&Uy(n),n.flags|=1,Ze(i,n,o,y),n.child)}function q1(i,n,o,u,m){if(ro(n),n.stateNode===null){var y=$l,w=o.contextType;typeof w=="object"&&w!==null&&(y=ui(w)),y=new o(u,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=S0,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=u,y.state=n.memoizedState,y.refs={},Jy(n),w=o.contextType,y.context=typeof w=="object"&&w!==null?ui(w):$l,y.state=n.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(x0(n,o,w,u),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&S0.enqueueReplaceState(y,y.state,null),bh(n,u,y,m),yh(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(i===null){y=n.stateNode;var C=n.memoizedProps,O=co(o,C);y.props=O;var V=y.context,Y=o.contextType;w=$l,typeof Y=="object"&&Y!==null&&(w=ui(Y));var Q=o.getDerivedStateFromProps;Y=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||V!==w)&&N1(n,y,u,w),Ha=!1;var H=n.memoizedState;y.state=H,bh(n,u,y,m),yh(),V=n.memoizedState,C||H!==V||Ha?(typeof Q=="function"&&(x0(n,o,Q,u),V=n.memoizedState),(O=Ha||D1(n,o,O,u,H,V,w))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=V),y.props=u,y.state=V,y.context=w,u=O):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,t0(i,n),w=n.memoizedProps,Y=co(o,w),y.props=Y,Q=n.pendingProps,H=y.context,V=o.contextType,O=$l,typeof V=="object"&&V!==null&&(O=ui(V)),C=o.getDerivedStateFromProps,(V=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Q||H!==O)&&N1(n,y,u,O),Ha=!1,H=n.memoizedState,y.state=H,bh(n,u,y,m),yh();var G=n.memoizedState;w!==Q||H!==G||Ha||i!==null&&i.dependencies!==null&&Pp(i.dependencies)?(typeof C=="function"&&(x0(n,o,C,u),G=n.memoizedState),(Y=Ha||D1(n,o,Y,u,H,G,O)||i!==null&&i.dependencies!==null&&Pp(i.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,G,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,G,O)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=G),y.props=u,y.state=G,y.context=O,u=Y):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(n.flags|=1024),u=!1)}return y=u,tm(i,n),u=(n.flags&128)!==0,y||u?(y=n.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,i!==null&&u?(n.child=ac(n,i.child,null,m),n.child=ac(n,null,o,m)):Ze(i,n,o,m),n.memoizedState=y.state,i=n.child):i=$n(i,n,m),i}function X1(i,n,o,u){return ch(),n.flags|=256,Ze(i,n,o,u),n.child}var E0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _0(i){return{baseLanes:i,cachePool:OS()}}function C0(i,n,o){return i=i!==null?i.childLanes&~o:0,n&&(i|=Ts),i}function Y1(i,n,o){var u=n.pendingProps,m=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(je.current&2)!==0),w&&(m=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,i===null){if(Xt){if(m?Xa(n):Ya(),Xt){var C=ve,O;if(O=C){t:{for(O=C,C=hn;O.nodeType!==8;){if(!C){C=null;break t}if(O=Gs(O.nextSibling),O===null){C=null;break t}}C=O}C!==null?(n.memoizedState={dehydrated:C,treeContext:eo!==null?{id:Un,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},O=$i(18,null,null,0),O.stateNode=C,O.return=n,n.child=O,Si=n,ve=null,O=!0):O=!1}O||no(n)}if(C=n.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ub(C)?n.lanes=32:n.lanes=536870912,null;Kn(n)}return C=u.children,u=u.fallback,m?(Ya(),m=n.mode,C=em({mode:"hidden",children:C},m),u=to(u,m,o,null),C.return=n,u.return=n,C.sibling=u,n.child=C,m=n.child,m.memoizedState=_0(o),m.childLanes=C0(i,w,o),n.memoizedState=E0,u):(Xa(n),M0(n,C))}if(O=i.memoizedState,O!==null&&(C=O.dehydrated,C!==null)){if(y)n.flags&256?(Xa(n),n.flags&=-257,n=R0(i,n,o)):n.memoizedState!==null?(Ya(),n.child=i.child,n.flags|=128,n=null):(Ya(),m=u.fallback,C=n.mode,u=em({mode:"visible",children:u.children},C),m=to(m,C,o,null),m.flags|=2,u.return=n,m.return=n,u.sibling=m,n.child=u,ac(n,i.child,null,o),u=n.child,u.memoizedState=_0(o),u.childLanes=C0(i,w,o),n.memoizedState=E0,n=m);else if(Xa(n),ub(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var V=w.dgst;w=V,u=Error(s(419)),u.stack="",u.digest=w,uh({value:u,source:null,stack:null}),n=R0(i,n,o)}else if(Ue||hh(i,n,o,!1),w=(o&i.childLanes)!==0,Ue||w){if(w=re,w!==null&&(u=o&-o,u=(u&42)!==0?1:hy(u),u=(u&(w.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,Kl(i,u),ts(w,i,u),B1;C.data==="$?"||Y0(),n=R0(i,n,o)}else C.data==="$?"?(n.flags|=192,n.child=i.child,n=null):(i=O.treeContext,ve=Gs(C.nextSibling),Si=n,Xt=!0,so=null,hn=!1,i!==null&&(xs[Ss++]=Un,xs[Ss++]=Gn,xs[Ss++]=eo,Un=i.id,Gn=i.overflow,eo=n),n=M0(n,u.children),n.flags|=4096);return n}return m?(Ya(),m=u.fallback,C=n.mode,O=i.child,V=O.sibling,u=Hn(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,V!==null?m=Hn(V,m):(m=to(m,C,o,null),m.flags|=2),m.return=n,u.return=n,u.sibling=m,n.child=u,u=m,m=n.child,C=i.child.memoizedState,C===null?C=_0(o):(O=C.cachePool,O!==null?(V=Pe._currentValue,O=O.parent!==V?{parent:V,pool:V}:O):O=OS(),C={baseLanes:C.baseLanes|o,cachePool:O}),m.memoizedState=C,m.childLanes=C0(i,w,o),n.memoizedState=E0,u):(Xa(n),o=i.child,i=o.sibling,o=Hn(o,{mode:"visible",children:u.children}),o.return=n,o.sibling=null,i!==null&&(w=n.deletions,w===null?(n.deletions=[i],n.flags|=16):w.push(i)),n.child=o,n.memoizedState=null,o)}function M0(i,n){return n=em({mode:"visible",children:n},i.mode),n.return=i,i.child=n}function em(i,n){return i=$i(22,i,null,n),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function R0(i,n,o){return ac(n,i.child,null,o),i=M0(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function K1(i,n,o){i.lanes|=n;var u=i.alternate;u!==null&&(u.lanes|=n),Yy(i.return,n,o)}function D0(i,n,o,u,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=m)}function $1(i,n,o){var u=n.pendingProps,m=u.revealOrder,y=u.tail;if(Ze(i,n,u.children,o),u=je.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&K1(i,o,n);else if(i.tag===19)K1(i,o,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Z(je,u),m){case"forwards":for(o=n.child,m=null;o!==null;)i=o.alternate,i!==null&&Qp(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=n.child,n.child=null):(m=o.sibling,o.sibling=null),D0(n,!1,m,o,y);break;case"backwards":for(o=null,m=n.child,n.child=null;m!==null;){if(i=m.alternate,i!==null&&Qp(i)===null){n.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}D0(n,!0,o,null,y);break;case"together":D0(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $n(i,n,o){if(i!==null&&(n.dependencies=i.dependencies),Za|=n.lanes,(o&n.childLanes)===0)if(i!==null){if(hh(i,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(i!==null&&n.child!==i.child)throw Error(s(153));if(n.child!==null){for(i=n.child,o=Hn(i,i.pendingProps),n.child=o,o.return=n;i.sibling!==null;)i=i.sibling,o=o.sibling=Hn(i,i.pendingProps),o.return=n;o.sibling=null}return n.child}function N0(i,n){return(i.lanes&n)!==0?!0:(i=i.dependencies,!!(i!==null&&Pp(i)))}function AD(i,n,o){switch(n.tag){case 3:qt(n,n.stateNode.containerInfo),Va(n,Pe,i.memoizedState.cache),ch();break;case 27:case 5:Yu(n);break;case 4:qt(n,n.stateNode.containerInfo);break;case 10:Va(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Xa(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Y1(i,n,o):(Xa(n),i=$n(i,n,o),i!==null?i.sibling:null);Xa(n);break;case 19:var m=(i.flags&128)!==0;if(u=(o&n.childLanes)!==0,u||(hh(i,n,o,!1),u=(o&n.childLanes)!==0),m){if(u)return $1(i,n,o);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Z(je,je.current),u)break;return null;case 22:case 23:return n.lanes=0,H1(i,n,o);case 24:Va(n,Pe,i.memoizedState.cache)}return $n(i,n,o)}function W1(i,n,o){if(i!==null)if(i.memoizedProps!==n.pendingProps)Ue=!0;else{if(!N0(i,o)&&(n.flags&128)===0)return Ue=!1,AD(i,n,o);Ue=(i.flags&131072)!==0}else Ue=!1,Xt&&(n.flags&1048576)!==0&&_S(n,kp,n.index);switch(n.lanes=0,n.tag){case 16:t:{i=n.pendingProps;var u=n.elementType,m=u._init;if(u=m(u._payload),n.type=u,typeof u=="function")zy(u)?(i=co(u,i),n.tag=1,n=q1(null,n,u,i,o)):(n.tag=0,n=T0(null,n,u,i,o));else{if(u!=null){if(m=u.$$typeof,m===j){n.tag=11,n=F1(null,n,u,i,o);break t}else if(m===q){n.tag=14,n=z1(null,n,u,i,o);break t}}throw n=Et(u)||u,Error(s(306,n,""))}}return n;case 0:return T0(i,n,n.type,n.pendingProps,o);case 1:return u=n.type,m=co(u,n.pendingProps),q1(i,n,u,m,o);case 3:t:{if(qt(n,n.stateNode.containerInfo),i===null)throw Error(s(387));u=n.pendingProps;var y=n.memoizedState;m=y.element,t0(i,n),bh(n,u,null,o);var w=n.memoizedState;if(u=w.cache,Va(n,Pe,u),u!==y.cache&&Ky(n,[Pe],o,!0),yh(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=X1(i,n,u,o);break t}else if(u!==m){m=vs(Error(s(424)),n),uh(m),n=X1(i,n,u,o);break t}else{switch(i=n.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ve=Gs(i.firstChild),Si=n,Xt=!0,so=null,hn=!0,o=M1(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ch(),u===m){n=$n(i,n,o);break t}Ze(i,n,u,o)}n=n.child}return n;case 26:return tm(i,n),i===null?(o=tT(n.type,null,n.pendingProps,null))?n.memoizedState=o:Xt||(o=n.type,i=n.pendingProps,u=mm(ct.current).createElement(o),u[ci]=n,u[Oi]=i,ti(u,o,i),He(u),n.stateNode=u):n.memoizedState=tT(n.type,i.memoizedProps,n.pendingProps,i.memoizedState),null;case 27:return Yu(n),i===null&&Xt&&(u=n.stateNode=Qw(n.type,n.pendingProps,ct.current),Si=n,hn=!0,m=ve,ir(n.type)?(hb=m,ve=Gs(u.firstChild)):ve=m),Ze(i,n,n.pendingProps.children,o),tm(i,n),i===null&&(n.flags|=4194304),n.child;case 5:return i===null&&Xt&&((m=u=ve)&&(u=KD(u,n.type,n.pendingProps,hn),u!==null?(n.stateNode=u,Si=n,ve=Gs(u.firstChild),hn=!1,m=!0):m=!1),m||no(n)),Yu(n),m=n.type,y=n.pendingProps,w=i!==null?i.memoizedProps:null,u=y.children,ob(m,y)?u=null:w!==null&&ob(m,w)&&(n.flags|=32),n.memoizedState!==null&&(m=r0(i,n,dD,null,null,o),zh._currentValue=m),tm(i,n),Ze(i,n,u,o),n.child;case 6:return i===null&&Xt&&((i=o=ve)&&(o=$D(o,n.pendingProps,hn),o!==null?(n.stateNode=o,Si=n,ve=null,i=!0):i=!1),i||no(n)),null;case 13:return Y1(i,n,o);case 4:return qt(n,n.stateNode.containerInfo),u=n.pendingProps,i===null?n.child=ac(n,null,u,o):Ze(i,n,u,o),n.child;case 11:return F1(i,n,n.type,n.pendingProps,o);case 7:return Ze(i,n,n.pendingProps,o),n.child;case 8:return Ze(i,n,n.pendingProps.children,o),n.child;case 12:return Ze(i,n,n.pendingProps.children,o),n.child;case 10:return u=n.pendingProps,Va(n,n.type,u.value),Ze(i,n,u.children,o),n.child;case 9:return m=n.type._context,u=n.pendingProps.children,ro(n),m=ui(m),u=u(m),n.flags|=1,Ze(i,n,u,o),n.child;case 14:return z1(i,n,n.type,n.pendingProps,o);case 15:return V1(i,n,n.type,n.pendingProps,o);case 19:return $1(i,n,o);case 31:return u=n.pendingProps,o=n.mode,u={mode:u.mode,children:u.children},i===null?(o=em(u,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Hn(i.child,u),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return H1(i,n,o);case 24:return ro(n),u=ui(Pe),i===null?(m=Qy(),m===null&&(m=re,y=$y(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),n.memoizedState={parent:u,cache:m},Jy(n),Va(n,Pe,m)):((i.lanes&o)!==0&&(t0(i,n),bh(n,null,null,o),yh()),m=i.memoizedState,y=n.memoizedState,m.parent!==u?(m={parent:u,cache:u},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Va(n,Pe,u)):(u=y.cache,Va(n,Pe,u),u!==m.cache&&Ky(n,[Pe],o,!0))),Ze(i,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Wn(i){i.flags|=4}function Q1(i,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!aT(n)){if(n=ws.current,n!==null&&((Ft&4194048)===Ft?dn!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||n!==dn))throw mh=Zy,kS;i.flags|=8192}}function im(i,n){n!==null&&(i.flags|=4),i.flags&16384&&(n=i.tag!==22?Rx():536870912,i.lanes|=n,cc|=n)}function Eh(i,n){if(!Xt)switch(i.tailMode){case"hidden":n=i.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function pe(i){var n=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(n)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,n}function xD(i,n,o){var u=n.pendingProps;switch(Gy(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(n),null;case 1:return pe(n),null;case 3:return o=n.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Xn(Pe),Vs(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(lh(n)?Wn(n):i===null||i.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,RS())),pe(n),null;case 26:return o=n.memoizedState,i===null?(Wn(n),o!==null?(pe(n),Q1(n,o)):(pe(n),n.flags&=-16777217)):o?o!==i.memoizedState?(Wn(n),pe(n),Q1(n,o)):(pe(n),n.flags&=-16777217):(i.memoizedProps!==u&&Wn(n),pe(n),n.flags&=-16777217),null;case 27:fp(n),o=ct.current;var m=n.type;if(i!==null&&n.stateNode!=null)i.memoizedProps!==u&&Wn(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return pe(n),null}i=ht.current,lh(n)?CS(n):(i=Qw(m,u,o),n.stateNode=i,Wn(n))}return pe(n),null;case 5:if(fp(n),o=n.type,i!==null&&n.stateNode!=null)i.memoizedProps!==u&&Wn(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return pe(n),null}if(i=ht.current,lh(n))CS(n);else{switch(m=mm(ct.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}i[ci]=n,i[Oi]=u;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=i;t:switch(ti(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Wn(n)}}return pe(n),n.flags&=-16777217,null;case 6:if(i&&n.stateNode!=null)i.memoizedProps!==u&&Wn(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(s(166));if(i=ct.current,lh(n)){if(i=n.stateNode,o=n.memoizedProps,u=null,m=Si,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[ci]=n,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Gw(i.nodeValue,o)),i||no(n)}else i=mm(i).createTextNode(u),i[ci]=n,n.stateNode=i}return pe(n),null;case 13:if(u=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=lh(n),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[ci]=n}else ch(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),m=!1}else m=RS(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Kn(n),n):(Kn(n),null)}if(Kn(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=n.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return o!==i&&o&&(n.child.flags|=8192),im(n,n.updateQueue),pe(n),null;case 4:return Vs(),i===null&&ib(n.stateNode.containerInfo),pe(n),null;case 10:return Xn(n.type),pe(n),null;case 19:if(J(je),m=n.memoizedState,m===null)return pe(n),null;if(u=(n.flags&128)!==0,y=m.rendering,y===null)if(u)Eh(m,!1);else{if(Ae!==0||i!==null&&(i.flags&128)!==0)for(i=n.child;i!==null;){if(y=Qp(i),y!==null){for(n.flags|=128,Eh(m,!1),i=y.updateQueue,n.updateQueue=i,im(n,i),n.subtreeFlags=0,i=o,o=n.child;o!==null;)ES(o,i),o=o.sibling;return Z(je,je.current&1|2),n.child}i=i.sibling}m.tail!==null&&un()>am&&(n.flags|=128,u=!0,Eh(m,!1),n.lanes=4194304)}else{if(!u)if(i=Qp(y),i!==null){if(n.flags|=128,u=!0,i=i.updateQueue,n.updateQueue=i,im(n,i),Eh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Xt)return pe(n),null}else 2*un()-m.renderingStartTime>am&&o!==536870912&&(n.flags|=128,u=!0,Eh(m,!1),n.lanes=4194304);m.isBackwards?(y.sibling=n.child,n.child=y):(i=m.last,i!==null?i.sibling=y:n.child=y,m.last=y)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=un(),n.sibling=null,i=je.current,Z(je,u?i&1|2:i&1),n):(pe(n),null);case 22:case 23:return Kn(n),n0(),u=n.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(o&536870912)!==0&&(n.flags&128)===0&&(pe(n),n.subtreeFlags&6&&(n.flags|=8192)):pe(n),o=n.updateQueue,o!==null&&im(n,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==o&&(n.flags|=2048),i!==null&&J(oo),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xn(Pe),pe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function SD(i,n){switch(Gy(n),n.tag){case 1:return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return Xn(Pe),Vs(),i=n.flags,(i&65536)!==0&&(i&128)===0?(n.flags=i&-65537|128,n):null;case 26:case 27:case 5:return fp(n),null;case 13:if(Kn(n),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ch()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return J(je),null;case 4:return Vs(),null;case 10:return Xn(n.type),null;case 22:case 23:return Kn(n),n0(),i!==null&&J(oo),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 24:return Xn(Pe),null;case 25:return null;default:return null}}function Z1(i,n){switch(Gy(n),n.tag){case 3:Xn(Pe),Vs();break;case 26:case 27:case 5:fp(n);break;case 4:Vs();break;case 13:Kn(n);break;case 19:J(je);break;case 10:Xn(n.type);break;case 22:case 23:Kn(n),n0(),i!==null&&J(oo);break;case 24:Xn(Pe)}}function _h(i,n){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==m)}}catch(C){ne(n,n.return,C)}}function Ka(i,n,o){try{var u=n.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&i)===i){var w=u.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,m=n;var O=o,V=C;try{V()}catch(Y){ne(m,O,Y)}}}u=u.next}while(u!==y)}}catch(Y){ne(n,n.return,Y)}}function J1(i){var n=i.updateQueue;if(n!==null){var o=i.stateNode;try{zS(n,o)}catch(u){ne(i,i.return,u)}}}function tw(i,n,o){o.props=co(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ne(i,n,u)}}function Ch(i,n){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){ne(i,n,m)}}function fn(i,n){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){ne(i,n,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ne(i,n,m)}else o.current=null}function ew(i){var n=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){ne(i,i.return,m)}}function L0(i,n,o){try{var u=i.stateNode;UD(u,i.type,o,n),u[Oi]=n}catch(m){ne(i,i.return,m)}}function iw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ir(i.type)||i.tag===4}function O0(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||iw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ir(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function k0(i,n,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(i),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=pm));else if(u!==4&&(u===27&&ir(i.type)&&(o=i.stateNode,n=null),i=i.child,i!==null))for(k0(i,n,o),i=i.sibling;i!==null;)k0(i,n,o),i=i.sibling}function sm(i,n,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?o.insertBefore(i,n):o.appendChild(i);else if(u!==4&&(u===27&&ir(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(sm(i,n,o),i=i.sibling;i!==null;)sm(i,n,o),i=i.sibling}function sw(i){var n=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);ti(n,u,o),n[ci]=i,n[Oi]=o}catch(y){ne(i,i.return,y)}}var Qn=!1,Te=!1,P0=!1,nw=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function wD(i,n){if(i=i.containerInfo,ab=xm,i=mS(i),Oy(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var w=0,C=-1,O=-1,V=0,Y=0,Q=i,H=null;e:for(;;){for(var G;Q!==o||m!==0&&Q.nodeType!==3||(C=w+m),Q!==y||u!==0&&Q.nodeType!==3||(O=w+u),Q.nodeType===3&&(w+=Q.nodeValue.length),(G=Q.firstChild)!==null;)H=Q,Q=G;for(;;){if(Q===i)break e;if(H===o&&++V===m&&(C=w),H===y&&++Y===u&&(O=w),(G=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=G}o=C===-1||O===-1?null:{start:C,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(rb={focusedElem:i,selectionRange:o},xm=!1,Ge=n;Ge!==null;)if(n=Ge,i=n.child,(n.subtreeFlags&1024)!==0&&i!==null)i.return=n,Ge=i;else for(;Ge!==null;){switch(n=Ge,y=n.alternate,i=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=n,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var vt=co(o.type,m,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(vt,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(mt){ne(o,o.return,mt)}}break;case 3:if((i&1024)!==0){if(i=n.stateNode.containerInfo,o=i.nodeType,o===9)cb(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":cb(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=n.sibling,i!==null){i.return=n.return,Ge=i;break}Ge=n.return}}function aw(i,n,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:$a(i,o),u&4&&_h(5,o);break;case 1:if($a(i,o),u&4)if(i=o.stateNode,n===null)try{i.componentDidMount()}catch(w){ne(o,o.return,w)}else{var m=co(o.type,n.memoizedProps);n=n.memoizedState;try{i.componentDidUpdate(m,n,i.__reactInternalSnapshotBeforeUpdate)}catch(w){ne(o,o.return,w)}}u&64&&J1(o),u&512&&Ch(o,o.return);break;case 3:if($a(i,o),u&64&&(i=o.updateQueue,i!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{zS(i,n)}catch(w){ne(o,o.return,w)}}break;case 27:n===null&&u&4&&sw(o);case 26:case 5:$a(i,o),n===null&&u&4&&ew(o),u&512&&Ch(o,o.return);break;case 12:$a(i,o);break;case 13:$a(i,o),u&4&&lw(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=LD.bind(null,o),WD(i,o))));break;case 22:if(u=o.memoizedState!==null||Qn,!u){n=n!==null&&n.memoizedState!==null||Te,m=Qn;var y=Te;Qn=u,(Te=n)&&!y?Wa(i,o,(o.subtreeFlags&8772)!==0):$a(i,o),Qn=m,Te=y}break;case 30:break;default:$a(i,o)}}function rw(i){var n=i.alternate;n!==null&&(i.alternate=null,rw(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&py(n)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,ji=!1;function Zn(i,n,o){for(o=o.child;o!==null;)ow(i,n,o),o=o.sibling}function ow(i,n,o){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(Ku,o)}catch{}switch(o.tag){case 26:Te||fn(o,n),Zn(i,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Te||fn(o,n);var u=ce,m=ji;ir(o.type)&&(ce=o.stateNode,ji=!1),Zn(i,n,o),jh(o.stateNode),ce=u,ji=m;break;case 5:Te||fn(o,n);case 6:if(u=ce,m=ji,ce=null,Zn(i,n,o),ce=u,ji=m,ce!==null)if(ji)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(o.stateNode)}catch(y){ne(o,n,y)}else try{ce.removeChild(o.stateNode)}catch(y){ne(o,n,y)}break;case 18:ce!==null&&(ji?(i=ce,$w(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Gh(i)):$w(ce,o.stateNode));break;case 4:u=ce,m=ji,ce=o.stateNode.containerInfo,ji=!0,Zn(i,n,o),ce=u,ji=m;break;case 0:case 11:case 14:case 15:Te||Ka(2,o,n),Te||Ka(4,o,n),Zn(i,n,o);break;case 1:Te||(fn(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"&&tw(o,n,u)),Zn(i,n,o);break;case 21:Zn(i,n,o);break;case 22:Te=(u=Te)||o.memoizedState!==null,Zn(i,n,o),Te=u;break;default:Zn(i,n,o)}}function lw(i,n){if(n.memoizedState===null&&(i=n.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Gh(i)}catch(o){ne(n,n.return,o)}}function TD(i){switch(i.tag){case 13:case 19:var n=i.stateNode;return n===null&&(n=i.stateNode=new nw),n;case 22:return i=i.stateNode,n=i._retryCache,n===null&&(n=i._retryCache=new nw),n;default:throw Error(s(435,i.tag))}}function j0(i,n){var o=TD(i);n.forEach(function(u){var m=OD.bind(null,i,u);o.has(u)||(o.add(u),u.then(m,m))})}function Wi(i,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=i,w=n,C=w;t:for(;C!==null;){switch(C.tag){case 27:if(ir(C.type)){ce=C.stateNode,ji=!1;break t}break;case 5:ce=C.stateNode,ji=!1;break t;case 3:case 4:ce=C.stateNode.containerInfo,ji=!0;break t}C=C.return}if(ce===null)throw Error(s(160));ow(y,w,m),ce=null,ji=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)cw(n,i),n=n.sibling}var Us=null;function cw(i,n){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wi(n,i),Qi(i),u&4&&(Ka(3,i,i.return),_h(3,i),Ka(5,i,i.return));break;case 1:Wi(n,i),Qi(i),u&512&&(Te||o===null||fn(o,o.return)),u&64&&Qn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Us;if(Wi(n,i),Qi(i),u&512&&(Te||o===null||fn(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Qu]||y[ci]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),ti(y,u,o),y[ci]=i,He(y),u=y;break t;case"link":var w=sT("link","href",m).get(u+(o.href||""));if(w){for(var C=0;C<w.length;C++)if(y=w[C],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(C,1);break e}}y=m.createElement(u),ti(y,u,o),m.head.appendChild(y);break;case"meta":if(w=sT("meta","content",m).get(u+(o.content||""))){for(C=0;C<w.length;C++)if(y=w[C],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(C,1);break e}}y=m.createElement(u),ti(y,u,o),m.head.appendChild(y);break;default:throw Error(s(468,u))}y[ci]=i,He(y),u=y}i.stateNode=u}else nT(m,i.type,i.stateNode);else i.stateNode=iT(m,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?nT(m,i.type,i.stateNode):iT(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&L0(i,i.memoizedProps,o.memoizedProps)}break;case 27:Wi(n,i),Qi(i),u&512&&(Te||o===null||fn(o,o.return)),o!==null&&u&4&&L0(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Wi(n,i),Qi(i),u&512&&(Te||o===null||fn(o,o.return)),i.flags&32){m=i.stateNode;try{Vl(m,"")}catch(G){ne(i,i.return,G)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,L0(i,m,o!==null?o.memoizedProps:m)),u&1024&&(P0=!0);break;case 6:if(Wi(n,i),Qi(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(G){ne(i,i.return,G)}}break;case 3:if(bm=null,m=Us,Us=gm(n.containerInfo),Wi(n,i),Us=m,Qi(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Gh(n.containerInfo)}catch(G){ne(i,i.return,G)}P0&&(P0=!1,uw(i));break;case 4:u=Us,Us=gm(i.stateNode.containerInfo),Wi(n,i),Qi(i),Us=u;break;case 12:Wi(n,i),Qi(i);break;case 13:Wi(n,i),Qi(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(H0=un()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,j0(i,u)));break;case 22:m=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,V=Qn,Y=Te;if(Qn=V||m,Te=Y||O,Wi(n,i),Te=Y,Qn=V,Qi(i),u&8192)t:for(n=i.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(o===null||O||Qn||Te||uo(i)),o=null,n=i;;){if(n.tag===5||n.tag===26){if(o===null){O=o=n;try{if(y=O.stateNode,m)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=O.stateNode;var Q=O.memoizedProps.style,H=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){ne(O,O.return,G)}}}else if(n.tag===6){if(o===null){O=n;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(G){ne(O,O.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===i)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,j0(i,o))));break;case 19:Wi(n,i),Qi(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,j0(i,u)));break;case 30:break;case 21:break;default:Wi(n,i),Qi(i)}}function Qi(i){var n=i.flags;if(n&2){try{for(var o,u=i.return;u!==null;){if(iw(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=O0(i);sm(i,y,m);break;case 5:var w=o.stateNode;o.flags&32&&(Vl(w,""),o.flags&=-33);var C=O0(i);sm(i,C,w);break;case 3:case 4:var O=o.stateNode.containerInfo,V=O0(i);k0(i,V,O);break;default:throw Error(s(161))}}catch(Y){ne(i,i.return,Y)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function uw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var n=i;uw(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),i=i.sibling}}function $a(i,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)aw(i,n.alternate,n),n=n.sibling}function uo(i){for(i=i.child;i!==null;){var n=i;switch(n.tag){case 0:case 11:case 14:case 15:Ka(4,n,n.return),uo(n);break;case 1:fn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&tw(n,n.return,o),uo(n);break;case 27:jh(n.stateNode);case 26:case 5:fn(n,n.return),uo(n);break;case 22:n.memoizedState===null&&uo(n);break;case 30:uo(n);break;default:uo(n)}i=i.sibling}}function Wa(i,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,m=i,y=n,w=y.flags;switch(y.tag){case 0:case 11:case 15:Wa(m,y,o),_h(4,y);break;case 1:if(Wa(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(V){ne(u,u.return,V)}if(u=y,m=u.updateQueue,m!==null){var C=u.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)FS(O[m],C)}catch(V){ne(u,u.return,V)}}o&&w&64&&J1(y),Ch(y,y.return);break;case 27:sw(y);case 26:case 5:Wa(m,y,o),o&&u===null&&w&4&&ew(y),Ch(y,y.return);break;case 12:Wa(m,y,o);break;case 13:Wa(m,y,o),o&&w&4&&lw(m,y);break;case 22:y.memoizedState===null&&Wa(m,y,o),Ch(y,y.return);break;case 30:break;default:Wa(m,y,o)}n=n.sibling}}function I0(i,n){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&dh(o))}function B0(i,n){i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&dh(i))}function pn(i,n,o,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hw(i,n,o,u),n=n.sibling}function hw(i,n,o,u){var m=n.flags;switch(n.tag){case 0:case 11:case 15:pn(i,n,o,u),m&2048&&_h(9,n);break;case 1:pn(i,n,o,u);break;case 3:pn(i,n,o,u),m&2048&&(i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&dh(i)));break;case 12:if(m&2048){pn(i,n,o,u),i=n.stateNode;try{var y=n.memoizedProps,w=y.id,C=y.onPostCommit;typeof C=="function"&&C(w,n.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){ne(n,n.return,O)}}else pn(i,n,o,u);break;case 13:pn(i,n,o,u);break;case 23:break;case 22:y=n.stateNode,w=n.alternate,n.memoizedState!==null?y._visibility&2?pn(i,n,o,u):Mh(i,n):y._visibility&2?pn(i,n,o,u):(y._visibility|=2,rc(i,n,o,u,(n.subtreeFlags&10256)!==0)),m&2048&&I0(w,n);break;case 24:pn(i,n,o,u),m&2048&&B0(n.alternate,n);break;default:pn(i,n,o,u)}}function rc(i,n,o,u,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=i,w=n,C=o,O=u,V=w.flags;switch(w.tag){case 0:case 11:case 15:rc(y,w,C,O,m),_h(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?rc(y,w,C,O,m):Mh(y,w):(Y._visibility|=2,rc(y,w,C,O,m)),m&&V&2048&&I0(w.alternate,w);break;case 24:rc(y,w,C,O,m),m&&V&2048&&B0(w.alternate,w);break;default:rc(y,w,C,O,m)}n=n.sibling}}function Mh(i,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=i,u=n,m=u.flags;switch(u.tag){case 22:Mh(o,u),m&2048&&I0(u.alternate,u);break;case 24:Mh(o,u),m&2048&&B0(u.alternate,u);break;default:Mh(o,u)}n=n.sibling}}var Rh=8192;function oc(i){if(i.subtreeFlags&Rh)for(i=i.child;i!==null;)dw(i),i=i.sibling}function dw(i){switch(i.tag){case 26:oc(i),i.flags&Rh&&i.memoizedState!==null&&cN(Us,i.memoizedState,i.memoizedProps);break;case 5:oc(i);break;case 3:case 4:var n=Us;Us=gm(i.stateNode.containerInfo),oc(i),Us=n;break;case 22:i.memoizedState===null&&(n=i.alternate,n!==null&&n.memoizedState!==null?(n=Rh,Rh=16777216,oc(i),Rh=n):oc(i));break;default:oc(i)}}function fw(i){var n=i.alternate;if(n!==null&&(i=n.child,i!==null)){n.child=null;do n=i.sibling,i.sibling=null,i=n;while(i!==null)}}function Dh(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];Ge=u,mw(u,i)}fw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pw(i),i=i.sibling}function pw(i){switch(i.tag){case 0:case 11:case 15:Dh(i),i.flags&2048&&Ka(9,i,i.return);break;case 3:Dh(i);break;case 12:Dh(i);break;case 22:var n=i.stateNode;i.memoizedState!==null&&n._visibility&2&&(i.return===null||i.return.tag!==13)?(n._visibility&=-3,nm(i)):Dh(i);break;default:Dh(i)}}function nm(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];Ge=u,mw(u,i)}fw(i)}for(i=i.child;i!==null;){switch(n=i,n.tag){case 0:case 11:case 15:Ka(8,n,n.return),nm(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,nm(n));break;default:nm(n)}i=i.sibling}}function mw(i,n){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:Ka(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:dh(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ge=u;else t:for(o=i;Ge!==null;){u=Ge;var m=u.sibling,y=u.return;if(rw(u),u===o){Ge=null;break t}if(m!==null){m.return=y,Ge=m;break t}Ge=y}}}var ED={getCacheForType:function(i){var n=ui(Pe),o=n.data.get(i);return o===void 0&&(o=i(),n.data.set(i,o)),o}},_D=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,jt=null,Ft=0,Wt=0,Zi=null,Qa=!1,lc=!1,F0=!1,Jn=0,Ae=0,Za=0,ho=0,z0=0,Ts=0,cc=0,Nh=null,Ii=null,V0=!1,H0=0,am=1/0,rm=null,Ja=null,Je=0,tr=null,uc=null,hc=0,U0=0,G0=null,gw=null,Lh=0,q0=null;function Ji(){if(($t&2)!==0&&Ft!==0)return Ft&-Ft;if(B.T!==null){var i=Zl;return i!==0?i:Z0()}return Lx()}function yw(){Ts===0&&(Ts=(Ft&536870912)===0||Xt?Mx():536870912);var i=ws.current;return i!==null&&(i.flags|=32),Ts}function ts(i,n,o){(i===re&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(dc(i,0),er(i,Ft,Ts,!1)),Wu(i,o),(($t&2)===0||i!==re)&&(i===re&&(($t&2)===0&&(ho|=o),Ae===4&&er(i,Ft,Ts,!1)),mn(i))}function bw(i,n,o){if(($t&6)!==0)throw Error(s(327));var u=!o&&(n&124)===0&&(n&i.expiredLanes)===0||$u(i,n),m=u?RD(i,n):K0(i,n,!0),y=u;do{if(m===0){lc&&!u&&er(i,n,0,!1);break}else{if(o=i.current.alternate,y&&!CD(o)){m=K0(i,n,!1),y=!1;continue}if(m===2){if(y=n,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;t:{var C=i;m=Nh;var O=C.current.memoizedState.isDehydrated;if(O&&(dc(C,w).flags|=256),w=K0(C,w,!1),w!==2){if(F0&&!O){C.errorRecoveryDisabledLanes|=y,ho|=y,m=4;break t}y=Ii,Ii=m,y!==null&&(Ii===null?Ii=y:Ii.push.apply(Ii,y))}m=w}if(y=!1,m!==2)continue}}if(m===1){dc(i,0),er(i,n,0,!0);break}t:{switch(u=i,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:er(u,n,Ts,!Qa);break t;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=H0+300-un(),10<m)){if(er(u,n,Ts,!Qa),yp(u,0,!0)!==0)break t;u.timeoutHandle=Yw(vw.bind(null,u,o,Ii,rm,V0,n,Ts,ho,cc,Qa,y,2,-0,0),m);break t}vw(u,o,Ii,rm,V0,n,Ts,ho,cc,Qa,y,0,-0,0)}}break}while(!0);mn(i)}function vw(i,n,o,u,m,y,w,C,O,V,Y,Q,H,G){if(i.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Fh={stylesheets:null,count:0,unsuspend:lN},dw(n),Q=uN(),Q!==null)){i.cancelPendingCommit=Q(_w.bind(null,i,n,y,o,u,m,w,C,O,Y,1,H,G)),er(i,y,w,!V);return}_w(i,n,y,o,u,m,w,C,O)}function CD(i){for(var n=i;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!Ki(y(),m))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(i,n,o,u){n&=~z0,n&=~ho,i.suspendedLanes|=n,i.pingedLanes&=~n,u&&(i.warmLanes|=n),u=i.expirationTimes;for(var m=n;0<m;){var y=31-Yi(m),w=1<<y;u[y]=-1,m&=~w}o!==0&&Dx(i,o,n)}function om(){return($t&6)===0?(Oh(0),!1):!0}function X0(){if(jt!==null){if(Wt===0)var i=jt.return;else i=jt,qn=ao=null,c0(i),nc=null,wh=0,i=jt;for(;i!==null;)Z1(i.alternate,i),i=i.return;jt=null}}function dc(i,n){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,qD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),X0(),re=i,jt=o=Hn(i.current,null),Ft=n,Wt=0,Zi=null,Qa=!1,lc=$u(i,n),F0=!1,cc=Ts=z0=ho=Za=Ae=0,Ii=Nh=null,V0=!1,(n&8)!==0&&(n|=n&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=n;0<u;){var m=31-Yi(u),y=1<<m;n|=i[m],u&=~y}return Jn=n,Rp(),o}function Aw(i,n){Dt=null,B.H=Kp,n===ph||n===Bp?(n=IS(),Wt=3):n===kS?(n=IS(),Wt=4):Wt=n===B1?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Zi=n,jt===null&&(Ae=1,Jp(i,vs(n,i.current)))}function xw(){var i=B.H;return B.H=Kp,i===null?Kp:i}function Sw(){var i=B.A;return B.A=ED,i}function Y0(){Ae=4,Qa||(Ft&4194048)!==Ft&&ws.current!==null||(lc=!0),(Za&134217727)===0&&(ho&134217727)===0||re===null||er(re,Ft,Ts,!1)}function K0(i,n,o){var u=$t;$t|=2;var m=xw(),y=Sw();(re!==i||Ft!==n)&&(rm=null,dc(i,n)),n=!1;var w=Ae;t:do try{if(Wt!==0&&jt!==null){var C=jt,O=Zi;switch(Wt){case 8:X0(),w=6;break t;case 3:case 2:case 9:case 6:ws.current===null&&(n=!0);var V=Wt;if(Wt=0,Zi=null,fc(i,C,O,V),o&&lc){w=0;break t}break;default:V=Wt,Wt=0,Zi=null,fc(i,C,O,V)}}MD(),w=Ae;break}catch(Y){Aw(i,Y)}while(!0);return n&&i.shellSuspendCounter++,qn=ao=null,$t=u,B.H=m,B.A=y,jt===null&&(re=null,Ft=0,Rp()),w}function MD(){for(;jt!==null;)ww(jt)}function RD(i,n){var o=$t;$t|=2;var u=xw(),m=Sw();re!==i||Ft!==n?(rm=null,am=un()+500,dc(i,n)):lc=$u(i,n);t:do try{if(Wt!==0&&jt!==null){n=jt;var y=Zi;e:switch(Wt){case 1:Wt=0,Zi=null,fc(i,n,y,1);break;case 2:case 9:if(PS(y)){Wt=0,Zi=null,Tw(n);break}n=function(){Wt!==2&&Wt!==9||re!==i||(Wt=7),mn(i)},y.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:PS(y)?(Wt=0,Zi=null,Tw(n)):(Wt=0,Zi=null,fc(i,n,y,7));break;case 5:var w=null;switch(jt.tag){case 26:w=jt.memoizedState;case 5:case 27:var C=jt;if(!w||aT(w)){Wt=0,Zi=null;var O=C.sibling;if(O!==null)jt=O;else{var V=C.return;V!==null?(jt=V,lm(V)):jt=null}break e}}Wt=0,Zi=null,fc(i,n,y,5);break;case 6:Wt=0,Zi=null,fc(i,n,y,6);break;case 8:X0(),Ae=6;break t;default:throw Error(s(462))}}DD();break}catch(Y){Aw(i,Y)}while(!0);return qn=ao=null,B.H=u,B.A=m,$t=o,jt!==null?0:(re=null,Ft=0,Rp(),Ae)}function DD(){for(;jt!==null&&!ZR();)ww(jt)}function ww(i){var n=W1(i.alternate,i,Jn);i.memoizedProps=i.pendingProps,n===null?lm(i):jt=n}function Tw(i){var n=i,o=n.alternate;switch(n.tag){case 15:case 0:n=G1(o,n,n.pendingProps,n.type,void 0,Ft);break;case 11:n=G1(o,n,n.pendingProps,n.type.render,n.ref,Ft);break;case 5:c0(n);default:Z1(o,n),n=jt=ES(n,Jn),n=W1(o,n,Jn)}i.memoizedProps=i.pendingProps,n===null?lm(i):jt=n}function fc(i,n,o,u){qn=ao=null,c0(n),nc=null,wh=0;var m=n.return;try{if(vD(i,m,n,o,Ft)){Ae=1,Jp(i,vs(o,i.current)),jt=null;return}}catch(y){if(m!==null)throw jt=m,y;Ae=1,Jp(i,vs(o,i.current)),jt=null;return}n.flags&32768?(Xt||u===1?i=!0:lc||(Ft&536870912)!==0?i=!1:(Qa=i=!0,(u===2||u===9||u===3||u===6)&&(u=ws.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ew(n,i)):lm(n)}function lm(i){var n=i;do{if((n.flags&32768)!==0){Ew(n,Qa);return}i=n.return;var o=xD(n.alternate,n,Jn);if(o!==null){jt=o;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=i}while(n!==null);Ae===0&&(Ae=5)}function Ew(i,n){do{var o=SD(i.alternate,i);if(o!==null){o.flags&=32767,jt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(i=i.sibling,i!==null)){jt=i;return}jt=i=o}while(i!==null);Ae=6,jt=null}function _w(i,n,o,u,m,y,w,C,O){i.cancelPendingCommit=null;do cm();while(Je!==0);if(($t&6)!==0)throw Error(s(327));if(n!==null){if(n===i.current)throw Error(s(177));if(y=n.lanes|n.childLanes,y|=By,l2(i,o,y,w,C,O),i===re&&(jt=re=null,Ft=0),uc=n,tr=i,hc=o,U0=y,G0=m,gw=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,kD(pp,function(){return Nw(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,m=X.p,X.p=2,w=$t,$t|=4;try{wD(i,n,o)}finally{$t=w,X.p=m,B.T=u}}Je=1,Cw(),Mw(),Rw()}}function Cw(){if(Je===1){Je=0;var i=tr,n=uc,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=X.p;X.p=2;var m=$t;$t|=4;try{cw(n,i);var y=rb,w=mS(i.containerInfo),C=y.focusedElem,O=y.selectionRange;if(w!==C&&C&&C.ownerDocument&&pS(C.ownerDocument.documentElement,C)){if(O!==null&&Oy(C)){var V=O.start,Y=O.end;if(Y===void 0&&(Y=V),"selectionStart"in C)C.selectionStart=V,C.selectionEnd=Math.min(Y,C.value.length);else{var Q=C.ownerDocument||document,H=Q&&Q.defaultView||window;if(H.getSelection){var G=H.getSelection(),vt=C.textContent.length,mt=Math.min(O.start,vt),ee=O.end===void 0?mt:Math.min(O.end,vt);!G.extend&&mt>ee&&(w=ee,ee=mt,mt=w);var F=fS(C,mt),I=fS(C,ee);if(F&&I&&(G.rangeCount!==1||G.anchorNode!==F.node||G.anchorOffset!==F.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var z=Q.createRange();z.setStart(F.node,F.offset),G.removeAllRanges(),mt>ee?(G.addRange(z),G.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),G.addRange(z))}}}}for(Q=[],G=C;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Q.length;C++){var K=Q[C];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}xm=!!ab,rb=ab=null}finally{$t=m,X.p=u,B.T=o}}i.current=n,Je=2}}function Mw(){if(Je===2){Je=0;var i=tr,n=uc,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=X.p;X.p=2;var m=$t;$t|=4;try{aw(i,n.alternate,n)}finally{$t=m,X.p=u,B.T=o}}Je=3}}function Rw(){if(Je===4||Je===3){Je=0,JR();var i=tr,n=uc,o=hc,u=gw;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Je=5:(Je=0,uc=tr=null,Dw(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ja=null),dy(o),n=n.stateNode,Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(Ku,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=B.T,m=X.p,X.p=2,B.T=null;try{for(var y=i.onRecoverableError,w=0;w<u.length;w++){var C=u[w];y(C.value,{componentStack:C.stack})}}finally{B.T=n,X.p=m}}(hc&3)!==0&&cm(),mn(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===q0?Lh++:(Lh=0,q0=i):Lh=0,Oh(0)}}function Dw(i,n){(i.pooledCacheLanes&=n)===0&&(n=i.pooledCache,n!=null&&(i.pooledCache=null,dh(n)))}function cm(i){return Cw(),Mw(),Rw(),Nw()}function Nw(){if(Je!==5)return!1;var i=tr,n=U0;U0=0;var o=dy(hc),u=B.T,m=X.p;try{X.p=32>o?32:o,B.T=null,o=G0,G0=null;var y=tr,w=hc;if(Je=0,uc=tr=null,hc=0,($t&6)!==0)throw Error(s(331));var C=$t;if($t|=4,pw(y.current),hw(y,y.current,w,o),$t=C,Oh(0,!1),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(Ku,y)}catch{}return!0}finally{X.p=m,B.T=u,Dw(i,n)}}function Lw(i,n,o){n=vs(o,n),n=w0(i.stateNode,n,2),i=Ga(i,n,2),i!==null&&(Wu(i,2),mn(i))}function ne(i,n,o){if(i.tag===3)Lw(i,i,o);else for(;n!==null;){if(n.tag===3){Lw(n,i,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ja===null||!Ja.has(u))){i=vs(o,i),o=j1(2),u=Ga(n,o,2),u!==null&&(I1(o,u,n,i),Wu(u,2),mn(u));break}}n=n.return}}function $0(i,n,o){var u=i.pingCache;if(u===null){u=i.pingCache=new _D;var m=new Set;u.set(n,m)}else m=u.get(n),m===void 0&&(m=new Set,u.set(n,m));m.has(o)||(F0=!0,m.add(o),i=ND.bind(null,i,n,o),n.then(i,i))}function ND(i,n,o){var u=i.pingCache;u!==null&&u.delete(n),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,re===i&&(Ft&o)===o&&(Ae===4||Ae===3&&(Ft&62914560)===Ft&&300>un()-H0?($t&2)===0&&dc(i,0):z0|=o,cc===Ft&&(cc=0)),mn(i)}function Ow(i,n){n===0&&(n=Rx()),i=Kl(i,n),i!==null&&(Wu(i,n),mn(i))}function LD(i){var n=i.memoizedState,o=0;n!==null&&(o=n.retryLane),Ow(i,o)}function OD(i,n){var o=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(n),Ow(i,o)}function kD(i,n){return ly(i,n)}var um=null,pc=null,W0=!1,hm=!1,Q0=!1,fo=0;function mn(i){i!==pc&&i.next===null&&(pc===null?um=pc=i:pc=pc.next=i),hm=!0,W0||(W0=!0,jD())}function Oh(i,n){if(!Q0&&hm){Q0=!0;do for(var o=!1,u=um;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var w=u.suspendedLanes,C=u.pingedLanes;y=(1<<31-Yi(42|i)+1)-1,y&=m&~(w&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Iw(u,y))}else y=Ft,y=yp(u,u===re?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||$u(u,y)||(o=!0,Iw(u,y));u=u.next}while(o);Q0=!1}}function PD(){kw()}function kw(){hm=W0=!1;var i=0;fo!==0&&(GD()&&(i=fo),fo=0);for(var n=un(),o=null,u=um;u!==null;){var m=u.next,y=Pw(u,n);y===0?(u.next=null,o===null?um=m:o.next=m,m===null&&(pc=o)):(o=u,(i!==0||(y&3)!==0)&&(hm=!0)),u=m}Oh(i)}function Pw(i,n){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Yi(y),C=1<<w,O=m[w];O===-1?((C&o)===0||(C&u)!==0)&&(m[w]=o2(C,n)):O<=n&&(i.expiredLanes|=C),y&=~C}if(n=re,o=Ft,o=yp(i,i===n?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===n&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&cy(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||$u(i,o)){if(n=o&-o,n===i.callbackPriority)return n;switch(u!==null&&cy(u),dy(o)){case 2:case 8:o=_x;break;case 32:o=pp;break;case 268435456:o=Cx;break;default:o=pp}return u=jw.bind(null,i),o=ly(o,u),i.callbackPriority=n,i.callbackNode=o,n}return u!==null&&u!==null&&cy(u),i.callbackPriority=2,i.callbackNode=null,2}function jw(i,n){if(Je!==0&&Je!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(cm()&&i.callbackNode!==o)return null;var u=Ft;return u=yp(i,i===re?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(bw(i,u,n),Pw(i,un()),i.callbackNode!=null&&i.callbackNode===o?jw.bind(null,i):null)}function Iw(i,n){if(cm())return null;bw(i,n,!0)}function jD(){XD(function(){($t&6)!==0?ly(Ex,PD):kw()})}function Z0(){return fo===0&&(fo=Mx()),fo}function Bw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Sp(""+i)}function Fw(i,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,i.id&&o.setAttribute("form",i.id),n.parentNode.insertBefore(o,n),i=new FormData(i),o.parentNode.removeChild(o),i}function ID(i,n,o,u,m){if(n==="submit"&&o&&o.stateNode===m){var y=Bw((m[Oi]||null).action),w=u.submitter;w&&(n=(n=w[Oi]||null)?Bw(n.formAction):w.getAttribute("formAction"),n!==null&&(y=n,w=null));var C=new _p("action","action",null,u,m);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fo!==0){var O=w?Fw(m,w):new FormData(m);b0(o,{pending:!0,data:O,method:m.method,action:y},null,O)}}else typeof y=="function"&&(C.preventDefault(),O=w?Fw(m,w):new FormData(m),b0(o,{pending:!0,data:O,method:m.method,action:y},y,O))},currentTarget:m}]})}}for(var J0=0;J0<Iy.length;J0++){var tb=Iy[J0],BD=tb.toLowerCase(),FD=tb[0].toUpperCase()+tb.slice(1);Hs(BD,"on"+FD)}Hs(bS,"onAnimationEnd"),Hs(vS,"onAnimationIteration"),Hs(AS,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(iD,"onTransitionRun"),Hs(sD,"onTransitionStart"),Hs(nD,"onTransitionCancel"),Hs(xS,"onTransitionEnd"),Bl("onMouseEnter",["mouseout","mouseover"]),Bl("onMouseLeave",["mouseout","mouseover"]),Bl("onPointerEnter",["pointerout","pointerover"]),Bl("onPointerLeave",["pointerout","pointerover"]),Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function zw(i,n){n=(n&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;t:{var y=void 0;if(n)for(var w=u.length-1;0<=w;w--){var C=u[w],O=C.instance,V=C.currentTarget;if(C=C.listener,O!==y&&m.isPropagationStopped())break t;y=C,m.currentTarget=V;try{y(m)}catch(Y){Zp(Y)}m.currentTarget=null,y=O}else for(w=0;w<u.length;w++){if(C=u[w],O=C.instance,V=C.currentTarget,C=C.listener,O!==y&&m.isPropagationStopped())break t;y=C,m.currentTarget=V;try{y(m)}catch(Y){Zp(Y)}m.currentTarget=null,y=O}}}}function It(i,n){var o=n[fy];o===void 0&&(o=n[fy]=new Set);var u=i+"__bubble";o.has(u)||(Vw(n,i,2,!1),o.add(u))}function eb(i,n,o){var u=0;n&&(u|=4),Vw(o,i,u,n)}var dm="_reactListening"+Math.random().toString(36).slice(2);function ib(i){if(!i[dm]){i[dm]=!0,kx.forEach(function(o){o!=="selectionchange"&&(zD.has(o)||eb(o,!1,i),eb(o,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[dm]||(n[dm]=!0,eb("selectionchange",!1,n))}}function Vw(i,n,o,u){switch(hT(n)){case 2:var m=fN;break;case 8:m=pN;break;default:m=gb}o=m.bind(null,n,o,i),m=void 0,!Ty||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(n,o,{capture:!0,passive:m}):i.addEventListener(n,o,!0):m!==void 0?i.addEventListener(n,o,{passive:m}):i.addEventListener(n,o,!1)}function sb(i,n,o,u,m){var y=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var C=u.stateNode.containerInfo;if(C===m)break;if(w===4)for(w=u.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;C!==null;){if(w=Pl(C),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){u=y=w;continue t}C=C.parentNode}}u=u.return}Kx(function(){var V=y,Y=Sy(o),Q=[];t:{var H=SS.get(i);if(H!==void 0){var G=_p,vt=i;switch(i){case"keypress":if(Tp(o)===0)break t;case"keydown":case"keyup":G=k2;break;case"focusin":vt="focus",G=My;break;case"focusout":vt="blur",G=My;break;case"beforeblur":case"afterblur":G=My;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=S2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=I2;break;case bS:case vS:case AS:G=E2;break;case xS:G=F2;break;case"scroll":case"scrollend":G=A2;break;case"wheel":G=V2;break;case"copy":case"cut":case"paste":G=C2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Jx;break;case"toggle":case"beforetoggle":G=U2}var mt=(n&4)!==0,ee=!mt&&(i==="scroll"||i==="scrollend"),F=mt?H!==null?H+"Capture":null:H;mt=[];for(var I=V,z;I!==null;){var K=I;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||F===null||(K=Ju(I,F),K!=null&&mt.push(Ph(I,K,z))),ee)break;I=I.return}0<mt.length&&(H=new G(H,vt,null,o,Y),Q.push({event:H,listeners:mt}))}}if((n&7)===0){t:{if(H=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",H&&o!==xy&&(vt=o.relatedTarget||o.fromElement)&&(Pl(vt)||vt[kl]))break t;if((G||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,G?(vt=o.relatedTarget||o.toElement,G=V,vt=vt?Pl(vt):null,vt!==null&&(ee=l(vt),mt=vt.tag,vt!==ee||mt!==5&&mt!==27&&mt!==6)&&(vt=null)):(G=null,vt=V),G!==vt)){if(mt=Qx,K="onMouseLeave",F="onMouseEnter",I="mouse",(i==="pointerout"||i==="pointerover")&&(mt=Jx,K="onPointerLeave",F="onPointerEnter",I="pointer"),ee=G==null?H:Zu(G),z=vt==null?H:Zu(vt),H=new mt(K,I+"leave",G,o,Y),H.target=ee,H.relatedTarget=z,K=null,Pl(Y)===V&&(mt=new mt(F,I+"enter",vt,o,Y),mt.target=z,mt.relatedTarget=ee,K=mt),ee=K,G&&vt)e:{for(mt=G,F=vt,I=0,z=mt;z;z=mc(z))I++;for(z=0,K=F;K;K=mc(K))z++;for(;0<I-z;)mt=mc(mt),I--;for(;0<z-I;)F=mc(F),z--;for(;I--;){if(mt===F||F!==null&&mt===F.alternate)break e;mt=mc(mt),F=mc(F)}mt=null}else mt=null;G!==null&&Hw(Q,H,G,mt,!1),vt!==null&&ee!==null&&Hw(Q,ee,vt,mt,!0)}}t:{if(H=V?Zu(V):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var lt=oS;else if(aS(H))if(lS)lt=J2;else{lt=Q2;var Ot=W2}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?V&&Ay(V.elementType)&&(lt=oS):lt=Z2;if(lt&&(lt=lt(i,V))){rS(Q,lt,o,Y);break t}Ot&&Ot(i,H,V),i==="focusout"&&V&&H.type==="number"&&V.memoizedProps.value!=null&&vy(H,"number",H.value)}switch(Ot=V?Zu(V):window,i){case"focusin":(aS(Ot)||Ot.contentEditable==="true")&&(ql=Ot,ky=V,oh=null);break;case"focusout":oh=ky=ql=null;break;case"mousedown":Py=!0;break;case"contextmenu":case"mouseup":case"dragend":Py=!1,gS(Q,o,Y);break;case"selectionchange":if(eD)break;case"keydown":case"keyup":gS(Q,o,Y)}var pt;if(Dy)t:{switch(i){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Gl?sS(i,o)&&(bt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(bt="onCompositionStart");bt&&(tS&&o.locale!=="ko"&&(Gl||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Gl&&(pt=$x()):(za=Y,Ey="value"in za?za.value:za.textContent,Gl=!0)),Ot=fm(V,bt),0<Ot.length&&(bt=new Zx(bt,i,null,o,Y),Q.push({event:bt,listeners:Ot}),pt?bt.data=pt:(pt=nS(o),pt!==null&&(bt.data=pt)))),(pt=q2?X2(i,o):Y2(i,o))&&(bt=fm(V,"onBeforeInput"),0<bt.length&&(Ot=new Zx("onBeforeInput","beforeinput",null,o,Y),Q.push({event:Ot,listeners:bt}),Ot.data=pt)),ID(Q,i,V,o,Y)}zw(Q,n)})}function Ph(i,n,o){return{instance:i,listener:n,currentTarget:o}}function fm(i,n){for(var o=n+"Capture",u=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ju(i,o),m!=null&&u.unshift(Ph(i,m,y)),m=Ju(i,n),m!=null&&u.push(Ph(i,m,y))),i.tag===3)return u;i=i.return}return[]}function mc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Hw(i,n,o,u,m){for(var y=n._reactName,w=[];o!==null&&o!==u;){var C=o,O=C.alternate,V=C.stateNode;if(C=C.tag,O!==null&&O===u)break;C!==5&&C!==26&&C!==27||V===null||(O=V,m?(V=Ju(o,y),V!=null&&w.unshift(Ph(o,V,O))):m||(V=Ju(o,y),V!=null&&w.push(Ph(o,V,O)))),o=o.return}w.length!==0&&i.push({event:n,listeners:w})}var VD=/\r\n?/g,HD=/\u0000|\uFFFD/g;function Uw(i){return(typeof i=="string"?i:""+i).replace(VD,`
`).replace(HD,"")}function Gw(i,n){return n=Uw(n),Uw(i)===n}function pm(){}function te(i,n,o,u,m,y){switch(o){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Vl(i,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Vl(i,""+u);break;case"className":vp(i,"class",u);break;case"tabIndex":vp(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vp(i,o,u);break;case"style":Xx(i,u,y);break;case"data":if(n!=="object"){vp(i,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Sp(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(n!=="input"&&te(i,n,"name",m.name,m,null),te(i,n,"formEncType",m.formEncType,m,null),te(i,n,"formMethod",m.formMethod,m,null),te(i,n,"formTarget",m.formTarget,m,null)):(te(i,n,"encType",m.encType,m,null),te(i,n,"method",m.method,m,null),te(i,n,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Sp(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=pm);break;case"onScroll":u!=null&&It("scroll",i);break;case"onScrollEnd":u!=null&&It("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Sp(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":It("beforetoggle",i),It("toggle",i),bp(i,"popover",u);break;case"xlinkActuate":zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":bp(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=b2.get(o)||o,bp(i,o,u))}}function nb(i,n,o,u,m,y){switch(o){case"style":Xx(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Vl(i,u):(typeof u=="number"||typeof u=="bigint")&&Vl(i,""+u);break;case"onScroll":u!=null&&It("scroll",i);break;case"onScrollEnd":u!=null&&It("scrollend",i);break;case"onClick":u!=null&&(i.onclick=pm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Px.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),n=o.slice(2,m?o.length-7:void 0),y=i[Oi]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(n,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(n,u,m);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):bp(i,o,u)}}}function ti(i,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",i),It("load",i);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(i,n,y,w,o,null)}}m&&te(i,n,"srcSet",o.srcSet,o,null),u&&te(i,n,"src",o.src,o,null);return;case"input":It("invalid",i);var C=y=w=m=null,O=null,V=null;for(u in o)if(o.hasOwnProperty(u)){var Y=o[u];if(Y!=null)switch(u){case"name":m=Y;break;case"type":w=Y;break;case"checked":O=Y;break;case"defaultChecked":V=Y;break;case"value":y=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:te(i,n,u,Y,o,null)}}Hx(i,y,C,O,V,w,m,!1),Ap(i);return;case"select":It("invalid",i),u=w=y=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":w=C;break;case"multiple":u=C;default:te(i,n,m,C,o,null)}n=y,o=w,i.multiple=!!u,n!=null?zl(i,!!u,n,!1):o!=null&&zl(i,!!u,o,!0);return;case"textarea":It("invalid",i),y=m=u=null;for(w in o)if(o.hasOwnProperty(w)&&(C=o[w],C!=null))switch(w){case"value":u=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:te(i,n,w,C,o,null)}Gx(i,u,m,y),Ap(i);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(i,n,O,u,o,null)}return;case"dialog":It("beforetoggle",i),It("toggle",i),It("cancel",i),It("close",i);break;case"iframe":case"object":It("load",i);break;case"video":case"audio":for(u=0;u<kh.length;u++)It(kh[u],i);break;case"image":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"embed":case"source":case"link":It("error",i),It("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(i,n,V,u,o,null)}return;default:if(Ay(n)){for(Y in o)o.hasOwnProperty(Y)&&(u=o[Y],u!==void 0&&nb(i,n,Y,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&te(i,n,C,u,o,null))}function UD(i,n,o,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,w=null,C=null,O=null,V=null,Y=null;for(G in o){var Q=o[G];if(o.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=Q;default:u.hasOwnProperty(G)||te(i,n,G,null,u,Q)}}for(var H in u){var G=u[H];if(Q=o[H],u.hasOwnProperty(H)&&(G!=null||Q!=null))switch(H){case"type":y=G;break;case"name":m=G;break;case"checked":V=G;break;case"defaultChecked":Y=G;break;case"value":w=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==Q&&te(i,n,H,G,u,Q)}}by(i,w,C,O,V,Y,y,m);return;case"select":G=w=C=H=null;for(y in o)if(O=o[y],o.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":G=O;default:u.hasOwnProperty(y)||te(i,n,y,null,u,O)}for(m in u)if(y=u[m],O=o[m],u.hasOwnProperty(m)&&(y!=null||O!=null))switch(m){case"value":H=y;break;case"defaultValue":C=y;break;case"multiple":w=y;default:y!==O&&te(i,n,m,y,u,O)}n=C,o=w,u=G,H!=null?zl(i,!!o,H,!1):!!u!=!!o&&(n!=null?zl(i,!!o,n,!0):zl(i,!!o,o?[]:"",!1));return;case"textarea":G=H=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:te(i,n,C,null,u,m)}for(w in u)if(m=u[w],y=o[w],u.hasOwnProperty(w)&&(m!=null||y!=null))switch(w){case"value":H=m;break;case"defaultValue":G=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&te(i,n,w,m,u,y)}Ux(i,H,G);return;case"option":for(var vt in o)if(H=o[vt],o.hasOwnProperty(vt)&&H!=null&&!u.hasOwnProperty(vt))switch(vt){case"selected":i.selected=!1;break;default:te(i,n,vt,null,u,H)}for(O in u)if(H=u[O],G=o[O],u.hasOwnProperty(O)&&H!==G&&(H!=null||G!=null))switch(O){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:te(i,n,O,H,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in o)H=o[mt],o.hasOwnProperty(mt)&&H!=null&&!u.hasOwnProperty(mt)&&te(i,n,mt,null,u,H);for(V in u)if(H=u[V],G=o[V],u.hasOwnProperty(V)&&H!==G&&(H!=null||G!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:te(i,n,V,H,u,G)}return;default:if(Ay(n)){for(var ee in o)H=o[ee],o.hasOwnProperty(ee)&&H!==void 0&&!u.hasOwnProperty(ee)&&nb(i,n,ee,void 0,u,H);for(Y in u)H=u[Y],G=o[Y],!u.hasOwnProperty(Y)||H===G||H===void 0&&G===void 0||nb(i,n,Y,H,u,G);return}}for(var F in o)H=o[F],o.hasOwnProperty(F)&&H!=null&&!u.hasOwnProperty(F)&&te(i,n,F,null,u,H);for(Q in u)H=u[Q],G=o[Q],!u.hasOwnProperty(Q)||H===G||H==null&&G==null||te(i,n,Q,H,u,G)}var ab=null,rb=null;function mm(i){return i.nodeType===9?i:i.ownerDocument}function qw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xw(i,n){if(i===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&n==="foreignObject"?0:i}function ob(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lb=null;function GD(){var i=window.event;return i&&i.type==="popstate"?i===lb?!1:(lb=i,!0):(lb=null,!1)}var Yw=typeof setTimeout=="function"?setTimeout:void 0,qD=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,XD=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(i){return Kw.resolve(null).then(i).catch(YD)}:Yw;function YD(i){setTimeout(function(){throw i})}function ir(i){return i==="head"}function $w(i,n){var o=n,u=0,m=0;do{var y=o.nextSibling;if(i.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var w=i.ownerDocument;if(o&1&&jh(w.documentElement),o&2&&jh(w.body),o&4)for(o=w.head,jh(o),w=o.firstChild;w;){var C=w.nextSibling,O=w.nodeName;w[Qu]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=C}}if(m===0){i.removeChild(y),Gh(n);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);Gh(n)}function cb(i){var n=i.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":cb(o),py(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function KD(i,n,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Qu])switch(n){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(n==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Gs(i.nextSibling),i===null)break}return null}function $D(i,n,o){if(n==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Gs(i.nextSibling),i===null))return null;return i}function ub(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function WD(i,n){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")n();else{var u=function(){n(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Gs(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return i}var hb=null;function Ww(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return i;n--}else o==="/$"&&n++}i=i.previousSibling}return null}function Qw(i,n,o){switch(n=mm(o),i){case"html":if(i=n.documentElement,!i)throw Error(s(452));return i;case"head":if(i=n.head,!i)throw Error(s(453));return i;case"body":if(i=n.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function jh(i){for(var n=i.attributes;n.length;)i.removeAttributeNode(n[0]);py(i)}var Es=new Map,Zw=new Set;function gm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ta=X.d;X.d={f:QD,r:ZD,D:JD,C:tN,L:eN,m:iN,X:nN,S:sN,M:aN};function QD(){var i=ta.f(),n=om();return i||n}function ZD(i){var n=jl(i);n!==null&&n.tag===5&&n.type==="form"?b1(n):ta.r(i)}var gc=typeof document>"u"?null:document;function Jw(i,n,o){var u=gc;if(u&&typeof n=="string"&&n){var m=bs(n);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Zw.has(m)||(Zw.add(m),i={rel:i,crossOrigin:o,href:n},u.querySelector(m)===null&&(n=u.createElement("link"),ti(n,"link",i),He(n),u.head.appendChild(n)))}}function JD(i){ta.D(i),Jw("dns-prefetch",i,null)}function tN(i,n){ta.C(i,n),Jw("preconnect",i,n)}function eN(i,n,o){ta.L(i,n,o);var u=gc;if(u&&i&&n){var m='link[rel="preload"][as="'+bs(n)+'"]';n==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+bs(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+bs(o.imageSizes)+'"]')):m+='[href="'+bs(i)+'"]';var y=m;switch(n){case"style":y=yc(i);break;case"script":y=bc(i)}Es.has(y)||(i=g({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:i,as:n},o),Es.set(y,i),u.querySelector(m)!==null||n==="style"&&u.querySelector(Ih(y))||n==="script"&&u.querySelector(Bh(y))||(n=u.createElement("link"),ti(n,"link",i),He(n),u.head.appendChild(n)))}}function iN(i,n){ta.m(i,n);var o=gc;if(o&&i){var u=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+bs(u)+'"][href="'+bs(i)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=bc(i)}if(!Es.has(y)&&(i=g({rel:"modulepreload",href:i},n),Es.set(y,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bh(y)))return}u=o.createElement("link"),ti(u,"link",i),He(u),o.head.appendChild(u)}}}function sN(i,n,o){ta.S(i,n,o);var u=gc;if(u&&i){var m=Il(u).hoistableStyles,y=yc(i);n=n||"default";var w=m.get(y);if(!w){var C={loading:0,preload:null};if(w=u.querySelector(Ih(y)))C.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":n},o),(o=Es.get(y))&&db(i,o);var O=w=u.createElement("link");He(O),ti(O,"link",i),O._p=new Promise(function(V,Y){O.onload=V,O.onerror=Y}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ym(w,n,u)}w={type:"stylesheet",instance:w,count:1,state:C},m.set(y,w)}}}function nN(i,n){ta.X(i,n);var o=gc;if(o&&i){var u=Il(o).hoistableScripts,m=bc(i),y=u.get(m);y||(y=o.querySelector(Bh(m)),y||(i=g({src:i,async:!0},n),(n=Es.get(m))&&fb(i,n),y=o.createElement("script"),He(y),ti(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function aN(i,n){ta.M(i,n);var o=gc;if(o&&i){var u=Il(o).hoistableScripts,m=bc(i),y=u.get(m);y||(y=o.querySelector(Bh(m)),y||(i=g({src:i,async:!0,type:"module"},n),(n=Es.get(m))&&fb(i,n),y=o.createElement("script"),He(y),ti(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function tT(i,n,o,u){var m=(m=ct.current)?gm(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=yc(o.href),o=Il(m).hoistableStyles,u=o.get(n),u||(u={type:"style",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=yc(o.href);var y=Il(m).hoistableStyles,w=y.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=m.querySelector(Ih(i)))&&!y._p&&(w.instance=y,w.state.loading=5),Es.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Es.set(i,o),y||rN(m,i,o,w.state))),n&&u===null)throw Error(s(528,""));return w}if(n&&u!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=bc(o),o=Il(m).hoistableScripts,u=o.get(n),u||(u={type:"script",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function yc(i){return'href="'+bs(i)+'"'}function Ih(i){return'link[rel="stylesheet"]['+i+"]"}function eT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function rN(i,n,o,u){i.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=i.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),ti(n,"link",o),He(n),i.head.appendChild(n))}function bc(i){return'[src="'+bs(i)+'"]'}function Bh(i){return"script[async]"+i}function iT(i,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var u=i.querySelector('style[data-href~="'+bs(o.href)+'"]');if(u)return n.instance=u,He(u),u;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),He(u),ti(u,"style",m),ym(u,o.precedence,i),n.instance=u;case"stylesheet":m=yc(o.href);var y=i.querySelector(Ih(m));if(y)return n.state.loading|=4,n.instance=y,He(y),y;u=eT(o),(m=Es.get(m))&&db(u,m),y=(i.ownerDocument||i).createElement("link"),He(y);var w=y;return w._p=new Promise(function(C,O){w.onload=C,w.onerror=O}),ti(y,"link",u),n.state.loading|=4,ym(y,o.precedence,i),n.instance=y;case"script":return y=bc(o.src),(m=i.querySelector(Bh(y)))?(n.instance=m,He(m),m):(u=o,(m=Es.get(y))&&(u=g({},o),fb(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),He(m),ti(m,"link",u),i.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,ym(u,o.precedence,i));return n.instance}function ym(i,n,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,w=0;w<u.length;w++){var C=u[w];if(C.dataset.precedence===n)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(i,n.firstChild))}function db(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.title==null&&(i.title=n.title)}function fb(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.integrity==null&&(i.integrity=n.integrity)}var bm=null;function sT(i,n,o){if(bm===null){var u=new Map,m=bm=new Map;m.set(o,u)}else m=bm,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[Qu]||y[ci]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(n)||"";w=i+w;var C=u.get(w);C?C.push(y):u.set(w,[y])}}return u}function nT(i,n,o){i=i.ownerDocument||i,i.head.insertBefore(o,n==="title"?i.querySelector("head > title"):null)}function oN(i,n,o){if(o===1||n.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return i=n.disabled,typeof n.precedence=="string"&&i==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function aT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Fh=null;function lN(){}function cN(i,n,o){if(Fh===null)throw Error(s(475));var u=Fh;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=yc(o.href),y=i.querySelector(Ih(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=vm.bind(u),i.then(u,u)),n.state.loading|=4,n.instance=y,He(y);return}y=i.ownerDocument||i,o=eT(o),(m=Es.get(m))&&db(o,m),y=y.createElement("link"),He(y);var w=y;w._p=new Promise(function(C,O){w.onload=C,w.onerror=O}),ti(y,"link",o),n.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,i),(i=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=vm.bind(u),i.addEventListener("load",n),i.addEventListener("error",n))}}function uN(){if(Fh===null)throw Error(s(475));var i=Fh;return i.stylesheets&&i.count===0&&pb(i,i.stylesheets),0<i.count?function(n){var o=setTimeout(function(){if(i.stylesheets&&pb(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=n,function(){i.unsuspend=null,clearTimeout(o)}}:null}function vm(){if(this.count--,this.count===0){if(this.stylesheets)pb(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Am=null;function pb(i,n){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Am=new Map,n.forEach(hN,i),Am=null,vm.call(i))}function hN(i,n){if(!(n.state.loading&4)){var o=Am.get(i);if(o)var u=o.get(null);else{o=new Map,Am.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var w=m[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}m=n.instance,w=m.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,m),o.set(w,m),this.count++,u=vm.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),n.state.loading|=4}}var zh={$$typeof:N,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function dN(i,n,o,u,m,y,w,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uy(0),this.hiddenUpdates=uy(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function rT(i,n,o,u,m,y,w,C,O,V,Y,Q){return i=new dN(i,n,o,w,C,O,V,Q),n=1,y===!0&&(n|=24),y=$i(3,null,null,n),i.current=y,y.stateNode=i,n=$y(),n.refCount++,i.pooledCache=n,n.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:n},Jy(y),i}function oT(i){return i?(i=$l,i):$l}function lT(i,n,o,u,m,y){m=oT(m),u.context===null?u.context=m:u.pendingContext=m,u=Ua(n),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Ga(i,u,n),o!==null&&(ts(o,i,n),gh(o,i,n))}function cT(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<n?o:n}}function mb(i,n){cT(i,n),(i=i.alternate)&&cT(i,n)}function uT(i){if(i.tag===13){var n=Kl(i,67108864);n!==null&&ts(n,i,67108864),mb(i,67108864)}}var xm=!0;function fN(i,n,o,u){var m=B.T;B.T=null;var y=X.p;try{X.p=2,gb(i,n,o,u)}finally{X.p=y,B.T=m}}function pN(i,n,o,u){var m=B.T;B.T=null;var y=X.p;try{X.p=8,gb(i,n,o,u)}finally{X.p=y,B.T=m}}function gb(i,n,o,u){if(xm){var m=yb(u);if(m===null)sb(i,n,u,Sm,o),dT(i,u);else if(gN(m,i,n,o,u))u.stopPropagation();else if(dT(i,u),n&4&&-1<mN.indexOf(i)){for(;m!==null;){var y=jl(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=$r(y.pendingLanes);if(w!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var O=1<<31-Yi(w);C.entanglements[1]|=O,w&=~O}mn(y),($t&6)===0&&(am=un()+500,Oh(0))}}break;case 13:C=Kl(y,2),C!==null&&ts(C,y,2),om(),mb(y,2)}if(y=yb(u),y===null&&sb(i,n,u,Sm,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else sb(i,n,u,null,o)}}function yb(i){return i=Sy(i),bb(i)}var Sm=null;function bb(i){if(Sm=null,i=Pl(i),i!==null){var n=l(i);if(n===null)i=null;else{var o=n.tag;if(o===13){if(i=c(n),i!==null)return i;i=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null)}}return Sm=i,null}function hT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(t2()){case Ex:return 2;case _x:return 8;case pp:case e2:return 32;case Cx:return 268435456;default:return 32}default:return 32}}var vb=!1,sr=null,nr=null,ar=null,Vh=new Map,Hh=new Map,rr=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dT(i,n){switch(i){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Vh.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(n.pointerId)}}function Uh(i,n,o,u,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},n!==null&&(n=jl(n),n!==null&&uT(n)),i):(i.eventSystemFlags|=u,n=i.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),i)}function gN(i,n,o,u,m){switch(n){case"focusin":return sr=Uh(sr,i,n,o,u,m),!0;case"dragenter":return nr=Uh(nr,i,n,o,u,m),!0;case"mouseover":return ar=Uh(ar,i,n,o,u,m),!0;case"pointerover":var y=m.pointerId;return Vh.set(y,Uh(Vh.get(y)||null,i,n,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Hh.set(y,Uh(Hh.get(y)||null,i,n,o,u,m)),!0}return!1}function fT(i){var n=Pl(i.target);if(n!==null){var o=l(n);if(o!==null){if(n=o.tag,n===13){if(n=c(o),n!==null){i.blockedOn=n,c2(i.priority,function(){if(o.tag===13){var u=Ji();u=hy(u);var m=Kl(o,u);m!==null&&ts(m,o,u),mb(o,u)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wm(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var o=yb(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);xy=u,o.target.dispatchEvent(u),xy=null}else return n=jl(o),n!==null&&uT(n),i.blockedOn=o,!1;n.shift()}return!0}function pT(i,n,o){wm(i)&&o.delete(n)}function yN(){vb=!1,sr!==null&&wm(sr)&&(sr=null),nr!==null&&wm(nr)&&(nr=null),ar!==null&&wm(ar)&&(ar=null),Vh.forEach(pT),Hh.forEach(pT)}function Tm(i,n){i.blockedOn===n&&(i.blockedOn=null,vb||(vb=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yN)))}var Em=null;function mT(i){Em!==i&&(Em=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Em===i&&(Em=null);for(var n=0;n<i.length;n+=3){var o=i[n],u=i[n+1],m=i[n+2];if(typeof u!="function"){if(bb(u||o)===null)continue;break}var y=jl(o);y!==null&&(i.splice(n,3),n-=3,b0(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Gh(i){function n(O){return Tm(O,i)}sr!==null&&Tm(sr,i),nr!==null&&Tm(nr,i),ar!==null&&Tm(ar,i),Vh.forEach(n),Hh.forEach(n);for(var o=0;o<rr.length;o++){var u=rr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<rr.length&&(o=rr[0],o.blockedOn===null);)fT(o),o.blockedOn===null&&rr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],w=m[Oi]||null;if(typeof y=="function")w||mT(o);else if(w){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,w=y[Oi]||null)C=w.formAction;else if(bb(m)!==null)continue}else C=w.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),mT(o)}}}function Ab(i){this._internalRoot=i}_m.prototype.render=Ab.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,u=Ji();lT(o,u,i,n,null,null)},_m.prototype.unmount=Ab.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;lT(i.current,2,null,i,null,null),om(),n[kl]=null}};function _m(i){this._internalRoot=i}_m.prototype.unstable_scheduleHydration=function(i){if(i){var n=Lx();i={blockedOn:null,target:i,priority:n};for(var o=0;o<rr.length&&n!==0&&n<rr[o].priority;o++);rr.splice(o,0,i),o===0&&fT(i)}};var gT=t.version;if(gT!=="19.1.0")throw Error(s(527,gT,"19.1.0"));X.findDOMNode=function(i){var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=f(n),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var bN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cm.isDisabled&&Cm.supportsFiber)try{Ku=Cm.inject(bN),Xi=Cm}catch{}}return Xh.createRoot=function(i,n){if(!a(i))throw Error(s(299));var o=!1,u="",m=L1,y=O1,w=k1,C=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks)),n=rT(i,1,!1,null,null,o,u,m,y,w,C,null),i[kl]=n.current,ib(i),new Ab(n)},Xh.hydrateRoot=function(i,n,o){if(!a(i))throw Error(s(299));var u=!1,m="",y=L1,w=O1,C=k1,O=null,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(V=o.formState)),n=rT(i,1,!0,n,o??null,u,m,y,w,C,O,V),n.context=oT(null),o=n.current,u=Ji(),u=hy(u),m=Ua(u),m.callback=null,Ga(o,m,u),o=u,n.current.lanes=o,Wu(n,o),mn(n),i[kl]=n.current,ib(i),new _m(n)},Xh.version="19.1.0",Xh}var CT;function LN(){if(CT)return Tb.exports;CT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Tb.exports=NN(),Tb.exports}var ON=LN();class ap{constructor(t=0,e="Network Error"){this.status=t,this.text=e}}const kN=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,t)=>Promise.resolve(localStorage.setItem(r,t)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},li={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:kN()},DA=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},PN=(r,t="https://api.emailjs.com")=>{if(!r)return;const e=DA(r);li.publicKey=e.publicKey,li.blockHeadless=e.blockHeadless,li.storageProvider=e.storageProvider,li.blockList=e.blockList,li.limitRate=e.limitRate,li.origin=e.origin||t},p_=async(r,t,e={})=>{const s=await fetch(li.origin+r,{method:"POST",headers:e,body:t}),a=await s.text(),l=new ap(s.status,a);if(s.ok)return l;throw l},m_=(r,t,e)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e||typeof e!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},jN=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},g_=r=>r.webdriver||!r.languages||r.languages.length===0,y_=()=>new ap(451,"Unavailable For Headless Browser"),IN=(r,t)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},BN=r=>{var t;return!((t=r.list)!=null&&t.length)||!r.watchVariable},FN=(r,t)=>r instanceof FormData?r.get(t):r[t],b_=(r,t)=>{if(BN(r))return!1;IN(r.list,r.watchVariable);const e=FN(t,r.watchVariable);return typeof e!="string"?!1:r.list.includes(e)},v_=()=>new ap(403,"Forbidden"),zN=(r,t)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},VN=async(r,t,e)=>{const s=Number(await e.get(r)||0);return t-Date.now()+s},A_=async(r,t,e)=>{if(!t.throttle||!e)return!1;zN(t.throttle,t.id);const s=t.id||r;return await VN(s,t.throttle,e)>0?!0:(await e.set(s,Date.now().toString()),!1)},x_=()=>new ap(429,"Too Many Requests"),HN=async(r,t,e,s)=>{const a=DA(s),l=a.publicKey||li.publicKey,c=a.blockHeadless||li.blockHeadless,h=a.storageProvider||li.storageProvider,f={...li.blockList,...a.blockList},p={...li.limitRate,...a.limitRate};return c&&g_(navigator)?Promise.reject(y_()):(m_(l,r,t),jN(e),e&&b_(f,e)?Promise.reject(v_()):await A_(location.pathname,p,h)?Promise.reject(x_()):p_("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:r,template_id:t,template_params:e}),{"Content-type":"application/json"}))},UN=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},GN=r=>typeof r=="string"?document.querySelector(r):r,qN=async(r,t,e,s)=>{const a=DA(s),l=a.publicKey||li.publicKey,c=a.blockHeadless||li.blockHeadless,h=li.storageProvider||a.storageProvider,f={...li.blockList,...a.blockList},p={...li.limitRate,...a.limitRate};if(c&&g_(navigator))return Promise.reject(y_());const g=GN(e);m_(l,r,t),UN(g);const b=new FormData(g);return b_(f,b)?Promise.reject(v_()):await A_(location.pathname,p,h)?Promise.reject(x_()):(b.append("lib_version","4.4.1"),b.append("service_id",r),b.append("template_id",t),b.append("user_id",l),p_("/api/v1.0/email/send-form",b))},MT={init:PN,send:HN,sendForm:qN,EmailJSResponseStatus:ap},Mm={SERVICE_ID:"service_28981m6",TEMPLATE_ID:"template_cj6b5ke",PUBLIC_KEY:"sii1O-iJWiwvvrO1-"};var Kb=new Map,Rm=new WeakMap,RT=0,XN=void 0;function YN(r){return r?(Rm.has(r)||(RT+=1,Rm.set(r,RT.toString())),Rm.get(r)):"0"}function KN(r){return Object.keys(r).sort().filter(t=>r[t]!==void 0).map(t=>`${t}_${t==="root"?YN(r.root):r[t]}`).toString()}function $N(r){const t=KN(r);let e=Kb.get(t);if(!e){const s=new Map;let a;const l=new IntersectionObserver(c=>{c.forEach(h=>{var f;const p=h.isIntersecting&&a.some(g=>h.intersectionRatio>=g);r.trackVisibility&&typeof h.isVisible>"u"&&(h.isVisible=p),(f=s.get(h.target))==null||f.forEach(g=>{g(p,h)})})},r);a=l.thresholds||(Array.isArray(r.threshold)?r.threshold:[r.threshold||0]),e={id:t,observer:l,elements:s},Kb.set(t,e)}return e}function WN(r,t,e={},s=XN){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const f=r.getBoundingClientRect();return t(s,{isIntersecting:s,target:r,intersectionRatio:typeof e.threshold=="number"?e.threshold:0,time:0,boundingClientRect:f,intersectionRect:f,rootBounds:f}),()=>{}}const{id:a,observer:l,elements:c}=$N(e),h=c.get(r)||[];return c.has(r)||c.set(r,h),h.push(t),l.observe(r),function(){h.splice(h.indexOf(t),1),h.length===0&&(c.delete(r),l.unobserve(r)),c.size===0&&(l.disconnect(),Kb.delete(a))}}function Oc({threshold:r,delay:t,trackVisibility:e,rootMargin:s,root:a,triggerOnce:l,skip:c,initialInView:h,fallbackInView:f,onChange:p}={}){var g;const[b,v]=et.useState(null),A=et.useRef(p),[S,T]=et.useState({inView:!!h,entry:void 0});A.current=p,et.useEffect(()=>{if(c||!b)return;let N;return N=WN(b,(j,P)=>{T({inView:j,entry:P}),A.current&&A.current(j,P),P.isIntersecting&&l&&N&&(N(),N=void 0)},{root:a,rootMargin:s,threshold:r,trackVisibility:e,delay:t},f),()=>{N&&N()}},[Array.isArray(r)?r.toString():r,b,a,s,l,c,e,f,t]);const D=(g=S.entry)==null?void 0:g.target,R=et.useRef(void 0);!b&&D&&!l&&!c&&R.current!==D&&(R.current=D,T({inView:!!h,entry:void 0}));const L=[v,S.inView,S.entry];return L.ref=L[0],L.inView=L[1],L.entry=L[2],L}const S_=et.createContext({});function QN(r){const t=et.useRef(null);return t.current===null&&(t.current=r()),t.current}const NA=typeof window<"u",ZN=NA?et.useLayoutEffect:et.useEffect,LA=et.createContext(null);function OA(r,t){r.indexOf(t)===-1&&r.push(t)}function kA(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}const ka=(r,t,e)=>e>t?t:e<r?r:e;let PA=()=>{};const Pa={},w_=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function T_(r){return typeof r=="object"&&r!==null}const E_=r=>/^0[^.\s]+$/u.test(r);function jA(r){let t;return()=>(t===void 0&&(t=r()),t)}const Fs=r=>r,JN=(r,t)=>e=>t(r(e)),rp=(...r)=>r.reduce(JN),Sd=(r,t,e)=>{const s=t-r;return s===0?1:(e-r)/s};class IA{constructor(){this.subscriptions=[]}add(t){return OA(this.subscriptions,t),()=>kA(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jn=r=>r*1e3,In=r=>r/1e3;function __(r,t){return t?r*(1e3/t):0}const C_=(r,t,e)=>(((1-3*e+3*t)*r+(3*e-6*t))*r+3*t)*r,tL=1e-7,eL=12;function iL(r,t,e,s,a){let l,c,h=0;do c=t+(e-t)/2,l=C_(c,s,a)-r,l>0?e=c:t=c;while(Math.abs(l)>tL&&++h<eL);return c}function op(r,t,e,s){if(r===t&&e===s)return Fs;const a=l=>iL(l,0,1,r,e);return l=>l===0||l===1?l:C_(a(l),t,s)}const M_=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,R_=r=>t=>1-r(1-t),D_=op(.33,1.53,.69,.99),BA=R_(D_),N_=M_(BA),L_=r=>(r*=2)<1?.5*BA(r):.5*(2-Math.pow(2,-10*(r-1))),FA=r=>1-Math.sin(Math.acos(r)),O_=R_(FA),k_=M_(FA),sL=op(.42,0,1,1),nL=op(0,0,.58,1),P_=op(.42,0,.58,1),aL=r=>Array.isArray(r)&&typeof r[0]!="number",j_=r=>Array.isArray(r)&&typeof r[0]=="number",rL={linear:Fs,easeIn:sL,easeInOut:P_,easeOut:nL,circIn:FA,circInOut:k_,circOut:O_,backIn:BA,backInOut:N_,backOut:D_,anticipate:L_},oL=r=>typeof r=="string",DT=r=>{if(j_(r)){PA(r.length===4);const[t,e,s,a]=r;return op(t,e,s,a)}else if(oL(r))return rL[r];return r},Dm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],NT={value:null};function lL(r,t){let e=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function p(b){c.has(b)&&(g.schedule(b),r()),f++,b(h)}const g={schedule:(b,v=!1,A=!1)=>{const T=A&&a?e:s;return v&&c.add(b),T.has(b)||T.add(b),b},cancel:b=>{s.delete(b),c.delete(b)},process:b=>{if(h=b,a){l=!0;return}a=!0,[e,s]=[s,e],e.forEach(p),t&&NT.value&&NT.value.frameloop[t].push(f),f=0,e.clear(),a=!1,l&&(l=!1,g.process(b))}};return g}const cL=40;function I_(r,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=Dm.reduce((N,j)=>(N[j]=lL(l,t?j:void 0),N),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:b,preRender:v,render:A,postRender:S}=c,T=()=>{const N=Pa.useManualTiming?a.timestamp:performance.now();e=!1,Pa.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(N-a.timestamp,cL),1)),a.timestamp=N,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),g.process(a),b.process(a),v.process(a),A.process(a),S.process(a),a.isProcessing=!1,e&&t&&(s=!1,r(T))},D=()=>{e=!0,s=!0,a.isProcessing||r(T)};return{schedule:Dm.reduce((N,j)=>{const P=c[j];return N[j]=(U,q=!1,$=!1)=>(e||D(),P.schedule(U,q,$)),N},{}),cancel:N=>{for(let j=0;j<Dm.length;j++)c[Dm[j]].cancel(N)},state:a,steps:c}}const{schedule:fe,cancel:Hr,state:ri,steps:Mb}=I_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fs,!0);let Bm;function uL(){Bm=void 0}const qi={now:()=>(Bm===void 0&&qi.set(ri.isProcessing||Pa.useManualTiming?ri.timestamp:performance.now()),Bm),set:r=>{Bm=r,queueMicrotask(uL)}},B_=r=>t=>typeof t=="string"&&t.startsWith(r),zA=B_("--"),hL=B_("var(--"),VA=r=>hL(r)?dL.test(r.split("/*")[0].trim()):!1,dL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gu={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},wd={...Gu,transform:r=>ka(0,1,r)},Nm={...Gu,default:1},md=r=>Math.round(r*1e5)/1e5,HA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fL(r){return r==null}const pL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,UA=(r,t)=>e=>!!(typeof e=="string"&&pL.test(e)&&e.startsWith(r)||t&&!fL(e)&&Object.prototype.hasOwnProperty.call(e,t)),F_=(r,t,e)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(HA);return{[r]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},mL=r=>ka(0,255,r),Rb={...Gu,transform:r=>Math.round(mL(r))},xo={test:UA("rgb","red"),parse:F_("red","green","blue"),transform:({red:r,green:t,blue:e,alpha:s=1})=>"rgba("+Rb.transform(r)+", "+Rb.transform(t)+", "+Rb.transform(e)+", "+md(wd.transform(s))+")"};function gL(r){let t="",e="",s="",a="";return r.length>5?(t=r.substring(1,3),e=r.substring(3,5),s=r.substring(5,7),a=r.substring(7,9)):(t=r.substring(1,2),e=r.substring(2,3),s=r.substring(3,4),a=r.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const $b={test:UA("#"),parse:gL,transform:xo.transform},lp=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),lr=lp("deg"),Bn=lp("%"),At=lp("px"),yL=lp("vh"),bL=lp("vw"),LT={...Bn,parse:r=>Bn.parse(r)/100,transform:r=>Bn.transform(r*100)},_c={test:UA("hsl","hue"),parse:F_("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(r)+", "+Bn.transform(md(t))+", "+Bn.transform(md(e))+", "+md(wd.transform(s))+")"},Le={test:r=>xo.test(r)||$b.test(r)||_c.test(r),parse:r=>xo.test(r)?xo.parse(r):_c.test(r)?_c.parse(r):$b.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?xo.transform(r):_c.transform(r),getAnimatableNone:r=>{const t=Le.parse(r);return t.alpha=0,Le.transform(t)}},vL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AL(r){var t,e;return isNaN(r)&&typeof r=="string"&&(((t=r.match(HA))==null?void 0:t.length)||0)+(((e=r.match(vL))==null?void 0:e.length)||0)>0}const z_="number",V_="color",xL="var",SL="var(",OT="${}",wL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Td(r){const t=r.toString(),e=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(wL,f=>(Le.test(f)?(s.color.push(l),a.push(V_),e.push(Le.parse(f))):f.startsWith(SL)?(s.var.push(l),a.push(xL),e.push(f)):(s.number.push(l),a.push(z_),e.push(parseFloat(f))),++l,OT)).split(OT);return{values:e,split:h,indexes:s,types:a}}function H_(r){return Td(r).values}function U_(r){const{split:t,types:e}=Td(r),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const h=e[c];h===z_?l+=md(a[c]):h===V_?l+=Le.transform(a[c]):l+=a[c]}return l}}const TL=r=>typeof r=="number"?0:Le.test(r)?Le.getAnimatableNone(r):r;function EL(r){const t=H_(r);return U_(r)(t.map(TL))}const Ur={test:AL,parse:H_,createTransformer:U_,getAnimatableNone:EL};function Db(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*6*e:e<1/2?t:e<2/3?r+(t-r)*(2/3-e)*6:r}function _L({hue:r,saturation:t,lightness:e,alpha:s}){r/=360,t/=100,e/=100;let a=0,l=0,c=0;if(!t)a=l=c=e;else{const h=e<.5?e*(1+t):e+t-e*t,f=2*e-h;a=Db(f,h,r+1/3),l=Db(f,h,r),c=Db(f,h,r-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function bg(r,t){return e=>e>0?t:r}const ye=(r,t,e)=>r+(t-r)*e,Nb=(r,t,e)=>{const s=r*r,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},CL=[$b,xo,_c],ML=r=>CL.find(t=>t.test(r));function kT(r){const t=ML(r);if(!t)return!1;let e=t.parse(r);return t===_c&&(e=_L(e)),e}const PT=(r,t)=>{const e=kT(r),s=kT(t);if(!e||!s)return bg(r,t);const a={...e};return l=>(a.red=Nb(e.red,s.red,l),a.green=Nb(e.green,s.green,l),a.blue=Nb(e.blue,s.blue,l),a.alpha=ye(e.alpha,s.alpha,l),xo.transform(a))},Wb=new Set(["none","hidden"]);function RL(r,t){return Wb.has(r)?e=>e<=0?r:t:e=>e>=1?t:r}function DL(r,t){return e=>ye(r,t,e)}function GA(r){return typeof r=="number"?DL:typeof r=="string"?VA(r)?bg:Le.test(r)?PT:OL:Array.isArray(r)?G_:typeof r=="object"?Le.test(r)?PT:NL:bg}function G_(r,t){const e=[...r],s=e.length,a=r.map((l,c)=>GA(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)e[c]=a[c](l);return e}}function NL(r,t){const e={...r,...t},s={};for(const a in e)r[a]!==void 0&&t[a]!==void 0&&(s[a]=GA(r[a])(r[a],t[a]));return a=>{for(const l in s)e[l]=s[l](a);return e}}function LL(r,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=r.indexes[l][s[l]],h=r.values[c]??0;e[a]=h,s[l]++}return e}const OL=(r,t)=>{const e=Ur.createTransformer(t),s=Td(r),a=Td(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Wb.has(r)&&!a.values.length||Wb.has(t)&&!s.values.length?RL(r,t):rp(G_(LL(s,a),a.values),e):bg(r,t)};function q_(r,t,e){return typeof r=="number"&&typeof t=="number"&&typeof e=="number"?ye(r,t,e):GA(r)(r,t)}const kL=r=>{const t=({timestamp:e})=>r(e);return{start:(e=!0)=>fe.update(t,e),stop:()=>Hr(t),now:()=>ri.isProcessing?ri.timestamp:qi.now()}},X_=(r,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)s+=Math.round(r(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},vg=2e4;function qA(r){let t=0;const e=50;let s=r.next(t);for(;!s.done&&t<vg;)t+=e,s=r.next(t);return t>=vg?1/0:t}function PL(r,t=100,e){const s=e({...r,keyframes:[0,t]}),a=Math.min(qA(s),vg);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:In(a)}}const jL=5;function Y_(r,t,e){const s=Math.max(t-jL,0);return __(e-r(s),t-s)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lb=.001;function IL({duration:r=Se.duration,bounce:t=Se.bounce,velocity:e=Se.velocity,mass:s=Se.mass}){let a,l,c=1-t;c=ka(Se.minDamping,Se.maxDamping,c),r=ka(Se.minDuration,Se.maxDuration,In(r)),c<1?(a=p=>{const g=p*c,b=g*r,v=g-e,A=Qb(p,c),S=Math.exp(-b);return Lb-v/A*S},l=p=>{const b=p*c*r,v=b*e+e,A=Math.pow(c,2)*Math.pow(p,2)*r,S=Math.exp(-b),T=Qb(Math.pow(p,2),c);return(-a(p)+Lb>0?-1:1)*((v-A)*S)/T}):(a=p=>{const g=Math.exp(-p*r),b=(p-e)*r+1;return-Lb+g*b},l=p=>{const g=Math.exp(-p*r),b=(e-p)*(r*r);return g*b});const h=5/r,f=FL(a,l,h);if(r=jn(r),isNaN(f))return{stiffness:Se.stiffness,damping:Se.damping,duration:r};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:r}}}const BL=12;function FL(r,t,e){let s=e;for(let a=1;a<BL;a++)s=s-r(s)/t(s);return s}function Qb(r,t){return r*Math.sqrt(1-t*t)}const zL=["duration","bounce"],VL=["stiffness","damping","mass"];function jT(r,t){return t.some(e=>r[e]!==void 0)}function HL(r){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...r};if(!jT(r,VL)&&jT(r,zL))if(r.visualDuration){const e=r.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,l=2*ka(.05,1,1-(r.bounce||0))*Math.sqrt(a);t={...t,mass:Se.mass,stiffness:a,damping:l}}else{const e=IL(r);t={...t,...e,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function Ag(r=Se.visualDuration,t=Se.bounce){const e=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:s,restDelta:a}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:b,velocity:v,isResolvedFromDuration:A}=HL({...e,velocity:-In(e.velocity||0)}),S=v||0,T=p/(2*Math.sqrt(f*g)),D=c-l,R=In(Math.sqrt(f/g)),L=Math.abs(D)<5;s||(s=L?Se.restSpeed.granular:Se.restSpeed.default),a||(a=L?Se.restDelta.granular:Se.restDelta.default);let N;if(T<1){const P=Qb(R,T);N=U=>{const q=Math.exp(-T*R*U);return c-q*((S+T*R*D)/P*Math.sin(P*U)+D*Math.cos(P*U))}}else if(T===1)N=P=>c-Math.exp(-R*P)*(D+(S+R*D)*P);else{const P=R*Math.sqrt(T*T-1);N=U=>{const q=Math.exp(-T*R*U),$=Math.min(P*U,300);return c-q*((S+T*R*D)*Math.sinh($)+P*D*Math.cosh($))/P}}const j={calculatedDuration:A&&b||null,next:P=>{const U=N(P);if(A)h.done=P>=b;else{let q=P===0?S:0;T<1&&(q=P===0?jn(S):Y_(N,P,U));const $=Math.abs(q)<=s,tt=Math.abs(c-U)<=a;h.done=$&&tt}return h.value=h.done?c:U,h},toString:()=>{const P=Math.min(qA(j),vg),U=X_(q=>j.next(P*q).value,P,30);return P+"ms "+U},toTransition:()=>{}};return j}Ag.applyToOptions=r=>{const t=PL(r,100,Ag);return r.ease=t.ease,r.duration=jn(t.duration),r.type="keyframes",r};function Zb({keyframes:r,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:p=.5,restSpeed:g}){const b=r[0],v={done:!1,value:b},A=$=>h!==void 0&&$<h||f!==void 0&&$>f,S=$=>h===void 0?f:f===void 0||Math.abs(h-$)<Math.abs(f-$)?h:f;let T=e*t;const D=b+T,R=c===void 0?D:c(D);R!==D&&(T=R-b);const L=$=>-T*Math.exp(-$/s),N=$=>R+L($),j=$=>{const tt=L($),ft=N($);v.done=Math.abs(tt)<=p,v.value=v.done?R:ft};let P,U;const q=$=>{A(v.value)&&(P=$,U=Ag({keyframes:[v.value,S(v.value)],velocity:Y_(N,$,v.value),damping:a,stiffness:l,restDelta:p,restSpeed:g}))};return q(0),{calculatedDuration:null,next:$=>{let tt=!1;return!U&&P===void 0&&(tt=!0,j($),q($)),P!==void 0&&$>=P?U.next($-P):(!tt&&j($),v)}}}function UL(r,t,e){const s=[],a=e||Pa.mix||q_,l=r.length-1;for(let c=0;c<l;c++){let h=a(r[c],r[c+1]);if(t){const f=Array.isArray(t)?t[c]||Fs:t;h=rp(f,h)}s.push(h)}return s}function GL(r,t,{clamp:e=!0,ease:s,mixer:a}={}){const l=r.length;if(PA(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=r[0]===r[1];r[0]>r[l-1]&&(r=[...r].reverse(),t=[...t].reverse());const h=UL(t,s,a),f=h.length,p=g=>{if(c&&g<r[0])return t[0];let b=0;if(f>1)for(;b<r.length-2&&!(g<r[b+1]);b++);const v=Sd(r[b],r[b+1],g);return h[b](v)};return e?g=>p(ka(r[0],r[l-1],g)):p}function qL(r,t){const e=r[r.length-1];for(let s=1;s<=t;s++){const a=Sd(0,t,s);r.push(ye(e,1,a))}}function XL(r){const t=[0];return qL(t,r.length-1),t}function YL(r,t){return r.map(e=>e*t)}function KL(r,t){return r.map(()=>t||P_).splice(0,r.length-1)}function gd({duration:r=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=aL(s)?s.map(DT):DT(s),l={done:!1,value:t[0]},c=YL(e&&e.length===t.length?e:XL(t),r),h=GL(c,t,{ease:Array.isArray(a)?a:KL(t,a)});return{calculatedDuration:r,next:f=>(l.value=h(f),l.done=f>=r,l)}}const $L=r=>r!==null;function XA(r,{repeat:t,repeatType:e="loop"},s,a=1){const l=r.filter($L),h=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const WL={decay:Zb,inertia:Zb,tween:gd,keyframes:gd,spring:Ag};function K_(r){typeof r.type=="string"&&(r.type=WL[r.type])}class YA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const QL=r=>r/100;class KA extends YA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:e}=this.options;e&&e.updatedAt!==qi.now()&&this.tick(qi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;K_(t);const{type:e=gd,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const f=e||gd;f!==gd&&typeof h[0]!="number"&&(this.mixKeyframes=rp(QL,q_(h[0],h[1])),h=[0,100]);const p=f({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=qA(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:g,repeat:b,repeatType:v,repeatDelay:A,type:S,onUpdate:T,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const R=this.currentTime-p*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?R<0:R>a;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,j=s;if(b){const $=Math.min(this.currentTime,a)/h;let tt=Math.floor($),ft=$%1;!ft&&$>=1&&(ft=1),ft===1&&tt--,tt=Math.min(tt,b+1),!!(tt%2)&&(v==="reverse"?(ft=1-ft,A&&(ft-=A/h)):v==="mirror"&&(j=c)),N=ka(0,1,ft)*h}const P=L?{done:!1,value:g[0]}:j.next(N);l&&(P.value=l(P.value));let{done:U}=P;!L&&f!==null&&(U=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return q&&S!==Zb&&(P.value=XA(g,this.options,D,this.speed)),T&&T(P.value),q&&this.finish(),P}then(t,e){return this.finished.then(t,e)}get duration(){return In(this.calculatedDuration)}get time(){return In(this.currentTime)}set time(t){var e;t=jn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(qi.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=In(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=kL,startTime:e}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function ZL(r){for(let t=1;t<r.length;t++)r[t]??(r[t]=r[t-1])}const So=r=>r*180/Math.PI,Jb=r=>{const t=So(Math.atan2(r[1],r[0]));return tv(t)},JL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Jb,rotateZ:Jb,skewX:r=>So(Math.atan(r[1])),skewY:r=>So(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},tv=r=>(r=r%360,r<0&&(r+=360),r),IT=Jb,BT=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),FT=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),tO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BT,scaleY:FT,scale:r=>(BT(r)+FT(r))/2,rotateX:r=>tv(So(Math.atan2(r[6],r[5]))),rotateY:r=>tv(So(Math.atan2(-r[2],r[0]))),rotateZ:IT,rotate:IT,skewX:r=>So(Math.atan(r[4])),skewY:r=>So(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function ev(r){return r.includes("scale")?1:0}function iv(r,t){if(!r||r==="none")return ev(t);const e=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=tO,a=e;else{const h=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=JL,a=h}if(!a)return ev(t);const l=s[t],c=a[1].split(",").map(iO);return typeof l=="function"?l(c):c[l]}const eO=(r,t)=>{const{transform:e="none"}=getComputedStyle(r);return iv(e,t)};function iO(r){return parseFloat(r.trim())}const qu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xu=new Set(qu),zT=r=>r===Gu||r===At,sO=new Set(["x","y","z"]),nO=qu.filter(r=>!sO.has(r));function aO(r){const t=[];return nO.forEach(e=>{const s=r.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Cl={width:({x:r},{paddingLeft:t="0",paddingRight:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),height:({y:r},{paddingTop:t="0",paddingBottom:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:(r,{transform:t})=>iv(t,"x"),y:(r,{transform:t})=>iv(t,"y")};Cl.translateX=Cl.x;Cl.translateY=Cl.y;const Ml=new Set;let sv=!1,nv=!1,av=!1;function $_(){if(nv){const r=Array.from(Ml).filter(s=>s.needsMeasurement),t=new Set(r.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=aO(s);a.length&&(e.set(s,a),s.render())}),r.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([l,c])=>{var h;(h=s.getValue(l))==null||h.set(c)})}),r.forEach(s=>s.measureEndState()),r.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}nv=!1,sv=!1,Ml.forEach(r=>r.complete(av)),Ml.clear()}function W_(){Ml.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(nv=!0)})}function rO(){av=!0,W_(),$_(),av=!1}class $A{constructor(t,e,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ml.add(this),sv||(sv=!0,fe.read(W_),fe.resolveKeyframes($_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&e){const h=s.readValue(e,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}ZL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ml.delete(this)}cancel(){this.state==="scheduled"&&(Ml.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oO=r=>r.startsWith("--");function lO(r,t,e){oO(t)?r.style.setProperty(t,e):r.style[t]=e}const cO=jA(()=>window.ScrollTimeline!==void 0),uO={};function hO(r,t){const e=jA(r);return()=>uO[t]??e()}const Q_=hO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zh=([r,t,e,s])=>`cubic-bezier(${r}, ${t}, ${e}, ${s})`,VT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zh([0,.65,.55,1]),circOut:Zh([.55,0,1,.45]),backIn:Zh([.31,.01,.66,-.59]),backOut:Zh([.33,1.53,.69,.99])};function Z_(r,t){if(r)return typeof r=="function"?Q_()?X_(r,t):"ease-out":j_(r)?Zh(r):Array.isArray(r)?r.map(e=>Z_(e,t)||VT.easeOut):VT[r]}function dO(r,t,e,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[t]:e};f&&(g.offset=f);const b=Z_(h,a);Array.isArray(b)&&(g.easing=b);const v={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),r.animate(g,v)}function J_(r){return typeof r=="function"&&"applyToOptions"in r}function fO({type:r,...t}){return J_(r)&&Q_()?r.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class pO extends YA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,PA(typeof t.type!="string");const p=fO(t);this.animation=dO(e,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=XA(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):lO(e,s,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,s;const t=((s=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:s.call(e).duration)||0;return In(Number(t))}get time(){return In(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=jn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&cO()?(this.animation.timeline=t,Fs):e(this)}}const tC={anticipate:L_,backInOut:N_,circInOut:k_};function mO(r){return r in tC}function gO(r){typeof r.ease=="string"&&mO(r.ease)&&(r.ease=tC[r.ease])}const HT=10;class yO extends pO{constructor(t){gO(t),K_(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new KA({...c,autoplay:!1}),f=jn(this.finishedTime??this.time);e.setWithVelocity(h.sample(f-HT).value,h.sample(f).value,HT),h.stop()}}const UT=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Ur.test(r)||r==="0")&&!r.startsWith("url("));function bO(r){const t=r[0];if(r.length===1)return!0;for(let e=0;e<r.length;e++)if(r[e]!==t)return!0}function vO(r,t,e,s){const a=r[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=r[r.length-1],c=UT(a,t),h=UT(l,t);return!c||!h?!1:bO(r)||(e==="spring"||J_(e))&&s}function eC(r){return T_(r)&&"offsetHeight"in r}const AO=new Set(["opacity","clipPath","filter","transform"]),xO=jA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SO(r){var p;const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:l,type:c}=r;if(!eC((p=t==null?void 0:t.owner)==null?void 0:p.current))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return xO()&&e&&AO.has(e)&&(e!=="transform"||!f)&&!h&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const wO=40;class TO extends YA{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:p,element:g,...b}){var S;super(),this.stop=()=>{var T,D;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=qi.now();const v={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:g,...b},A=(g==null?void 0:g.KeyframeResolver)||$A;this.keyframeResolver=new A(h,(T,D,R)=>this.onKeyframesResolved(T,D,v,!R),f,p,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:p,onUpdate:g}=s;this.resolvedAt=qi.now(),vO(t,l,c,h)||((Pa.instantAnimations||!f)&&(g==null||g(XA(t,s,e))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>wO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},A=!p&&SO(v)?new yO({...v,element:v.motionValue.owner.current}):new KA(v);A.finished.then(()=>this.notifyFinished()).catch(Fs),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),rO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const EO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _O(r){const t=EO.exec(r);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function iC(r,t,e=1){const[s,a]=_O(r);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return w_(c)?parseFloat(c):c}return VA(a)?iC(a,t,e+1):a}function WA(r,t){return(r==null?void 0:r[t])??(r==null?void 0:r.default)??r}const sC=new Set(["width","height","top","left","right","bottom",...qu]),CO={test:r=>r==="auto",parse:r=>r},nC=r=>t=>t.test(r),aC=[Gu,At,Bn,lr,bL,yL,CO],GT=r=>aC.find(nC(r));function MO(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||E_(r):!0}const RO=new Set(["brightness","contrast","saturate","opacity"]);function DO(r){const[t,e]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[s]=e.match(HA)||[];if(!s)return r;const a=e.replace(s,"");let l=RO.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+a+")"}const NO=/\b([a-z-]*)\(.*?\)/gu,rv={...Ur,getAnimatableNone:r=>{const t=r.match(NO);return t?t.map(DO).join(" "):r}},qT={...Gu,transform:Math.round},LO={rotate:lr,rotateX:lr,rotateY:lr,rotateZ:lr,scale:Nm,scaleX:Nm,scaleY:Nm,scaleZ:Nm,skew:lr,skewX:lr,skewY:lr,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:wd,originX:LT,originY:LT,originZ:At},QA={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...LO,zIndex:qT,fillOpacity:wd,strokeOpacity:wd,numOctaves:qT},OO={...QA,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:rv,WebkitFilter:rv},rC=r=>OO[r];function oC(r,t){let e=rC(r);return e!==rv&&(e=Ur),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const kO=new Set(["auto","none","0"]);function PO(r,t,e){let s=0,a;for(;s<r.length&&!a;){const l=r[s];typeof l=="string"&&!kO.has(l)&&Td(l).values.length&&(a=r[s]),s++}if(a&&e)for(const l of t)r[l]=oC(e,a)}class jO extends $A{constructor(t,e,s,a,l){super(t,e,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let p=t[f];if(typeof p=="string"&&(p=p.trim(),VA(p))){const g=iC(p,e.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!sC.has(s)||t.length!==2)return;const[a,l]=t,c=GT(a),h=GT(l);if(c!==h)if(zT(c)&&zT(h))for(let f=0;f<t.length;f++){const p=t[f];typeof p=="string"&&(t[f]=parseFloat(p))}else Cl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||MO(t[a]))&&s.push(a);s.length&&PO(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var h;const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Cl[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function IO(r,t,e){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let s=document;const a=(e==null?void 0:e[r])??s.querySelectorAll(r);return a?Array.from(a):[]}return Array.from(r)}const lC=(r,t)=>t&&typeof r=="number"?t.transform(r):r,XT=30,BO=r=>!isNaN(parseFloat(r));class FO{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var c,h;const l=qi.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();a&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=qi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=BO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new IA);const s=this.events[t].add(e);return t==="change"?()=>{s(),fe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>XT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,XT);return __(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vu(r,t){return new FO(r,t)}const{schedule:ZA}=I_(queueMicrotask,!1),qs={x:!1,y:!1};function cC(){return qs.x||qs.y}function zO(r){return r==="x"||r==="y"?qs[r]?null:(qs[r]=!0,()=>{qs[r]=!1}):qs.x||qs.y?null:(qs.x=qs.y=!0,()=>{qs.x=qs.y=!1})}function uC(r,t){const e=IO(r),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function YT(r){return!(r.pointerType==="touch"||cC())}function VO(r,t,e={}){const[s,a,l]=uC(r,e),c=h=>{if(!YT(h))return;const{target:f}=h,p=t(f,h);if(typeof p!="function"||!f)return;const g=b=>{YT(b)&&(p(b),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const hC=(r,t)=>t?r===t?!0:hC(r,t.parentElement):!1,JA=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,HO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UO(r){return HO.has(r.tagName)||r.tabIndex!==-1}const Fm=new WeakSet;function KT(r){return t=>{t.key==="Enter"&&r(t)}}function Ob(r,t){r.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const GO=(r,t)=>{const e=r.currentTarget;if(!e)return;const s=KT(()=>{if(Fm.has(e))return;Ob(e,"down");const a=KT(()=>{Ob(e,"up")}),l=()=>Ob(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function $T(r){return JA(r)&&!cC()}function qO(r,t,e={}){const[s,a,l]=uC(r,e),c=h=>{const f=h.currentTarget;if(!$T(h))return;Fm.add(f);const p=t(f,h),g=(A,S)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),Fm.has(f)&&Fm.delete(f),$T(A)&&typeof p=="function"&&p(A,{success:S})},b=A=>{g(A,f===window||f===document||e.useGlobalTarget||hC(f,A.target))},v=A=>{g(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",v,a)};return s.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),eC(h)&&(h.addEventListener("focus",p=>GO(p,a)),!UO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function dC(r){return T_(r)&&"ownerSVGElement"in r}function XO(r){return dC(r)&&r.tagName==="svg"}const xi=r=>!!(r&&r.getVelocity),YO=[...aC,Le,Ur],KO=r=>YO.find(nC(r)),fC=et.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function $O(r=!0){const t=et.useContext(LA);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,l=et.useId();et.useEffect(()=>{if(r)return a(l)},[r]);const c=et.useCallback(()=>r&&s&&s(l),[l,s,r]);return!e&&s?[!1,c]:[!0]}const pC=et.createContext({strict:!1}),WT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hu={};for(const r in WT)Hu[r]={isEnabled:t=>WT[r].some(e=>!!t[e])};function WO(r){for(const t in r)Hu[t]={...Hu[t],...r[t]}}const QO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xg(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||QO.has(r)}let mC=r=>!xg(r);function ZO(r){typeof r=="function"&&(mC=t=>t.startsWith("on")?!xg(t):r(t))}try{ZO(require("@emotion/is-prop-valid").default)}catch{}function JO(r,t,e){const s={};for(const a in r)a==="values"&&typeof r.values=="object"||(mC(a)||e===!0&&xg(a)||!t&&!xg(a)||r.draggable&&a.startsWith("onDrag"))&&(s[a]=r[a]);return s}function tk(r){if(typeof Proxy>"u")return r;const t=new Map,e=(...s)=>r(...s);return new Proxy(e,{get:(s,a)=>a==="create"?r:(t.has(a)||t.set(a,r(a)),t.get(a))})}const Wg=et.createContext({});function Qg(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Ed(r){return typeof r=="string"||Array.isArray(r)}const tx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ex=["initial",...tx];function Zg(r){return Qg(r.animate)||ex.some(t=>Ed(r[t]))}function gC(r){return!!(Zg(r)||r.variants)}function ek(r,t){if(Zg(r)){const{initial:e,animate:s}=r;return{initial:e===!1||Ed(e)?e:void 0,animate:Ed(s)?s:void 0}}return r.inherit!==!1?t:{}}function ik(r){const{initial:t,animate:e}=ek(r,et.useContext(Wg));return et.useMemo(()=>({initial:t,animate:e}),[QT(t),QT(e)])}function QT(r){return Array.isArray(r)?r.join(" "):r}const sk=Symbol.for("motionComponentSymbol");function Cc(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function nk(r,t,e){return et.useCallback(s=>{s&&r.onMount&&r.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):Cc(e)&&(e.current=s))},[t])}const ix=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ak="framerAppearId",yC="data-"+ix(ak),bC=et.createContext({});function rk(r,t,e,s,a){var T,D;const{visualElement:l}=et.useContext(Wg),c=et.useContext(pC),h=et.useContext(LA),f=et.useContext(fC).reducedMotion,p=et.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(r,{visualState:t,parent:l,props:e,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,b=et.useContext(bC);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&ok(p.current,e,a,b);const v=et.useRef(!1);et.useInsertionEffect(()=>{g&&v.current&&g.update(e,h)});const A=e[yC],S=et.useRef(!!A&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,A))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,A)));return ZN(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),ZA.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),et.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,A)}),S.current=!1))}),g}function ok(r,t,e,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=t;r.projection=new e(r.latestValues,t["data-framer-portal-id"]?void 0:vC(r.parent)),r.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Cc(h),visualElement:r,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:f,layoutRoot:p})}function vC(r){if(r)return r.options.allowProjection!==!1?r.projection:vC(r.parent)}function lk({preloadedFeatures:r,createVisualElement:t,useRender:e,useVisualState:s,Component:a}){r&&WO(r);function l(h,f){let p;const g={...et.useContext(fC),...h,layoutId:ck(h)},{isStatic:b}=g,v=ik(h),A=s(h,b);if(!b&&NA){uk();const S=hk(g);p=S.MeasureLayout,v.visualElement=rk(a,A,g,t,S.ProjectionNode)}return M.jsxs(Wg.Provider,{value:v,children:[p&&v.visualElement?M.jsx(p,{visualElement:v.visualElement,...g}):null,e(a,h,nk(A,v.visualElement,f),A,b,v.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=et.forwardRef(l);return c[sk]=a,c}function ck({layoutId:r}){const t=et.useContext(S_).id;return t&&r!==void 0?t+"-"+r:r}function uk(r,t){et.useContext(pC).strict}function hk(r){const{drag:t,layout:e}=Hu;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(r)||e!=null&&e.isEnabled(r)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const _d={};function dk(r){for(const t in r)_d[t]=r[t],zA(t)&&(_d[t].isCSSVariable=!0)}function AC(r,{layout:t,layoutId:e}){return Xu.has(r)||r.startsWith("origin")||(t||e!==void 0)&&(!!_d[r]||r==="opacity")}const fk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pk=qu.length;function mk(r,t,e){let s="",a=!0;for(let l=0;l<pk;l++){const c=qu[l],h=r[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||e){const p=lC(h,QA[c]);if(!f){a=!1;const g=fk[c]||c;s+=`${g}(${p}) `}e&&(t[c]=p)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function sx(r,t,e){const{style:s,vars:a,transformOrigin:l}=r;let c=!1,h=!1;for(const f in t){const p=t[f];if(Xu.has(f)){c=!0;continue}else if(zA(f)){a[f]=p;continue}else{const g=lC(p,QA[f]);f.startsWith("origin")?(h=!0,l[f]=g):s[f]=g}}if(t.transform||(c||e?s.transform=mk(t,r.transform,e):s.transform&&(s.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${p} ${g}`}}const nx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xC(r,t,e){for(const s in t)!xi(t[s])&&!AC(s,e)&&(r[s]=t[s])}function gk({transformTemplate:r},t){return et.useMemo(()=>{const e=nx();return sx(e,t,r),Object.assign({},e.vars,e.style)},[t])}function yk(r,t){const e=r.style||{},s={};return xC(s,e,r),Object.assign(s,gk(r,t)),s}function bk(r,t){const e={},s=yk(r,t);return r.drag&&r.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(e.tabIndex=0),e.style=s,e}const vk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ak={offset:"strokeDashoffset",array:"strokeDasharray"};function xk(r,t,e=1,s=0,a=!0){r.pathLength=1;const l=a?vk:Ak;r[l.offset]=At.transform(-s);const c=At.transform(t),h=At.transform(e);r[l.array]=`${c} ${h}`}function SC(r,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,p,g){if(sx(r,h,p),f){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:b,style:v}=r;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),e!==void 0&&(b.y=e),s!==void 0&&(b.scale=s),a!==void 0&&xk(b,a,l,c,!1)}const wC=()=>({...nx(),attrs:{}}),TC=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Sk(r,t,e,s){const a=et.useMemo(()=>{const l=wC();return SC(l,t,TC(s),r.transformTemplate,r.style),{...l.attrs,style:{...l.style}}},[t]);if(r.style){const l={};xC(l,r.style,r),a.style={...l,...a.style}}return a}const wk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ax(r){return typeof r!="string"||r.includes("-")?!1:!!(wk.indexOf(r)>-1||/[A-Z]/u.test(r))}function Tk(r=!1){return(e,s,a,{latestValues:l},c)=>{const f=(ax(e)?Sk:bk)(s,l,c,e),p=JO(s,typeof e=="string",r),g=e!==et.Fragment?{...p,...f,ref:a}:{},{children:b}=s,v=et.useMemo(()=>xi(b)?b.get():b,[b]);return et.createElement(e,{...g,children:v})}}function ZT(r){const t=[{},{}];return r==null||r.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function rx(r,t,e,s){if(typeof t=="function"){const[a,l]=ZT(s);t=t(e!==void 0?e:r.custom,a,l)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[a,l]=ZT(s);t=t(e!==void 0?e:r.custom,a,l)}return t}function zm(r){return xi(r)?r.get():r}function Ek({scrapeMotionValuesFromProps:r,createRenderState:t},e,s,a){return{latestValues:_k(e,s,a,r),renderState:t()}}const EC=r=>(t,e)=>{const s=et.useContext(Wg),a=et.useContext(LA),l=()=>Ek(r,t,s,a);return e?l():QN(l)};function _k(r,t,e,s){const a={},l=s(r,{});for(const v in l)a[v]=zm(l[v]);let{initial:c,animate:h}=r;const f=Zg(r),p=gC(r);t&&p&&!f&&r.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let g=e?e.initial===!1:!1;g=g||c===!1;const b=g?h:c;if(b&&typeof b!="boolean"&&!Qg(b)){const v=Array.isArray(b)?b:[b];for(let A=0;A<v.length;A++){const S=rx(r,v[A]);if(S){const{transitionEnd:T,transition:D,...R}=S;for(const L in R){let N=R[L];if(Array.isArray(N)){const j=g?N.length-1:0;N=N[j]}N!==null&&(a[L]=N)}for(const L in T)a[L]=T[L]}}}return a}function ox(r,t,e){var l;const{style:s}=r,a={};for(const c in s)(xi(s[c])||t.style&&xi(t.style[c])||AC(c,r)||((l=e==null?void 0:e.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const Ck={useVisualState:EC({scrapeMotionValuesFromProps:ox,createRenderState:nx})};function _C(r,t,e){const s=ox(r,t,e);for(const a in r)if(xi(r[a])||xi(t[a])){const l=qu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=r[a]}return s}const Mk={useVisualState:EC({scrapeMotionValuesFromProps:_C,createRenderState:wC})};function Rk(r,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...ax(s)?Mk:Ck,preloadedFeatures:r,useRender:Tk(a),createVisualElement:t,Component:s};return lk(c)}}function Cd(r,t,e){const s=r.getProps();return rx(s,t,e!==void 0?e:s.custom,r)}const ov=r=>Array.isArray(r);function Dk(r,t,e){r.hasValue(t)?r.getValue(t).set(e):r.addValue(t,Vu(e))}function Nk(r){return ov(r)?r[r.length-1]||0:r}function Lk(r,t){const e=Cd(r,t);let{transitionEnd:s={},transition:a={},...l}=e||{};l={...l,...s};for(const c in l){const h=Nk(l[c]);Dk(r,c,h)}}function Ok(r){return!!(xi(r)&&r.add)}function lv(r,t){const e=r.getValue("willChange");if(Ok(e))return e.add(t);if(!e&&Pa.WillChange){const s=new Pa.WillChange("auto");r.addValue("willChange",s),s.add(t)}}function CC(r){return r.props[yC]}const kk=r=>r!==null;function Pk(r,{repeat:t,repeatType:e="loop"},s){const a=r.filter(kk),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}const jk={type:"spring",stiffness:500,damping:25,restSpeed:10},Ik=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),Bk={type:"keyframes",duration:.8},Fk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zk=(r,{keyframes:t})=>t.length>2?Bk:Xu.has(r)?r.startsWith("scale")?Ik(t[1]):jk:Fk;function Vk({when:r,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const lx=(r,t,e,s={},a,l)=>c=>{const h=WA(s,r)||{},f=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-jn(f);const g={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:v=>{t.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:r,motionValue:t,element:l?void 0:a};Vk(h)||Object.assign(g,zk(r,g)),g.duration&&(g.duration=jn(g.duration)),g.repeatDelay&&(g.repeatDelay=jn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(b=!0)),(Pa.instantAnimations||Pa.skipAnimations)&&(b=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,b&&!l&&t.get()!==void 0){const v=Pk(g.keyframes,h);if(v!==void 0){fe.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new KA(g):new TO(g)};function Hk({protectedKeys:r,needsAnimating:t},e){const s=r.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function MC(r,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:l=r.getDefaultTransition(),transitionEnd:c,...h}=t;s&&(l=s);const f=[],p=a&&r.animationState&&r.animationState.getState()[a];for(const g in h){const b=r.getValue(g,r.latestValues[g]??null),v=h[g];if(v===void 0||p&&Hk(p,g))continue;const A={delay:e,...WA(l||{},g)},S=b.get();if(S!==void 0&&!b.isAnimating&&!Array.isArray(v)&&v===S&&!A.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const R=CC(r);if(R){const L=window.MotionHandoffAnimation(R,g,fe);L!==null&&(A.startTime=L,T=!0)}}lv(r,g),b.start(lx(g,b,v,r.shouldReduceMotion&&sC.has(g)?{type:!1}:A,r,T));const D=b.animation;D&&f.push(D)}return c&&Promise.all(f).then(()=>{fe.update(()=>{c&&Lk(r,c)})}),f}function cv(r,t,e={}){var f;const s=Cd(r,t,e.type==="exit"?(f=r.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=r.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const l=s?()=>Promise.all(MC(r,s,e)):()=>Promise.resolve(),c=r.variantChildren&&r.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:b,staggerDirection:v}=a;return Uk(r,t,p,g,b,v,e)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(e.delay)])}function Uk(r,t,e=0,s=0,a=0,l=1,c){const h=[],f=r.variantChildren.size,p=(f-1)*a,g=typeof s=="function",b=g?v=>s(v,f):l===1?(v=0)=>v*a:(v=0)=>p-v*a;return Array.from(r.variantChildren).sort(Gk).forEach((v,A)=>{v.notify("AnimationStart",t),h.push(cv(v,t,{...c,delay:e+(g?0:s)+b(A)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(h)}function Gk(r,t){return r.sortNodePosition(t)}function qk(r,t,e={}){r.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>cv(r,l,e));s=Promise.all(a)}else if(typeof t=="string")s=cv(r,t,e);else{const a=typeof t=="function"?Cd(r,t,e.custom):t;s=Promise.all(MC(r,a,e))}return s.then(()=>{r.notify("AnimationComplete",t)})}function RC(r,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==r.length)return!1;for(let s=0;s<e;s++)if(t[s]!==r[s])return!1;return!0}const Xk=ex.length;function DC(r){if(!r)return;if(!r.isControllingVariants){const e=r.parent?DC(r.parent)||{}:{};return r.props.initial!==void 0&&(e.initial=r.props.initial),e}const t={};for(let e=0;e<Xk;e++){const s=ex[e],a=r.props[s];(Ed(a)||a===!1)&&(t[s]=a)}return t}const Yk=[...tx].reverse(),Kk=tx.length;function $k(r){return t=>Promise.all(t.map(({animation:e,options:s})=>qk(r,e,s)))}function Wk(r){let t=$k(r),e=JT(),s=!0;const a=f=>(p,g)=>{var v;const b=Cd(r,g,f==="exit"?(v=r.presenceContext)==null?void 0:v.custom:void 0);if(b){const{transition:A,transitionEnd:S,...T}=b;p={...p,...T,...S}}return p};function l(f){t=f(r)}function c(f){const{props:p}=r,g=DC(r.parent)||{},b=[],v=new Set;let A={},S=1/0;for(let D=0;D<Kk;D++){const R=Yk[D],L=e[R],N=p[R]!==void 0?p[R]:g[R],j=Ed(N),P=R===f?L.isActive:null;P===!1&&(S=D);let U=N===g[R]&&N!==p[R]&&j;if(U&&s&&r.manuallyAnimateOnMount&&(U=!1),L.protectedKeys={...A},!L.isActive&&P===null||!N&&!L.prevProp||Qg(N)||typeof N=="boolean")continue;const q=Qk(L.prevProp,N);let $=q||R===f&&L.isActive&&!U&&j||D>S&&j,tt=!1;const ft=Array.isArray(N)?N:[N];let ot=ft.reduce(a(R),{});P===!1&&(ot={});const{prevResolvedValues:St={}}=L,Gt={...St,...ot},Et=X=>{$=!0,v.has(X)&&(tt=!0,v.delete(X)),L.needsAnimating[X]=!0;const st=r.getValue(X);st&&(st.liveStyle=!1)};for(const X in Gt){const st=ot[X],wt=St[X];if(A.hasOwnProperty(X))continue;let k=!1;ov(st)&&ov(wt)?k=!RC(st,wt):k=st!==wt,k?st!=null?Et(X):v.add(X):st!==void 0&&v.has(X)?Et(X):L.protectedKeys[X]=!0}L.prevProp=N,L.prevResolvedValues=ot,L.isActive&&(A={...A,...ot}),s&&r.blockInitialAnimation&&($=!1),$&&(!(U&&q)||tt)&&b.push(...ft.map(X=>({animation:X,options:{type:R}})))}if(v.size){const D={};if(typeof p.initial!="boolean"){const R=Cd(r,Array.isArray(p.initial)?p.initial[0]:p.initial);R&&R.transition&&(D.transition=R.transition)}v.forEach(R=>{const L=r.getBaseTarget(R),N=r.getValue(R);N&&(N.liveStyle=!0),D[R]=L??null}),b.push({animation:D})}let T=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!r.manuallyAnimateOnMount&&(T=!1),s=!1,T?t(b):Promise.resolve()}function h(f,p){var b;if(e[f].isActive===p)return Promise.resolve();(b=r.variantChildren)==null||b.forEach(v=>{var A;return(A=v.animationState)==null?void 0:A.setActive(f,p)}),e[f].isActive=p;const g=c(f);for(const v in e)e[v].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=JT(),s=!0}}}function Qk(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!RC(t,r):!1}function po(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JT(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Zk extends Yr{constructor(t){super(t),t.animationState||(t.animationState=Wk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Jk=0;class tP extends Yr{constructor(){super(...arguments),this.id=Jk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const eP={animation:{Feature:Zk},exit:{Feature:tP}};function Md(r,t,e,s={passive:!0}){return r.addEventListener(t,e,s),()=>r.removeEventListener(t,e)}function cp(r){return{point:{x:r.pageX,y:r.pageY}}}const iP=r=>t=>JA(t)&&r(t,cp(t));function yd(r,t,e,s){return Md(r,t,iP(e),s)}function NC({top:r,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:r,max:s}}}function sP({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function nP(r,t){if(!t)return r;const e=t({x:r.left,y:r.top}),s=t({x:r.right,y:r.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}const LC=1e-4,aP=1-LC,rP=1+LC,OC=.01,oP=0-OC,lP=0+OC;function Ri(r){return r.max-r.min}function cP(r,t,e){return Math.abs(r-t)<=e}function tE(r,t,e,s=.5){r.origin=s,r.originPoint=ye(t.min,t.max,r.origin),r.scale=Ri(e)/Ri(t),r.translate=ye(e.min,e.max,r.origin)-r.originPoint,(r.scale>=aP&&r.scale<=rP||isNaN(r.scale))&&(r.scale=1),(r.translate>=oP&&r.translate<=lP||isNaN(r.translate))&&(r.translate=0)}function bd(r,t,e,s){tE(r.x,t.x,e.x,s?s.originX:void 0),tE(r.y,t.y,e.y,s?s.originY:void 0)}function eE(r,t,e){r.min=e.min+t.min,r.max=r.min+Ri(t)}function uP(r,t,e){eE(r.x,t.x,e.x),eE(r.y,t.y,e.y)}function iE(r,t,e){r.min=t.min-e.min,r.max=r.min+Ri(t)}function vd(r,t,e){iE(r.x,t.x,e.x),iE(r.y,t.y,e.y)}const sE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mc=()=>({x:sE(),y:sE()}),nE=()=>({min:0,max:0}),Ce=()=>({x:nE(),y:nE()});function Rs(r){return[r("x"),r("y")]}function kb(r){return r===void 0||r===1}function uv({scale:r,scaleX:t,scaleY:e}){return!kb(r)||!kb(t)||!kb(e)}function mo(r){return uv(r)||kC(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function kC(r){return aE(r.x)||aE(r.y)}function aE(r){return r&&r!=="0%"}function Sg(r,t,e){const s=r-e,a=t*s;return e+a}function rE(r,t,e,s,a){return a!==void 0&&(r=Sg(r,a,s)),Sg(r,e,s)+t}function hv(r,t=0,e=1,s,a){r.min=rE(r.min,t,e,s,a),r.max=rE(r.max,t,e,s,a)}function PC(r,{x:t,y:e}){hv(r.x,t.translate,t.scale,t.originPoint),hv(r.y,e.translate,e.scale,e.originPoint)}const oE=.999999999999,lE=1.0000000000001;function hP(r,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,c;for(let h=0;h<a;h++){l=e[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Dc(r,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,PC(r,c)),s&&mo(l.latestValues)&&Dc(r,l.latestValues))}t.x<lE&&t.x>oE&&(t.x=1),t.y<lE&&t.y>oE&&(t.y=1)}function Rc(r,t){r.min=r.min+t,r.max=r.max+t}function cE(r,t,e,s,a=.5){const l=ye(r.min,r.max,a);hv(r,t,e,l,s)}function Dc(r,t){cE(r.x,t.x,t.scaleX,t.scale,t.originX),cE(r.y,t.y,t.scaleY,t.scale,t.originY)}function jC(r,t){return NC(nP(r.getBoundingClientRect(),t))}function dP(r,t,e){const s=jC(r,e),{scroll:a}=t;return a&&(Rc(s.x,a.offset.x),Rc(s.y,a.offset.y)),s}const IC=({current:r})=>r?r.ownerDocument.defaultView:null,uE=(r,t)=>Math.abs(r-t);function fP(r,t){const e=uE(r.x,t.x),s=uE(r.y,t.y);return Math.sqrt(e**2+s**2)}class BC{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=jb(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,S=fP(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!S)return;const{point:T}=v,{timestamp:D}=ri;this.history.push({...T,timestamp:D});const{onStart:R,onMove:L}=this.handlers;A||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,v)},this.handlePointerMove=(v,A)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Pb(A,this.transformPagePoint),fe.update(this.updatePoint,!0)},this.handlePointerUp=(v,A)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=jb(v.type==="pointercancel"?this.lastMoveEventInfo:Pb(A,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,R),T&&T(v,R)},!JA(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const h=cp(t),f=Pb(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=ri;this.history=[{...p,timestamp:g}];const{onSessionStart:b}=e;b&&b(t,jb(f,this.history)),this.removeListeners=rp(yd(this.contextWindow,"pointermove",this.handlePointerMove),yd(this.contextWindow,"pointerup",this.handlePointerUp),yd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hr(this.updatePoint)}}function Pb(r,t){return t?{point:t(r.point)}:r}function hE(r,t){return{x:r.x-t.x,y:r.y-t.y}}function jb({point:r},t){return{point:r,delta:hE(r,FC(t)),offset:hE(r,pP(t)),velocity:mP(t,.1)}}function pP(r){return r[0]}function FC(r){return r[r.length-1]}function mP(r,t){if(r.length<2)return{x:0,y:0};let e=r.length-1,s=null;const a=FC(r);for(;e>=0&&(s=r[e],!(a.timestamp-s.timestamp>jn(t)));)e--;if(!s)return{x:0,y:0};const l=In(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function gP(r,{min:t,max:e},s){return t!==void 0&&r<t?r=s?ye(t,r,s.min):Math.max(r,t):e!==void 0&&r>e&&(r=s?ye(e,r,s.max):Math.min(r,e)),r}function dE(r,t,e){return{min:t!==void 0?r.min+t:void 0,max:e!==void 0?r.max+e-(r.max-r.min):void 0}}function yP(r,{top:t,left:e,bottom:s,right:a}){return{x:dE(r.x,e,a),y:dE(r.y,t,s)}}function fE(r,t){let e=t.min-r.min,s=t.max-r.max;return t.max-t.min<r.max-r.min&&([e,s]=[s,e]),{min:e,max:s}}function bP(r,t){return{x:fE(r.x,t.x),y:fE(r.y,t.y)}}function vP(r,t){let e=.5;const s=Ri(r),a=Ri(t);return a>s?e=Sd(t.min,t.max-s,r.min):s>a&&(e=Sd(r.min,r.max-a,t.min)),ka(0,1,e)}function AP(r,t){const e={};return t.min!==void 0&&(e.min=t.min-r.min),t.max!==void 0&&(e.max=t.max-r.min),e}const dv=.35;function xP(r=dv){return r===!1?r=0:r===!0&&(r=dv),{x:pE(r,"left","right"),y:pE(r,"top","bottom")}}function pE(r,t,e){return{min:mE(r,t),max:mE(r,e)}}function mE(r,t){return typeof r=="number"?r:r[t]||0}const SP=new WeakMap;class wP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ce(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(cp(b).point)},c=(b,v)=>{const{drag:A,dragPropagation:S,onDragStart:T}=this.getProps();if(A&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zO(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs(R=>{let L=this.getAxisMotionValue(R).get()||0;if(Bn.test(L)){const{projection:N}=this.visualElement;if(N&&N.layout){const j=N.layout.layoutBox[R];j&&(L=Ri(j)*(parseFloat(L)/100))}}this.originPoint[R]=L}),T&&fe.postRender(()=>T(b,v)),lv(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:A,dragDirectionLock:S,onDirectionLock:T,onDrag:D}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:R}=v;if(S&&this.currentDirection===null){this.currentDirection=TP(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),D&&D(b,v)},f=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Rs(b=>{var v;return this.getAnimationState(b)==="paused"&&((v=this.getAxisMotionValue(b).animation)==null?void 0:v.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new BC(t,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:IC(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&fe.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!Lm(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=gP(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Cc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=yP(s.layoutBox,t):this.constraints=!1,this.elastic=xP(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Rs(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=AP(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Cc(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=dP(s,a.root,this.visualElement.getTransformPagePoint());let c=bP(a.layout.layoutBox,l);if(e){const h=e(sP(c));this.hasMutatedConstraints=!!h,h&&(c=NC(h))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Rs(g=>{if(!Lm(g,e,this.currentDirection))return;let b=f&&f[g]||{};c&&(b={min:0,max:0});const v=a?200:1e6,A=a?40:1e7,S={type:"inertia",velocity:s?t[g]:0,bounceStiffness:v,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(h)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return lv(this.visualElement,t),s.start(lx(t,s,0,e,this.visualElement,!1))}stopAnimation(){Rs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rs(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Rs(e=>{const{drag:s}=this.getProps();if(!Lm(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[e];l.set(t[e]-ye(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!Cc(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rs(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=vP({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Rs(c=>{if(!Lm(c,t,null))return;const h=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];h.set(ye(f,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;SP.set(this.visualElement,this);const t=this.visualElement.current,e=yd(t,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Cc(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),fe.read(s);const c=Md(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Rs(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=f[g].translate,b.set(b.get()+f[g].translate))}),this.visualElement.render())});return()=>{c(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=dv,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Lm(r,t,e){return(t===!0||t===r)&&(e===null||e===r)}function TP(r,t=10){let e=null;return Math.abs(r.y)>t?e="y":Math.abs(r.x)>t&&(e="x"),e}class EP extends Yr{constructor(t){super(t),this.removeGroupControls=Fs,this.removeListeners=Fs,this.controls=new wP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const gE=r=>(t,e)=>{r&&fe.postRender(()=>r(t,e))};class _P extends Yr{constructor(){super(...arguments),this.removePointerDownListener=Fs}onPointerDown(t){this.session=new BC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:gE(t),onStart:gE(e),onMove:s,onEnd:(l,c)=>{delete this.session,a&&fe.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=yd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yE(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const Yh={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(At.test(r))r=parseFloat(r);else return r;const e=yE(r,t.target.x),s=yE(r,t.target.y);return`${e}% ${s}%`}},CP={correct:(r,{treeScale:t,projectionDelta:e})=>{const s=r,a=Ur.parse(r);if(a.length>5)return s;const l=Ur.createTransformer(r),c=typeof a[0]!="number"?1:0,h=e.x.scale*t.x,f=e.y.scale*t.y;a[0+c]/=h,a[1+c]/=f;const p=ye(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let bE=!1;class MP extends et.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;dk(RP),l&&(e.group&&e.group.add(l),s&&s.register&&a&&s.register(l),bE&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Vm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,bE=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||fe.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ZA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zC(r){const[t,e]=$O(),s=et.useContext(S_);return M.jsx(MP,{...r,layoutGroup:s,switchLayoutGroup:et.useContext(bC),isPresent:t,safeToRemove:e})}const RP={borderRadius:{...Yh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yh,borderTopRightRadius:Yh,borderBottomLeftRadius:Yh,borderBottomRightRadius:Yh,boxShadow:CP};function DP(r,t,e){const s=xi(r)?r:Vu(r);return s.start(lx("",s,t,e)),s.animation}const NP=(r,t)=>r.depth-t.depth;class LP{constructor(){this.children=[],this.isDirty=!1}add(t){OA(this.children,t),this.isDirty=!0}remove(t){kA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NP),this.isDirty=!1,this.children.forEach(t)}}function OP(r,t){const e=qi.now(),s=({timestamp:a})=>{const l=a-e;l>=t&&(Hr(s),r(l-t))};return fe.setup(s,!0),()=>Hr(s)}const VC=["TopLeft","TopRight","BottomLeft","BottomRight"],kP=VC.length,vE=r=>typeof r=="string"?parseFloat(r):r,AE=r=>typeof r=="number"||At.test(r);function PP(r,t,e,s,a,l){a?(r.opacity=ye(0,e.opacity??1,jP(s)),r.opacityExit=ye(t.opacity??1,0,IP(s))):l&&(r.opacity=ye(t.opacity??1,e.opacity??1,s));for(let c=0;c<kP;c++){const h=`border${VC[c]}Radius`;let f=xE(t,h),p=xE(e,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||AE(f)===AE(p)?(r[h]=Math.max(ye(vE(f),vE(p),s),0),(Bn.test(p)||Bn.test(f))&&(r[h]+="%")):r[h]=p}(t.rotate||e.rotate)&&(r.rotate=ye(t.rotate||0,e.rotate||0,s))}function xE(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const jP=HC(0,.5,O_),IP=HC(.5,.95,Fs);function HC(r,t,e){return s=>s<r?0:s>t?1:e(Sd(r,t,s))}function SE(r,t){r.min=t.min,r.max=t.max}function _s(r,t){SE(r.x,t.x),SE(r.y,t.y)}function wE(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}function TE(r,t,e,s,a){return r-=t,r=Sg(r,1/e,s),a!==void 0&&(r=Sg(r,1/a,s)),r}function BP(r,t=0,e=1,s=.5,a,l=r,c=r){if(Bn.test(t)&&(t=parseFloat(t),t=ye(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=ye(l.min,l.max,s);r===l&&(h-=t),r.min=TE(r.min,t,e,h,a),r.max=TE(r.max,t,e,h,a)}function EE(r,t,[e,s,a],l,c){BP(r,t[e],t[s],t[a],t.scale,l,c)}const FP=["x","scaleX","originX"],zP=["y","scaleY","originY"];function _E(r,t,e,s){EE(r.x,t,FP,e?e.x:void 0,s?s.x:void 0),EE(r.y,t,zP,e?e.y:void 0,s?s.y:void 0)}function CE(r){return r.translate===0&&r.scale===1}function UC(r){return CE(r.x)&&CE(r.y)}function ME(r,t){return r.min===t.min&&r.max===t.max}function VP(r,t){return ME(r.x,t.x)&&ME(r.y,t.y)}function RE(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function GC(r,t){return RE(r.x,t.x)&&RE(r.y,t.y)}function DE(r){return Ri(r.x)/Ri(r.y)}function NE(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}class HP{constructor(){this.members=[]}add(t){OA(this.members,t),t.scheduleRender()}remove(t){if(kA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UP(r,t,e){let s="";const a=r.x.translate/t.x,l=r.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:g,rotateX:b,rotateY:v,skewX:A,skewY:S}=e;p&&(s=`perspective(${p}px) ${s}`),g&&(s+=`rotate(${g}deg) `),b&&(s+=`rotateX(${b}deg) `),v&&(s+=`rotateY(${v}deg) `),A&&(s+=`skewX(${A}deg) `),S&&(s+=`skewY(${S}deg) `)}const h=r.x.scale*t.x,f=r.y.scale*t.y;return(h!==1||f!==1)&&(s+=`scale(${h}, ${f})`),s||"none"}const Ib=["","X","Y","Z"],GP=1e3;let qP=0;function Bb(r,t,e,s){const{latestValues:a}=t;a[r]&&(e[r]=a[r],t.setStaticValue(r,0),s&&(s[r]=0))}function qC(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const e=CC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=r.options;window.MotionCancelOptimisedAnimation(e,"transform",fe,!(a||l))}const{parent:s}=r;s&&!s.hasCheckedOptimisedAppear&&qC(s)}function XC({attachResizeListener:r,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=t==null?void 0:t()){this.id=qP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KP),this.nodes.forEach(ZP),this.nodes.forEach(JP),this.nodes.forEach($P)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new LP)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new IA),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=dC(c)&&!XO(c),this.instance=c;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),r){let g,b=0;const v=()=>this.root.updateBlockedByResize=!1;fe.read(()=>{b=window.innerWidth}),r(c,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,g&&g(),g=OP(v,250),Vm.hasAnimatedSinceResize&&(Vm.hasAnimatedSinceResize=!1,this.nodes.forEach(kE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||n3,{onLayoutAnimationStart:T,onLayoutAnimationComplete:D}=p.getProps(),R=!this.targetLayout||!GC(this.targetLayout,A),L=!b&&v;if(this.options.layoutRoot||this.resumeFrom||L||b&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...WA(S,"layout"),onPlay:T,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(g,L)}else b||kE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(t3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QP),this.nodes.forEach(XP),this.nodes.forEach(YP)):this.nodes.forEach(OE),this.clearAllSnapshots();const h=qi.now();ri.delta=ka(0,1e3/60,h-ri.timestamp),ri.timestamp=h,ri.isProcessing=!0,Mb.update.process(ri),Mb.preRender.process(ri),Mb.render.process(ri),ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WP),this.sharedNodes.forEach(e3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ri(this.snapshot.measuredBox.x)&&!Ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ce(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!UC(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||mo(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),a3(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Ce();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(r3))){const{scroll:g}=this.root;g&&(Rc(h.x,g.offset.x),Rc(h.y,g.offset.y))}return h}removeElementScroll(c){var f;const h=Ce();if(_s(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:b,options:v}=g;g!==this.root&&b&&v.layoutScroll&&(b.wasRoot&&_s(h,c),Rc(h.x,b.offset.x),Rc(h.y,b.offset.y))}return h}applyTransform(c,h=!1){const f=Ce();_s(f,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Dc(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),mo(g.latestValues)&&Dc(f,g.latestValues)}return mo(this.latestValues)&&Dc(f,this.latestValues),f}removeTransform(c){const h=Ce();_s(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!mo(p.latestValues))continue;uv(p.latestValues)&&p.updateSnapshot();const g=Ce(),b=p.measurePageBox();_s(g,b),_E(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return mo(this.latestValues)&&_E(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!(!this.layout||!(g||b))){if(this.resolvedRelativeTargetAt=ri.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ce(),this.relativeTargetOrigin=Ce(),vd(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ce(),this.targetWithTransforms=Ce()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),PC(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ce(),this.relativeTargetOrigin=Ce(),vd(this.relativeTargetOrigin,this.target,A.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uv(this.parent.latestValues)||kC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===ri.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;_s(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;hP(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ce());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wE(this.prevProjectionDelta.x,this.projectionDelta.x),wE(this.prevProjectionDelta.y,this.projectionDelta.y)),bd(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!NE(this.projectionDelta.x,this.prevProjectionDelta.x)||!NE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mc(),this.projectionDelta=Mc(),this.projectionDeltaWithTransform=Mc()}setAnimationOrigin(c,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},b=Mc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Ce(),A=f?f.source:void 0,S=this.layout?this.layout.source:void 0,T=A!==S,D=this.getStack(),R=!D||D.members.length<=1,L=!!(T&&!R&&this.options.crossfade===!0&&!this.path.some(s3));this.animationProgress=0;let N;this.mixTargetDelta=j=>{const P=j/1e3;PE(b.x,c.x,P),PE(b.y,c.y,P),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),i3(this.relativeTarget,this.relativeTargetOrigin,v,P),N&&VP(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Ce()),_s(N,this.relativeTarget)),T&&(this.animationValues=g,PP(g,p,this.latestValues,P,L,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fe.update(()=>{Vm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vu(0)),this.currentAnimation=DP(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=c;if(!(!h||!f||!p)){if(this!==c&&this.layout&&p&&YC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Ce();const b=Ri(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+b;const v=Ri(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+v}_s(h,f),Dc(h,g),bd(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new HP),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Bb("z",c,p,this.animationValues);for(let g=0;g<Ib.length;g++)Bb(`rotate${Ib[g]}`,c,p,this.animationValues),Bb(`skew${Ib[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=zm(h==null?void 0:h.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=zm(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=UP(this.projectionDeltaWithTransform,this.treeScale,g);f&&(b=f(g,b)),c.transform=b;const{x:v,y:A}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in _d){if(g[S]===void 0)continue;const{correct:T,applyTo:D,isCSSVariable:R}=_d[S],L=b==="none"?g[S]:T(g[S],p);if(D){const N=D.length;for(let j=0;j<N;j++)c[D[j]]=L}else R?this.options.visualElement.renderState.vars[S]=L:c[S]=L}this.options.layoutId&&(c.pointerEvents=p===this?zm(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(LE),this.root.sharedNodes.clear()}}}function XP(r){r.updateLayout()}function YP(r){var e;const t=((e=r.resumeFrom)==null?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=r.layout,{animationType:l}=r.options,c=t.source!==r.layout.source;l==="size"?Rs(b=>{const v=c?t.measuredBox[b]:t.layoutBox[b],A=Ri(v);v.min=s[b].min,v.max=v.min+A}):YC(l,t.layoutBox,s)&&Rs(b=>{const v=c?t.measuredBox[b]:t.layoutBox[b],A=Ri(s[b]);v.max=v.min+A,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[b].max=r.relativeTarget[b].min+A)});const h=Mc();bd(h,s,t.layoutBox);const f=Mc();c?bd(f,r.applyTransform(a,!0),t.measuredBox):bd(f,s,t.layoutBox);const p=!UC(h);let g=!1;if(!r.resumeFrom){const b=r.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:v,layout:A}=b;if(v&&A){const S=Ce();vd(S,t.layoutBox,v.layoutBox);const T=Ce();vd(T,s,A.layoutBox),GC(S,T)||(g=!0),b.options.layoutRoot&&(r.relativeTarget=T,r.relativeTargetOrigin=S,r.relativeParent=b)}}}r.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(r.isLead()){const{onExitComplete:s}=r.options;s&&s()}r.options.transition=void 0}function KP(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function $P(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function WP(r){r.clearSnapshot()}function LE(r){r.clearMeasurements()}function OE(r){r.isLayoutDirty=!1}function QP(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function kE(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function ZP(r){r.resolveTargetDelta()}function JP(r){r.calcProjection()}function t3(r){r.resetSkewAndRotation()}function e3(r){r.removeLeadSnapshot()}function PE(r,t,e){r.translate=ye(t.translate,0,e),r.scale=ye(t.scale,1,e),r.origin=t.origin,r.originPoint=t.originPoint}function jE(r,t,e,s){r.min=ye(t.min,e.min,s),r.max=ye(t.max,e.max,s)}function i3(r,t,e,s){jE(r.x,t.x,e.x,s),jE(r.y,t.y,e.y,s)}function s3(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const n3={duration:.45,ease:[.4,0,.1,1]},IE=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),BE=IE("applewebkit/")&&!IE("chrome/")?Math.round:Fs;function FE(r){r.min=BE(r.min),r.max=BE(r.max)}function a3(r){FE(r.x),FE(r.y)}function YC(r,t,e){return r==="position"||r==="preserve-aspect"&&!cP(DE(t),DE(e),.2)}function r3(r){var t;return r!==r.root&&((t=r.scroll)==null?void 0:t.wasRoot)}const o3=XC({attachResizeListener:(r,t)=>Md(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fb={current:void 0},KC=XC({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Fb.current){const r=new o3({});r.mount(window),r.setOptions({layoutScroll:!0}),Fb.current=r}return Fb.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),l3={pan:{Feature:_P},drag:{Feature:EP,ProjectionNode:KC,MeasureLayout:zC}};function zE(r,t,e){const{props:s}=r;r.animationState&&s.whileHover&&r.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=s[a];l&&fe.postRender(()=>l(t,cp(t)))}class c3 extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=VO(t,(e,s)=>(zE(this.node,s,"Start"),a=>zE(this.node,a,"End"))))}unmount(){}}class u3 extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rp(Md(this.node.current,"focus",()=>this.onFocus()),Md(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VE(r,t,e){const{props:s}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&s.whileTap&&r.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=s[a];l&&fe.postRender(()=>l(t,cp(t)))}class h3 extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=qO(t,(e,s)=>(VE(this.node,s,"Start"),(a,{success:l})=>VE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fv=new WeakMap,zb=new WeakMap,d3=r=>{const t=fv.get(r.target);t&&t(r)},f3=r=>{r.forEach(d3)};function p3({root:r,...t}){const e=r||document;zb.has(e)||zb.set(e,{});const s=zb.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(f3,{root:r,...t})),s[a]}function m3(r,t,e){const s=p3(t);return fv.set(r,e),s.observe(r),()=>{fv.delete(r),s.unobserve(r)}}const g3={some:0,all:1};class y3 extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:g3[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),v=p?g:b;v&&v(f)};return m3(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(b3(t,e))&&this.startObserver()}unmount(){}}function b3({viewport:r={}},{viewport:t={}}={}){return e=>r[e]!==t[e]}const v3={inView:{Feature:y3},tap:{Feature:h3},focus:{Feature:u3},hover:{Feature:c3}},A3={layout:{ProjectionNode:KC,MeasureLayout:zC}},pv={current:null},$C={current:!1};function x3(){if($C.current=!0,!!NA)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>pv.current=r.matches;r.addEventListener("change",t),t()}else pv.current=!1}const S3=new WeakMap;function w3(r,t,e){for(const s in t){const a=t[s],l=e[s];if(xi(a))r.addValue(s,a);else if(xi(l))r.addValue(s,Vu(a,{owner:r}));else if(l!==a)if(r.hasValue(s)){const c=r.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=r.getStaticValue(s);r.addValue(s,Vu(c!==void 0?c:a,{owner:r}))}}for(const s in e)t[s]===void 0&&r.removeValue(s);return t}const HE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class T3{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$A,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=qi.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,fe.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=e.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Zg(e),this.isVariantNode=gC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const v in b){const A=b[v];f[v]!==void 0&&xi(A)&&A.set(f[v],!1)}}mount(t){this.current=t,S3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),$C.current||x3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Xu.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&fe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=e.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Hu){const e=Hu[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ce()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<HE.length;s++){const a=HE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=w3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=Vu(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(w_(s)||E_(s))?s=parseFloat(s):!KO(s)&&Ur.test(e)&&(s=oC(t,e)),this.setBaseTarget(t,xi(s)?s.get():s)),xi(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var l;const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const c=rx(this.props,e,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!xi(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new IA),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class WC extends T3{constructor(){super(...arguments),this.KeyframeResolver=jO}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xi(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function QC(r,{style:t,vars:e},s,a){const l=r.style;let c;for(c in t)l[c]=t[c];a==null||a.applyProjectionStyles(l,s);for(c in e)l.setProperty(c,e[c])}function E3(r){return window.getComputedStyle(r)}class _3 extends WC{constructor(){super(...arguments),this.type="html",this.renderInstance=QC}readValueFromInstance(t,e){var s;if(Xu.has(e))return(s=this.projection)!=null&&s.isProjecting?ev(e):eO(t,e);{const a=E3(t),l=(zA(e)?a.getPropertyValue(e):a[e])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:e}){return jC(t,e)}build(t,e,s){sx(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return ox(t,e,s)}}const ZC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C3(r,t,e,s){QC(r,t,void 0,s);for(const a in t.attrs)r.setAttribute(ZC.has(a)?a:ix(a),t.attrs[a])}class M3 extends WC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ce}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Xu.has(e)){const s=rC(e);return s&&s.default||0}return e=ZC.has(e)?e:ix(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return _C(t,e,s)}build(t,e,s){SC(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){C3(t,e,s,a)}mount(t){this.isSVGTag=TC(t.tagName),super.mount(t)}}const R3=(r,t)=>ax(r)?new M3(t):new _3(t,{allowProjection:r!==et.Fragment}),D3=Rk({...eP,...v3,...l3,...A3},R3),Kt=tk(D3),N3=""+new URL("CsB2k7HX.png",import.meta.url).href,UE=""+new URL("CX-44SRM.png",import.meta.url).href,GE=""+new URL("CL0B6Np9.jpeg",import.meta.url).href,L3=""+new URL("Ck1LFH3q.jpeg",import.meta.url).href,O3=""+new URL("CtfKFWcc.jpeg",import.meta.url).href,k3=""+new URL("VRpW7Nbi.jpeg",import.meta.url).href,qE=""+new URL("xXVsIQJW.jpeg",import.meta.url).href,P3=""+new URL("DqEPh-DP.png",import.meta.url).href,j3=""+new URL("DqrAN6F1.png",import.meta.url).href,I3=""+new URL("Certificate-frankensteinz-C5bZVemM.pdf",import.meta.url).href,B3=""+new URL("THM-3YAANKUEPF-BrdG90G3.pdf",import.meta.url).href,F3=""+new URL("UC-0497434b-3c91-4447-b8a1-9044d7dbeaad-CS8CwsA7.pdf",import.meta.url).href,z3=""+new URL("UC-171e9dab-d53d-4b66-a57a-55e93a3cf0a5-DcBMgVmZ.pdf",import.meta.url).href,V3=""+new URL("UC-9ebeab56-a4f1-4d4f-a1a7-1cfbb0901a8a-D4iik9Ee.pdf",import.meta.url).href;var Ad={};Ad.d=(r,t)=>{for(var e in t)Ad.o(t,e)&&!Ad.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:t[e]})};Ad.o=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var xt=globalThis.pdfjsLib={};Ad.d(xt,{AbortException:()=>Gr,AnnotationEditorLayer:()=>wA,AnnotationEditorParamsType:()=>Bt,AnnotationEditorType:()=>Ct,AnnotationEditorUIManager:()=>Dl,AnnotationLayer:()=>jI,AnnotationMode:()=>ur,ColorPicker:()=>Mg,DOMSVGFactory:()=>yx,DrawLayer:()=>_A,FeatureTest:()=>Di,GlobalWorkerOptions:()=>Na,ImageKind:()=>Hm,InvalidPDFException:()=>gv,MissingPDFException:()=>Rd,OPS:()=>Ys,OutputScale:()=>bv,PDFDataRangeTransport:()=>tR,PDFDateString:()=>fx,PDFWorker:()=>Pc,PasswordResponses:()=>q3,PermissionFlag:()=>G3,PixelsPerInch:()=>qr,RenderingCancelledException:()=>hx,TextLayer:()=>Dd,TouchManager:()=>_g,UnexpectedResponseException:()=>wg,Util:()=>dt,VerbosityLevel:()=>Jg,XfaLayer:()=>iR,build:()=>gI,createValidAbsoluteUrl:()=>$3,fetchData:()=>sy,getDocument:()=>oI,getFilenameFromUrl:()=>nj,getPdfFilenameFromUrl:()=>aj,getXfaPageViewport:()=>rj,isDataScheme:()=>ny,isPdfFile:()=>dx,noContextMenu:()=>ln,normalizeUnicode:()=>ej,setLayerDimensions:()=>Rl,shadow:()=>Pt,stopEvent:()=>ms,version:()=>mI});const Ai=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),JC=[1,0,0,1,0,0],mv=[.001,0,0,.001,0,0],H3=1e7,Vb=1.35,fs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ur={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},U3="pdfjs_internal_editor_",Ct={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},G3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},di={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Hm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ie={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Kh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Jg={ERRORS:0,WARNINGS:1,INFOS:5},Ys={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},q3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ty=Jg.WARNINGS;function X3(r){Number.isInteger(r)&&(ty=r)}function Y3(){return ty}function ey(r){ty>=Jg.INFOS&&console.log(`Info: ${r}`)}function Mt(r){ty>=Jg.WARNINGS&&console.log(`Warning: ${r}`)}function ae(r){throw new Error(r)}function Oe(r,t){r||ae(t)}function K3(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function $3(r,t=null,e=null){if(!r)return null;try{if(e&&typeof r=="string"){if(e.addDefaultProtocol&&r.startsWith("www.")){const a=r.match(/\./g);(a==null?void 0:a.length)>=2&&(r=`http://${r}`)}if(e.tryConvertEncoding)try{r=tj(r)}catch{}}const s=t?new URL(r,t):new URL(r);if(K3(s))return s}catch{}return null}function Pt(r,t,e,s=!1){return Object.defineProperty(r,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Kr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class XE extends Kr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Hb extends Kr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class gv extends Kr{constructor(t){super(t,"InvalidPDFException")}}class Rd extends Kr{constructor(t){super(t,"MissingPDFException")}}class wg extends Kr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class W3 extends Kr{constructor(t){super(t,"FormatError")}}class Gr extends Kr{constructor(t){super(t,"AbortException")}}function tM(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&ae("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const s=[];for(let a=0;a<t;a+=e){const l=Math.min(a+e,t),c=r.subarray(a,l);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function iy(r){typeof r!="string"&&ae("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=r.charCodeAt(s)&255;return e}function Q3(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function cx(r){const t=Object.create(null);for(const[e,s]of r)t[e]=s;return t}function Z3(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function J3(){try{return new Function(""),!0}catch{return!1}}class Di{static get isLittleEndian(){return Pt(this,"isLittleEndian",Z3())}static get isEvalSupported(){return Pt(this,"isEvalSupported",J3())}static get isOffscreenCanvasSupported(){return Pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Pt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Pt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Pt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Pt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Ub=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var La,Um,yv;class dt{static makeHexColor(t,e,s){return`#${Ub[t]}${Ub[e]}${Ub[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],a=t[0]*e[1]+t[1]*e[3]+e[5];return[s,a]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],a=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[a,l]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),a=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],a[0],l[0],c[0]),Math.min(s[1],a[1],l[1],c[1]),Math.max(s[0],a[0],l[0],c[0]),Math.max(s[1],a[1],l[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],a=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],h=(s+c)/2,f=Math.sqrt((s+c)**2-4*(s*c-l*a))/2,p=h+f||1,g=h-f||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>a)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[s,l,a,c]}static bezierBoundingBox(t,e,s,a,l,c,h,f,p){return p?(p[0]=Math.min(p[0],t,h),p[1]=Math.min(p[1],e,f),p[2]=Math.max(p[2],t,h),p[3]=Math.max(p[3],e,f)):p=[Math.min(t,h),Math.min(e,f),Math.max(t,h),Math.max(e,f)],_(this,La,yv).call(this,t,s,l,h,e,a,c,f,3*(-t+3*(s-l)+h),6*(t-2*s+l),3*(s-t),p),_(this,La,yv).call(this,t,s,l,h,e,a,c,f,3*(-e+3*(a-c)+f),6*(e-2*a+c),3*(a-e),p),p}}La=new WeakSet,Um=function(t,e,s,a,l,c,h,f,p,g){if(p<=0||p>=1)return;const b=1-p,v=p*p,A=v*p,S=b*(b*(b*t+3*p*e)+3*v*s)+A*a,T=b*(b*(b*l+3*p*c)+3*v*h)+A*f;g[0]=Math.min(g[0],S),g[1]=Math.min(g[1],T),g[2]=Math.max(g[2],S),g[3]=Math.max(g[3],T)},yv=function(t,e,s,a,l,c,h,f,p,g,b,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&_(this,La,Um).call(this,t,e,s,a,l,c,h,f,-b/g,v);return}const A=g**2-4*b*p;if(A<0)return;const S=Math.sqrt(A),T=2*p;_(this,La,Um).call(this,t,e,s,a,l,c,h,f,(-g+S)/T,v),_(this,La,Um).call(this,t,e,s,a,l,c,h,f,(-g-S)/T,v)},E(dt,La);function tj(r){return decodeURIComponent(escape(r))}let Gb=null,YE=null;function ej(r){return Gb||(Gb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,YE=new Map([["","t"]])),r.replaceAll(Gb,(t,e,s)=>e?e.normalize("NFKC"):YE.get(s))}function ij(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),tM(r)}const ux="pdfjs_internal_id_";function sj(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(tM(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...t){return new Promise(e=>{e(r(...t))})});const ea="http://www.w3.org/2000/svg",vo=class vo{};gt(vo,"CSS",96),gt(vo,"PDF",72),gt(vo,"PDF_TO_CSS_UNITS",vo.CSS/vo.PDF);let qr=vo;async function sy(r,t="text"){if(Jh(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}s(new Error(a.statusText))}},a.send(null)})}class up{constructor({viewBox:t,userUnit:e,scale:s,rotation:a,offsetX:l=0,offsetY:c=0,dontFlip:h=!1}){this.viewBox=t,this.userUnit=e,this.scale=s,this.rotation=a,this.offsetX=l,this.offsetY=c,s*=e;const f=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,b,v,A;switch(a%=360,a<0&&(a+=360),a){case 180:g=-1,b=0,v=0,A=1;break;case 90:g=0,b=1,v=1,A=0;break;case 270:g=0,b=-1,v=-1,A=0;break;case 0:g=1,b=0,v=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(v=-v,A=-A);let S,T,D,R;g===0?(S=Math.abs(p-t[1])*s+l,T=Math.abs(f-t[0])*s+c,D=(t[3]-t[1])*s,R=(t[2]-t[0])*s):(S=Math.abs(f-t[0])*s+l,T=Math.abs(p-t[1])*s+c,D=(t[2]-t[0])*s,R=(t[3]-t[1])*s),this.transform=[g*s,b*s,v*s,A*s,S-g*s*f-v*s*p,T-b*s*f-A*s*p],this.width=D,this.height=R}get rawDims(){const{userUnit:t,viewBox:e}=this,s=e.map(a=>a*t);return Pt(this,"rawDims",{pageWidth:s[2]-s[0],pageHeight:s[3]-s[1],pageX:s[0],pageY:s[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:a=this.offsetY,dontFlip:l=!1}={}){return new up({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:l})}convertToViewportPoint(t,e){return dt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=dt.applyTransform([t[0],t[1]],this.transform),s=dt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return dt.applyInverseTransform([t,e],this.transform)}}class hx extends Kr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function ny(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function dx(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function nj(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function aj(r,t="document.pdf"){if(typeof r!="string")return t;if(ny(r))return Mt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(r);let l=s.exec(a[1])||s.exec(a[2])||s.exec(a[3]);if(l&&(l=l[0],l.includes("%")))try{l=s.exec(decodeURIComponent(l))[0]}catch{}return l||t}class KE{constructor(){gt(this,"started",Object.create(null));gt(this,"times",[])}time(t){t in this.started&&Mt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Mt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:a,end:l}of this.times)t.push(`${s.padEnd(e)} ${l-a}ms
`);return t.join("")}}function Jh(r,t){try{const{protocol:e}=t?new URL(r,t):new URL(r);return e==="http:"||e==="https:"}catch{return!1}}function ln(r){r.preventDefault()}function ms(r){r.preventDefault(),r.stopPropagation()}var Od;class fx{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,Od)||x(this,Od,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,Od).exec(t);if(!e)return null;const s=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,p==="-"?(c+=g,h+=b):p==="+"&&(c-=g,h-=b),new Date(Date.UTC(s,a,l,c,h,f))}}Od=new WeakMap,E(fx,Od);function rj(r,{scale:t=1,rotation:e=0}){const{width:s,height:a}=r.attributes.style,l=[0,0,parseInt(s),parseInt(a)];return new up({viewBox:l,userUnit:1,scale:t,rotation:e})}function px(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Mt(`Not a valid color format: "${r}"`),[0,0,0])}function oj(r){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of r.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;r.set(e,px(s))}t.remove()}function he(r){const{a:t,b:e,c:s,d:a,e:l,f:c}=r.getTransform();return[t,e,s,a,l,c]}function gn(r){const{a:t,b:e,c:s,d:a,e:l,f:c}=r.getTransform().invertSelf();return[t,e,s,a,l,c]}function Rl(r,t,e=!1,s=!0){if(t instanceof up){const{pageWidth:a,pageHeight:l}=t.rawDims,{style:c}=r,h=Di.isCSSRoundSupported,f=`var(--scale-factor) * ${a}px`,p=`var(--scale-factor) * ${l}px`,g=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,b=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!e||t.rotation%180===0?(c.width=g,c.height=b):(c.width=b,c.height=g)}s&&r.setAttribute("data-main-rotation",t.rotation)}class bv{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var hr,wo,Ks,To,kd,Pd,Ng,eM,Ni,iM,sM,Gm,nM,Av;const na=class na{constructor(t){E(this,Ni);E(this,hr,null);E(this,wo,null);E(this,Ks);E(this,To,null);E(this,kd,null);x(this,Ks,t),d(na,Pd)||x(na,Pd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=x(this,hr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,Ks)._uiManager._signal;t.addEventListener("contextmenu",ln,{signal:e}),t.addEventListener("pointerdown",_(na,Ng,eM),{signal:e});const s=x(this,To,document.createElement("div"));s.className="buttons",t.append(s);const a=d(this,Ks).toolbarPosition;if(a){const{style:l}=t,c=d(this,Ks)._uiManager.direction==="ltr"?1-a[0]:a[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,Ni,nM).call(this),t}get div(){return d(this,hr)}hide(){var t;d(this,hr).classList.add("hidden"),(t=d(this,wo))==null||t.hideDropdown()}show(){var t;d(this,hr).classList.remove("hidden"),(t=d(this,kd))==null||t.shown()}async addAltText(t){const e=await t.render();_(this,Ni,Gm).call(this,e),d(this,To).prepend(e,d(this,Ni,Av)),x(this,kd,t)}addColorPicker(t){x(this,wo,t);const e=t.renderButton();_(this,Ni,Gm).call(this,e),d(this,To).prepend(e,d(this,Ni,Av))}remove(){var t;d(this,hr).remove(),(t=d(this,wo))==null||t.destroy(),x(this,wo,null)}};hr=new WeakMap,wo=new WeakMap,Ks=new WeakMap,To=new WeakMap,kd=new WeakMap,Pd=new WeakMap,Ng=new WeakSet,eM=function(t){t.stopPropagation()},Ni=new WeakSet,iM=function(t){d(this,Ks)._focusEventsAllowed=!1,ms(t)},sM=function(t){d(this,Ks)._focusEventsAllowed=!0,ms(t)},Gm=function(t){const e=d(this,Ks)._uiManager._signal;t.addEventListener("focusin",_(this,Ni,iM).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",_(this,Ni,sM).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ln,{signal:e})},nM=function(){const{editorType:t,_uiManager:e}=d(this,Ks),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",d(na,Pd)[t]),_(this,Ni,Gm).call(this,s),s.addEventListener("click",a=>{e.delete()},{signal:e._signal}),d(this,To).append(s)},Av=function(){const t=document.createElement("div");return t.className="divider",t},E(na,Ng),E(na,Pd,null);let vv=na;var jd,Eo,_o,Xr,aM,rM,oM;class lj{constructor(t){E(this,Xr);E(this,jd,null);E(this,Eo,null);E(this,_o);x(this,_o,t)}show(t,e,s){const[a,l]=_(this,Xr,rM).call(this,e,s),{style:c}=d(this,Eo)||x(this,Eo,_(this,Xr,aM).call(this));t.append(d(this,Eo)),c.insetInlineEnd=`${100*a}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,Eo).remove()}}jd=new WeakMap,Eo=new WeakMap,_o=new WeakMap,Xr=new WeakSet,aM=function(){const t=x(this,Eo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",ln,{signal:d(this,_o)._signal});const e=x(this,jd,document.createElement("div"));return e.className="buttons",t.append(e),_(this,Xr,oM).call(this),t},rM=function(t,e){let s=0,a=0;for(const l of t){const c=l.y+l.height;if(c<s)continue;const h=l.x+(e?l.width:0);if(c>s){a=h,s=c;continue}e?h>a&&(a=h):h<a&&(a=h)}return[e?1-a:a,s]},oM=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=d(this,_o)._signal;t.addEventListener("contextmenu",ln,{signal:s}),t.addEventListener("click",()=>{d(this,_o).highlightSelection("floating_button")},{signal:s}),d(this,jd).append(t)};function Tg(r,t,e){for(const s of e)t.addEventListener(s,r[s].bind(r))}var Lg;class cj{constructor(){E(this,Lg,0)}get id(){return`${U3}${wi(this,Lg)._++}`}}Lg=new WeakMap;var jc,Id,mi,Ic,qm;const vx=class vx{constructor(){E(this,Ic);E(this,jc,ij());E(this,Id,0);E(this,mi,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const l=a.decode().then(()=>(s.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Pt(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:s,size:a,type:l}=t;return _(this,Ic,qm).call(this,`${e}_${s}_${a}_${l}`,t)}async getFromUrl(t){return _(this,Ic,qm).call(this,t,t)}async getFromBlob(t,e){const s=await e;return _(this,Ic,qm).call(this,t,s)}async getFromId(t){d(this,mi)||x(this,mi,new Map);const e=d(this,mi).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,mi)||x(this,mi,new Map);let s=d(this,mi).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),s={bitmap:a.transferToImageBitmap(),id:`image_${d(this,jc)}_${wi(this,Id)._++}`,refCounter:1,isSvg:!1},d(this,mi).set(t,s),d(this,mi).set(s.id,s),s}getSvgUrl(t){const e=d(this,mi).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var a;d(this,mi)||x(this,mi,new Map);const e=d(this,mi).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(s.width,s.height);l.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=l.convertToBlob()}(a=s.close)==null||a.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,jc)}_`)}};jc=new WeakMap,Id=new WeakMap,mi=new WeakMap,Ic=new WeakSet,qm=async function(t,e){d(this,mi)||x(this,mi,new Map);let s=d(this,mi).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${d(this,jc)}_${wi(this,Id)._++}`,refCounter:0,isSvg:!1});let a;if(typeof e=="string"?(s.url=e,a=await sy(e,"blob")):e instanceof File?a=s.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const l=vx._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((p,g)=>{h.onload=()=>{s.bitmap=h,s.isSvg=!0,p()},c.onload=async()=>{const b=s.svgUrl=c.result;h.src=await l?`${b}#svgView(preserveAspectRatio(none))`:b},h.onerror=c.onerror=g});c.readAsDataURL(a),await f}else s.bitmap=await createImageBitmap(a);s.refCounter=1}catch(a){Mt(a),s=null}return d(this,mi).set(t,s),s&&d(this,mi).set(s.id,s),s};let xv=vx;var Ee,dr,Bd,me;class uj{constructor(t=128){E(this,Ee,[]);E(this,dr,!1);E(this,Bd);E(this,me,-1);x(this,Bd,t)}add({cmd:t,undo:e,post:s,mustExec:a,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(a&&t(),d(this,dr))return;const f={cmd:t,undo:e,post:s,type:l};if(d(this,me)===-1){d(this,Ee).length>0&&(d(this,Ee).length=0),x(this,me,0),d(this,Ee).push(f);return}if(c&&d(this,Ee)[d(this,me)].type===l){h&&(f.undo=d(this,Ee)[d(this,me)].undo),d(this,Ee)[d(this,me)]=f;return}const p=d(this,me)+1;p===d(this,Bd)?d(this,Ee).splice(0,1):(x(this,me,p),p<d(this,Ee).length&&d(this,Ee).splice(p)),d(this,Ee).push(f)}undo(){if(d(this,me)===-1)return;x(this,dr,!0);const{undo:t,post:e}=d(this,Ee)[d(this,me)];t(),e==null||e(),x(this,dr,!1),x(this,me,d(this,me)-1)}redo(){if(d(this,me)<d(this,Ee).length-1){x(this,me,d(this,me)+1),x(this,dr,!0);const{cmd:t,post:e}=d(this,Ee)[d(this,me)];t(),e==null||e(),x(this,dr,!1)}}hasSomethingToUndo(){return d(this,me)!==-1}hasSomethingToRedo(){return d(this,me)<d(this,Ee).length-1}cleanType(t){if(d(this,me)!==-1){for(let e=d(this,me);e>=0;e--)if(d(this,Ee)[e].type!==t){d(this,Ee).splice(e+1,d(this,me)-e),x(this,me,e);return}d(this,Ee).length=0,x(this,me,-1)}}destroy(){x(this,Ee,null)}}Ee=new WeakMap,dr=new WeakMap,Bd=new WeakMap,me=new WeakMap;var Og,lM;class hp{constructor(t){E(this,Og);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Di.platform;for(const[s,a,l={}]of t)for(const c of s){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(_(this,Og,lM).call(this,e));if(!s)return;const{callback:a,options:{bubbles:l=!1,args:c=[],checker:h=null}}=s;h&&!h(t,e)||(a.bind(t,...c,e)(),l||ms(e))}}Og=new WeakSet,lM=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const kg=class kg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return oj(t),Pt(this,"_colors",t)}convert(t){const e=px(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,a]of this._colors)if(a.every((l,c)=>l===e[c]))return kg._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?dt.makeHexColor(...e):t}};gt(kg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Sv=kg;var Bc,es,Fe,ei,Fc,ra,zc,Ds,fr,Co,Vc,Mo,vn,$s,Ro,Fd,zd,Hc,Vd,An,pr,Uc,mr,xn,Pg,gr,Hd,yr,Do,Ud,Gd,Xe,Qt,oa,No,qd,Xd,br,Sn,la,Yd,Ns,it,Xm,wv,cM,uM,Ym,hM,dM,fM,Tv,pM,Ev,_v,mM,Ti,ia,gM,yM,Cv,bM,td,Mv;const Nc=class Nc{constructor(t,e,s,a,l,c,h,f,p,g,b,v,A){E(this,it);E(this,Bc,new AbortController);E(this,es,null);E(this,Fe,new Map);E(this,ei,new Map);E(this,Fc,null);E(this,ra,null);E(this,zc,null);E(this,Ds,new uj);E(this,fr,null);E(this,Co,null);E(this,Vc,0);E(this,Mo,new Set);E(this,vn,null);E(this,$s,null);E(this,Ro,new Set);gt(this,"_editorUndoBar",null);E(this,Fd,!1);E(this,zd,!1);E(this,Hc,!1);E(this,Vd,null);E(this,An,null);E(this,pr,null);E(this,Uc,null);E(this,mr,!1);E(this,xn,null);E(this,Pg,new cj);E(this,gr,!1);E(this,Hd,!1);E(this,yr,null);E(this,Do,null);E(this,Ud,null);E(this,Gd,null);E(this,Xe,Ct.NONE);E(this,Qt,new Set);E(this,oa,null);E(this,No,null);E(this,qd,null);E(this,Xd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,br,[0,0]);E(this,Sn,null);E(this,la,null);E(this,Yd,null);E(this,Ns,null);const S=this._signal=d(this,Bc).signal;x(this,la,t),x(this,Yd,e),x(this,Fc,s),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:S}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),a._on("setpreference",this.onSetPreference.bind(this),{signal:S}),a._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:S}),_(this,it,hM).call(this),_(this,it,mM).call(this),_(this,it,Tv).call(this),x(this,ra,l.annotationStorage),x(this,Vd,l.filterFactory),x(this,No,c),x(this,Uc,h||null),x(this,Fd,f),x(this,zd,p),x(this,Hc,g),x(this,Gd,b||null),this.viewParameters={realScale:qr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=A!==!1}static get _keyboardManager(){const t=Nc.prototype,e=c=>d(c,la).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},a=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new hp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,la).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,la).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,s,a,l;(t=d(this,Ns))==null||t.resolve(),x(this,Ns,null),(e=d(this,Bc))==null||e.abort(),x(this,Bc,null),this._signal=null;for(const c of d(this,ei).values())c.destroy();d(this,ei).clear(),d(this,Fe).clear(),d(this,Ro).clear(),x(this,es,null),d(this,Qt).clear(),d(this,Ds).destroy(),(s=d(this,Fc))==null||s.destroy(),(a=d(this,xn))==null||a.hide(),x(this,xn,null),d(this,An)&&(clearTimeout(d(this,An)),x(this,An,null)),d(this,Sn)&&(clearTimeout(d(this,Sn)),x(this,Sn,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,Gd)}get useNewAltTextFlow(){return d(this,zd)}get useNewAltTextWhenAddingImage(){return d(this,Hc)}get hcmFilter(){return Pt(this,"hcmFilter",d(this,No)?d(this,Vd).addHCMFilter(d(this,No).foreground,d(this,No).background):"none")}get direction(){return Pt(this,"direction",getComputedStyle(d(this,la)).direction)}get highlightColors(){return Pt(this,"highlightColors",d(this,Uc)?new Map(d(this,Uc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Pt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),x(this,Co,t)}setMainHighlightColorPicker(t){x(this,Ud,t)}editAltText(t,e=!1){var s;(s=d(this,Fc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":x(this,Hc,e);break}}onPageChanging({pageNumber:t}){x(this,Vc,t-1)}focusMainContainer(){d(this,la).focus()}findParent(t,e){for(const s of d(this,ei).values()){const{x:a,y:l,width:c,height:h}=s.div.getBoundingClientRect();if(t>=a&&t<=a+c&&e>=l&&e<=l+h)return s}return null}disableUserSelect(t=!1){d(this,Yd).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,Ro).add(t)}removeShouldRescale(t){d(this,Ro).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*qr.PDF_TO_CSS_UNITS;for(const s of d(this,Ro))s.onScaleChanging();(e=d(this,Co))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c}=e,h=e.toString(),p=_(this,it,Xm).call(this,e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const b=_(this,it,wv).call(this,p),v=d(this,Xe)===Ct.NONE,A=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c,text:h}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Ct.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,ra)&&!d(this,ra).has(t.id)&&d(this,ra).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,mr)&&(x(this,mr,!1),_(this,it,Ym).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,Qt))if(e.div.contains(t)){x(this,Do,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,Do))return;const[t,e]=d(this,Do);x(this,Do,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){_(this,it,Tv).call(this),_(this,it,Ev).call(this)}removeEditListeners(){_(this,it,pM).call(this),_(this,it,_v).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of d(this,$s))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of d(this,$s))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=d(this,es))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const a of d(this,Qt)){const l=a.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of d(this,$s))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){Mt(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const a=this.currentLayer;try{const l=[];for(const f of s){const p=await a.deserialize(f);if(!p)return;l.push(p)}const c=()=>{for(const f of l)_(this,it,Cv).call(this,f);_(this,it,Mv).call(this,l)},h=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){Mt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,Xe)!==Ct.NONE&&!this.isEditorHandlingKeyboard&&Nc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,mr)&&(x(this,mr,!1),_(this,it,Ym).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(_(this,it,dM).call(this),_(this,it,Ev).call(this),_(this,it,Ti).call(this,{isEditing:d(this,Xe)!==Ct.NONE,isEmpty:_(this,it,td).call(this),hasSomethingToUndo:d(this,Ds).hasSomethingToUndo(),hasSomethingToRedo:d(this,Ds).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,it,fM).call(this),_(this,it,_v).call(this),_(this,it,Ti).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,$s)){x(this,$s,t);for(const e of d(this,$s))_(this,it,ia).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,Pg).id}get currentLayer(){return d(this,ei).get(d(this,Vc))}getLayer(t){return d(this,ei).get(t)}get currentPageIndex(){return d(this,Vc)}addLayer(t){d(this,ei).set(t.pageIndex,t),d(this,gr)?t.enable():t.disable()}removeLayer(t){d(this,ei).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){var a;if(d(this,Xe)!==t&&!(d(this,Ns)&&(await d(this,Ns).promise,!d(this,Ns)))){if(x(this,Ns,Promise.withResolvers()),x(this,Xe,t),t===Ct.NONE){this.setEditingState(!1),_(this,it,yM).call(this),(a=this._editorUndoBar)==null||a.hide(),d(this,Ns).resolve();return}this.setEditingState(!0),await _(this,it,gM).call(this),this.unselectAll();for(const l of d(this,ei).values())l.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),d(this,Ns).resolve();return}for(const l of d(this,Fe).values())l.annotationElementId===e?(this.setSelected(l),l.enterInEditMode()):l.unselect();d(this,Ns).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,Xe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(d(this,$s)){switch(t){case Bt.CREATE:this.currentLayer.addNewEditor();return;case Bt.HIGHLIGHT_DEFAULT_COLOR:(s=d(this,Ud))==null||s.updateColor(e);break;case Bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,qd)||x(this,qd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const a of d(this,Qt))a.updateParams(t,e);for(const a of d(this,$s))a.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var l;for(const c of d(this,Fe).values())c.editorType===t&&c.show(e);(((l=d(this,qd))==null?void 0:l.get(Bt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&_(this,it,ia).call(this,[[Bt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,Hd)!==t){x(this,Hd,t);for(const e of d(this,ei).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of d(this,Fe).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return d(this,Fe).get(t)}addEditor(t){d(this,Fe).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(d(this,An)&&clearTimeout(d(this,An)),x(this,An,setTimeout(()=>{this.focusMainContainer(),x(this,An,null)},0))),d(this,Fe).delete(t.id),this.unselect(t),(!t.annotationElementId||!d(this,Mo).has(t.annotationElementId))&&((e=d(this,ra))==null||e.remove(t.id))}addDeletedAnnotationElement(t){d(this,Mo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,Mo).has(t)}removeDeletedAnnotationElement(t){d(this,Mo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,es)!==t&&(x(this,es,t),t&&_(this,it,ia).call(this,t.propertiesToUpdate))}updateUI(t){d(this,it,bM)===t&&_(this,it,ia).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){_(this,it,ia).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(d(this,Qt).has(t)){d(this,Qt).delete(t),t.unselect(),_(this,it,Ti).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,Qt).add(t),t.select(),_(this,it,ia).call(this,t.propertiesToUpdate),_(this,it,Ti).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=d(this,Co))==null||e.commitOrRemove();for(const s of d(this,Qt))s!==t&&s.unselect();d(this,Qt).clear(),d(this,Qt).add(t),t.select(),_(this,it,ia).call(this,t.propertiesToUpdate),_(this,it,Ti).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,Qt).has(t)}get firstSelectedEditor(){return d(this,Qt).values().next().value}unselect(t){t.unselect(),d(this,Qt).delete(t),_(this,it,Ti).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,Qt).size!==0}get isEnterHandled(){return d(this,Qt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;d(this,Ds).undo(),_(this,it,Ti).call(this,{hasSomethingToUndo:d(this,Ds).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,it,td).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){d(this,Ds).redo(),_(this,it,Ti).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Ds).hasSomethingToRedo(),isEmpty:_(this,it,td).call(this)})}addCommands(t){d(this,Ds).add(t),_(this,it,Ti).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,it,td).call(this)})}cleanUndoStack(t){d(this,Ds).cleanType(t)}delete(){var l;this.commitOrRemove();const t=(l=this.currentLayer)==null?void 0:l.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...d(this,Qt)],s=()=>{var c;(c=this._editorUndoBar)==null||c.show(a,e.length===1?e[0].editorType:e.length);for(const h of e)h.remove()},a=()=>{for(const c of e)_(this,it,Cv).call(this,c)};this.addCommands({cmd:s,undo:a,mustExec:!0})}commitOrRemove(){var t;(t=d(this,es))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,es)||this.hasSelection}selectAll(){for(const t of d(this,Qt))t.commit();_(this,it,Mv).call(this,d(this,Fe).values())}unselectAll(){var t;if(!(d(this,es)&&(d(this,es).commitOrRemove(),d(this,Xe)!==Ct.NONE))&&!((t=d(this,Co))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of d(this,Qt))e.unselect();d(this,Qt).clear(),_(this,it,Ti).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;d(this,br)[0]+=t,d(this,br)[1]+=e;const[a,l]=d(this,br),c=[...d(this,Qt)],h=1e3;d(this,Sn)&&clearTimeout(d(this,Sn)),x(this,Sn,setTimeout(()=>{x(this,Sn,null),d(this,br)[0]=d(this,br)[1]=0,this.addCommands({cmd:()=>{for(const f of c)d(this,Fe).has(f.id)&&f.translateInPage(a,l)},undo:()=>{for(const f of c)d(this,Fe).has(f.id)&&f.translateInPage(-a,-l)},mustExec:!1})},h));for(const f of c)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(this,vn,new Map);for(const t of d(this,Qt))d(this,vn).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,vn))return!1;this.disableUserSelect(!1);const t=d(this,vn);x(this,vn,null);let e=!1;for(const[{x:a,y:l,pageIndex:c},h]of t)h.newX=a,h.newY=l,h.newPageIndex=c,e||(e=a!==h.savedX||l!==h.savedY||c!==h.savedPageIndex);if(!e)return!1;const s=(a,l,c,h)=>{if(d(this,Fe).has(a.id)){const f=d(this,ei).get(h);f?a._setParentAndPosition(f,l,c):(a.pageIndex=h,a.x=l,a.y=c)}};return this.addCommands({cmd:()=>{for(const[a,{newX:l,newY:c,newPageIndex:h}]of t)s(a,l,c,h)},undo:()=>{for(const[a,{savedX:l,savedY:c,savedPageIndex:h}]of t)s(a,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,vn))for(const s of d(this,vn).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,Qt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,es)===t}getActive(){return d(this,es)}getMode(){return d(this,Xe)}get imageManager(){return Pt(this,"imageManager",new xv)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:a,width:l,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(p,g,b,v)=>({x:(g-a)/c,y:1-(p+b-s)/l,width:v/c,height:b/l});break;case"180":h=(p,g,b,v)=>({x:1-(p+b-s)/l,y:1-(g+v-a)/c,width:b/l,height:v/c});break;case"270":h=(p,g,b,v)=>({x:1-(g+v-a)/c,y:(p-s)/l,width:v/c,height:b/l});break;default:h=(p,g,b,v)=>({x:(p-s)/l,y:(g-a)/c,width:b/l,height:v/c});break}const f=[];for(let p=0,g=e.rangeCount;p<g;p++){const b=e.getRangeAt(p);if(!b.collapsed)for(const{x:v,y:A,width:S,height:T}of b.getClientRects())S===0||T===0||f.push(h(v,A,S,T))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,zc)||x(this,zc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,zc))==null||e.delete(t)}renderAnnotationElement(t){var a;const e=(a=d(this,zc))==null?void 0:a.get(t.data.id);if(!e)return;const s=d(this,ra).getRawValue(e);s&&(d(this,Xe)===Ct.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};Bc=new WeakMap,es=new WeakMap,Fe=new WeakMap,ei=new WeakMap,Fc=new WeakMap,ra=new WeakMap,zc=new WeakMap,Ds=new WeakMap,fr=new WeakMap,Co=new WeakMap,Vc=new WeakMap,Mo=new WeakMap,vn=new WeakMap,$s=new WeakMap,Ro=new WeakMap,Fd=new WeakMap,zd=new WeakMap,Hc=new WeakMap,Vd=new WeakMap,An=new WeakMap,pr=new WeakMap,Uc=new WeakMap,mr=new WeakMap,xn=new WeakMap,Pg=new WeakMap,gr=new WeakMap,Hd=new WeakMap,yr=new WeakMap,Do=new WeakMap,Ud=new WeakMap,Gd=new WeakMap,Xe=new WeakMap,Qt=new WeakMap,oa=new WeakMap,No=new WeakMap,qd=new WeakMap,Xd=new WeakMap,br=new WeakMap,Sn=new WeakMap,la=new WeakMap,Yd=new WeakMap,Ns=new WeakMap,it=new WeakSet,Xm=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},wv=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of d(this,ei).values())if(s.hasTextLayer(t))return s;return null},cM=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=_(this,it,Xm).call(this,t).closest(".textLayer"),a=this.getSelectionBoxes(s);a&&(d(this,xn)||x(this,xn,new lj(this)),d(this,xn).show(s,a,this.direction==="ltr"))},uM=function(){var l,c,h;const t=document.getSelection();if(!t||t.isCollapsed){d(this,oa)&&((l=d(this,xn))==null||l.hide(),x(this,oa,null),_(this,it,Ti).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,oa))return;const a=_(this,it,Xm).call(this,t).closest(".textLayer");if(!a){d(this,oa)&&((c=d(this,xn))==null||c.hide(),x(this,oa,null),_(this,it,Ti).call(this,{hasSelectedText:!1}));return}if((h=d(this,xn))==null||h.hide(),x(this,oa,e),_(this,it,Ti).call(this,{hasSelectedText:!0}),!(d(this,Xe)!==Ct.HIGHLIGHT&&d(this,Xe)!==Ct.NONE)&&(d(this,Xe)===Ct.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(this,mr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=d(this,Xe)===Ct.HIGHLIGHT?_(this,it,wv).call(this,a):null;f==null||f.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),b=v=>{v.type==="pointerup"&&v.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),v.type==="pointerup"&&_(this,it,Ym).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:g}),window.addEventListener("blur",b,{signal:g})}},Ym=function(t=""){d(this,Xe)===Ct.HIGHLIGHT?this.highlightSelection(t):d(this,Fd)&&_(this,it,cM).call(this)},hM=function(){document.addEventListener("selectionchange",_(this,it,uM).bind(this),{signal:this._signal})},dM=function(){if(d(this,pr))return;x(this,pr,new AbortController);const t=this.combinedSignal(d(this,pr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},fM=function(){var t;(t=d(this,pr))==null||t.abort(),x(this,pr,null)},Tv=function(){if(d(this,yr))return;x(this,yr,new AbortController);const t=this.combinedSignal(d(this,yr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},pM=function(){var t;(t=d(this,yr))==null||t.abort(),x(this,yr,null)},Ev=function(){if(d(this,fr))return;x(this,fr,new AbortController);const t=this.combinedSignal(d(this,fr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},_v=function(){var t;(t=d(this,fr))==null||t.abort(),x(this,fr,null)},mM=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Ti=function(t){Object.entries(t).some(([s,a])=>d(this,Xd)[s]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Xd),t)}),d(this,Xe)===Ct.HIGHLIGHT&&t.hasSelectedEditor===!1&&_(this,it,ia).call(this,[[Bt.HIGHLIGHT_FREE,!0]]))},ia=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},gM=async function(){if(!d(this,gr)){x(this,gr,!0);const t=[];for(const e of d(this,ei).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,Fe).values())e.enable()}},yM=function(){if(this.unselectAll(),d(this,gr)){x(this,gr,!1);for(const t of d(this,ei).values())t.disable();for(const t of d(this,Fe).values())t.disable()}},Cv=function(t){const e=d(this,ei).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},bM=function(){let t=null;for(t of d(this,Qt));return t},td=function(){if(d(this,Fe).size===0)return!0;if(d(this,Fe).size===1)for(const t of d(this,Fe).values())return t.isEmpty();return!1},Mv=function(t){for(const e of d(this,Qt))e.unselect();d(this,Qt).clear();for(const e of t)e.isEmpty()||(d(this,Qt).add(e),e.select());_(this,it,Ti).call(this,{hasSelectedEditor:this.hasSelection})},gt(Nc,"TRANSLATE_SMALL",1),gt(Nc,"TRANSLATE_BIG",10);let Dl=Nc;var Ye,wn,Ws,Gc,Tn,is,qc,En,Vi,ca,Lo,_n,vr,on,ed,Km;const Ei=class Ei{constructor(t){E(this,on);E(this,Ye,null);E(this,wn,!1);E(this,Ws,null);E(this,Gc,null);E(this,Tn,null);E(this,is,null);E(this,qc,!1);E(this,En,null);E(this,Vi,null);E(this,ca,null);E(this,Lo,null);E(this,_n,!1);x(this,Vi,t),x(this,_n,t._uiManager.useNewAltTextFlow),d(Ei,vr)||x(Ei,vr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ei._l10n??(Ei._l10n=t)}async render(){const t=x(this,Ws,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=x(this,Gc,document.createElement("span"));t.append(e),d(this,_n)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(Ei,vr).missing),e.setAttribute("data-l10n-id",d(Ei,vr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=d(this,Vi)._uiManager._signal;t.addEventListener("contextmenu",ln,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const a=l=>{l.preventDefault(),d(this,Vi)._uiManager.editAltText(d(this,Vi)),d(this,_n)&&d(this,Vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,on,ed)}})};return t.addEventListener("click",a,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(x(this,qc,!0),a(l))},{signal:s}),await _(this,on,Km).call(this),t}finish(){d(this,Ws)&&(d(this,Ws).focus({focusVisible:d(this,qc)}),x(this,qc,!1))}isEmpty(){return d(this,_n)?d(this,Ye)===null:!d(this,Ye)&&!d(this,wn)}hasData(){return d(this,_n)?d(this,Ye)!==null||!!d(this,ca):this.isEmpty()}get guessedText(){return d(this,ca)}async setGuessedText(t){d(this,Ye)===null&&(x(this,ca,t),x(this,Lo,await Ei._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),_(this,on,Km).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,_n)||d(this,Ye)){(e=d(this,En))==null||e.remove(),x(this,En,null);return}if(!d(this,En)){const s=x(this,En,document.createElement("div"));s.className="noAltTextBadge",d(this,Vi).div.append(s)}d(this,En).classList.toggle("hidden",!t)}serialize(t){let e=d(this,Ye);return!t&&d(this,ca)===e&&(e=d(this,Lo)),{altText:e,decorative:d(this,wn),guessedText:d(this,ca),textWithDisclaimer:d(this,Lo)}}get data(){return{altText:d(this,Ye),decorative:d(this,wn)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:a,cancel:l=!1}){s&&(x(this,ca,s),x(this,Lo,a)),!(d(this,Ye)===t&&d(this,wn)===e)&&(l||(x(this,Ye,t),x(this,wn,e)),_(this,on,Km).call(this))}toggle(t=!1){d(this,Ws)&&(!t&&d(this,is)&&(clearTimeout(d(this,is)),x(this,is,null)),d(this,Ws).disabled=!t)}shown(){d(this,Vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,on,ed)}})}destroy(){var t,e;(t=d(this,Ws))==null||t.remove(),x(this,Ws,null),x(this,Gc,null),x(this,Tn,null),(e=d(this,En))==null||e.remove(),x(this,En,null)}};Ye=new WeakMap,wn=new WeakMap,Ws=new WeakMap,Gc=new WeakMap,Tn=new WeakMap,is=new WeakMap,qc=new WeakMap,En=new WeakMap,Vi=new WeakMap,ca=new WeakMap,Lo=new WeakMap,_n=new WeakMap,vr=new WeakMap,on=new WeakSet,ed=function(){return d(this,Ye)&&"added"||d(this,Ye)===null&&this.guessedText&&"review"||"missing"},Km=async function(){var a,l,c;const t=d(this,Ws);if(!t)return;if(d(this,_n)){if(t.classList.toggle("done",!!d(this,Ye)),t.setAttribute("data-l10n-id",d(Ei,vr)[d(this,on,ed)]),(a=d(this,Gc))==null||a.setAttribute("data-l10n-id",d(Ei,vr)[`${d(this,on,ed)}-label`]),!d(this,Ye)){(l=d(this,Tn))==null||l.remove();return}}else{if(!d(this,Ye)&&!d(this,wn)){t.classList.remove("done"),(c=d(this,Tn))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,Tn);if(!e){x(this,Tn,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,Vi).id}`;const h=100,f=d(this,Vi)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(d(this,is)),x(this,is,null)},{once:!0}),t.addEventListener("mouseenter",()=>{x(this,is,setTimeout(()=>{x(this,is,null),d(this,Tn).classList.add("show"),d(this,Vi)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),t.addEventListener("mouseleave",()=>{var p;d(this,is)&&(clearTimeout(d(this,is)),x(this,is,null)),(p=d(this,Tn))==null||p.classList.remove("show")},{signal:f})}d(this,wn)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,Ye)),e.parentNode||t.append(e);const s=d(this,Vi).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},E(Ei,vr,null),gt(Ei,"_l10n",null);let Eg=Ei;var Kd,Oo,$d,Wd,Qd,Zd,Jd,Xc,ua,ko,Ar,ja,vM,AM,Rv;const Ax=class Ax{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:s=null,onPinchStart:a=null,onPinching:l=null,onPinchEnd:c=null,signal:h}){E(this,ja);E(this,Kd);E(this,Oo,!1);E(this,$d,null);E(this,Wd);E(this,Qd);E(this,Zd);E(this,Jd);E(this,Xc);E(this,ua,null);E(this,ko);E(this,Ar,null);x(this,Kd,t),x(this,$d,s),x(this,Wd,e),x(this,Qd,a),x(this,Zd,l),x(this,Jd,c),x(this,ko,new AbortController),x(this,Xc,AbortSignal.any([h,d(this,ko).signal])),t.addEventListener("touchstart",_(this,ja,vM).bind(this),{passive:!1,signal:d(this,Xc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Pt(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var t;(t=d(this,ko))==null||t.abort(),x(this,ko,null)}};Kd=new WeakMap,Oo=new WeakMap,$d=new WeakMap,Wd=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,Xc=new WeakMap,ua=new WeakMap,ko=new WeakMap,Ar=new WeakMap,ja=new WeakSet,vM=function(t){var a,l,c;if((a=d(this,Wd))!=null&&a.call(this)||t.touches.length<2)return;if(!d(this,Ar)){x(this,Ar,new AbortController);const h=AbortSignal.any([d(this,Xc),d(this,Ar).signal]),f=d(this,Kd),p={signal:h,passive:!1};f.addEventListener("touchmove",_(this,ja,AM).bind(this),p),f.addEventListener("touchend",_(this,ja,Rv).bind(this),p),f.addEventListener("touchcancel",_(this,ja,Rv).bind(this),p),(l=d(this,Qd))==null||l.call(this)}if(ms(t),t.touches.length!==2||(c=d(this,$d))!=null&&c.call(this)){x(this,ua,null);return}let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]),x(this,ua,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:s.screenX,touch1Y:s.screenY})},AM=function(t){var j;if(!d(this,ua)||t.touches.length!==2)return;let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]);const{screenX:a,screenY:l}=e,{screenX:c,screenY:h}=s,f=d(this,ua),{touch0X:p,touch0Y:g,touch1X:b,touch1Y:v}=f,A=b-p,S=v-g,T=c-a,D=h-l,R=Math.hypot(T,D)||1,L=Math.hypot(A,S)||1;if(!d(this,Oo)&&Math.abs(L-R)<=Ax.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(f.touch0X=a,f.touch0Y=l,f.touch1X=c,f.touch1Y=h,t.preventDefault(),!d(this,Oo)){x(this,Oo,!0);return}const N=[(a+c)/2,(l+h)/2];(j=d(this,Zd))==null||j.call(this,N,L,R)},Rv=function(t){var e;d(this,Ar).abort(),x(this,Ar,null),(e=d(this,Jd))==null||e.call(this),d(this,ua)&&(t.preventDefault(),x(this,ua,null),x(this,Oo,!1))};let _g=Ax;var Po,Qs,le,Yc,xr,tf,jo,ii,Io,ha,Sr,ef,Bo,ss,sf,Fo,da,Cn,Kc,$c,Ls,zo,nf,jg,yt,Dv,af,Nv,$m,xM,SM,Lv,Wm,Ov,wM,TM,EM,kv,_M,Pv,CM,MM,RM,jv,id;const Rt=class Rt{constructor(t){E(this,yt);E(this,Po,null);E(this,Qs,null);E(this,le,null);E(this,Yc,!1);E(this,xr,null);E(this,tf,"");E(this,jo,!1);E(this,ii,null);E(this,Io,null);E(this,ha,null);E(this,Sr,null);E(this,ef,"");E(this,Bo,!1);E(this,ss,null);E(this,sf,!1);E(this,Fo,!1);E(this,da,!1);E(this,Cn,null);E(this,Kc,0);E(this,$c,0);E(this,Ls,null);E(this,zo,null);gt(this,"_editToolbar",null);gt(this,"_initialOptions",Object.create(null));gt(this,"_initialData",null);gt(this,"_isVisible",!0);gt(this,"_uiManager",null);gt(this,"_focusEventsAllowed",!0);E(this,nf,!1);E(this,jg,Rt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:a,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,a],this.pageTranslation=[l,c];const[h,f]=this.parentDimensions;this.x=t.x/h,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Rt.prototype._resizeWithKeyboard,e=Dl.TRANSLATE_SMALL,s=Dl.TRANSLATE_BIG;return Pt(this,"_resizerKeyboardManager",new hp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],Rt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Pt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new hj({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Rt._l10n??(Rt._l10n=t),Rt._l10nResizer||(Rt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Rt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Rt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ae("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,nf)}set _isDraggable(t){var e;x(this,nf,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,jg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):_(this,yt,id).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,Bo)?x(this,Bo,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,a){const[l,c]=this.parentDimensions;[s,a]=this.screenToPageTranslation(s,a),this.x=(t+s)/l,this.y=(e+a)/c,this.fixAndSetPosition()}translate(t,e){_(this,yt,Dv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,ss)||x(this,ss,[this.x,this.y,this.width,this.height]),_(this,yt,Dv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){d(this,ss)||x(this,ss,[this.x,this.y,this.width,this.height]);const{div:s,parentDimensions:[a,l]}=this;if(this.x+=t/a,this.y+=e/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:b,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,b,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:h}=this;const[f,p]=this.getBaseTranslation();c+=f,h+=p;const{style:g}=s;g.left=`${(100*c).toFixed(2)}%`,g.top=`${(100*h).toFixed(2)}%`,this._onTranslating(c,h),s.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!d(this,ss)&&(d(this,ss)[0]!==this.x||d(this,ss)[1]!==this.y)}get _hasBeenResized(){return!!d(this,ss)&&(d(this,ss)[2]!==this.width||d(this,ss)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=Rt,a=s/t,l=s/e;switch(this.rotation){case 90:return[-a,l];case 180:return[a,l];case 270:return[a,-l];default:return[-a,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[s,a]}=this;let{x:l,y:c,width:h,height:f}=this;if(h*=s,f*=a,l*=s,c*=a,this._mustFixPosition)switch(t){case 0:l=Math.max(0,Math.min(s-h,l)),c=Math.max(0,Math.min(a-f,c));break;case 90:l=Math.max(0,Math.min(s-f,l)),c=Math.min(a,Math.max(h,c));break;case 180:l=Math.min(s,Math.max(h,l)),c=Math.min(a,Math.max(f,c));break;case 270:l=Math.min(s,Math.max(f,l)),c=Math.max(0,Math.min(a-h,c));break}this.x=l/=s,this.y=c/=a;const[p,g]=this.getBaseTranslation();l+=p,c+=g,e.left=`${(100*l).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return _(s=Rt,af,Nv).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return _(s=Rt,af,Nv).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,a]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*t/s).toFixed(2)}%`,d(this,jo)||(l.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,a=s.endsWith("%"),l=!d(this,jo)&&e.endsWith("%");if(a&&l)return;const[c,h]=this.parentDimensions;a||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!d(this,jo)&&!l&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=d(this,le))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,Fo)?this._editToolbar:(this._editToolbar=new vv(this),this.div.append(this._editToolbar.render()),d(this,le)&&await this._editToolbar.addAltText(d(this,le)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,le))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,le)||(Eg.initialize(Rt._l10n),x(this,le,new Eg(this)),d(this,Po)&&(d(this,le).data=d(this,Po),x(this,Po,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,le))==null?void 0:t.data}set altTextData(t){d(this,le)&&(d(this,le).data=t)}get guessedAltText(){var t;return(t=d(this,le))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,le))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,le))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,le)&&!d(this,le).isEmpty()}hasAltTextData(){var t;return((t=d(this,le))==null?void 0:t.hasData())??!1}render(){var l;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,Yc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),_(this,yt,Pv).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,a]=this.getInitialTranslation();return this.translate(s,a),Tg(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,zo)||x(this,zo,new _g({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:_(this,yt,wM).bind(this),onPinching:_(this,yt,TM).bind(this),onPinchEnd:_(this,yt,EM).bind(this),signal:this._uiManager._signal}))),(l=this._uiManager._editorUndoBar)==null||l.hide(),this.div}pointerdown(t){const{isMac:e}=Di.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(x(this,Bo,!0),this._isDraggable){_(this,yt,_M).call(this,t);return}_(this,yt,kv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,Cn)&&clearTimeout(d(this,Cn)),x(this,Cn,setTimeout(()=>{var t;x(this,Cn,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,s=this.rotation){const a=this.parentScale,[l,c]=this.pageDimensions,[h,f]=this.pageTranslation,p=t/a,g=e/a,b=this.x*l,v=this.y*c,A=this.width*l,S=this.height*c;switch(s){case 0:return[b+p+h,c-v-g-S+f,b+p+A+h,c-v-g+f];case 90:return[b+g+h,c-v+p+f,b+g+S+h,c-v+p+A+f];case 180:return[b-p-A+h,c-v+g+f,b-p+h,c-v+g+S+f];case 270:return[b-g-S+h,c-v-p-A+f,b-g+h,c-v-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,a,l,c]=t,h=l-s,f=c-a;switch(this.rotation){case 0:return[s,e-c,h,f];case 90:return[s,e-a,f,h];case 180:return[l,e-a,h,f];case 270:return[l,e-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){x(this,Fo,!0)}disableEditMode(){x(this,Fo,!1)}isInEditMode(){return d(this,Fo)}shouldGetKeyboardEvents(){return d(this,da)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:s,right:a}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return e<c&&a>0&&t<l&&s>0}rebuild(){_(this,yt,Pv).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ae("An editor must be serializable")}static async deserialize(t,e,s){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});a.rotation=t.rotation,x(a,Po,t.accessibilityData);const[l,c]=a.pageDimensions,[h,f,p,g]=a.getRectInCurrentCoords(t.rect,c);return a.x=h/l,a.y=f/c,a.width=p/l,a.height=g/c,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=d(this,Sr))==null||t.abort(),x(this,Sr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,Cn)&&(clearTimeout(d(this,Cn)),x(this,Cn,null)),_(this,yt,id).call(this),this.removeEditToolbar(),d(this,Ls)){for(const s of d(this,Ls).values())clearTimeout(s);x(this,Ls,null)}this.parent=null,(e=d(this,zo))==null||e.destroy(),x(this,zo,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,yt,xM).call(this),d(this,ii).classList.remove("hidden"),Tg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),x(this,ha,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,ii).children;if(!d(this,Qs)){x(this,Qs,Array.from(e));const c=_(this,yt,CM).bind(this),h=_(this,yt,MM).bind(this),f=this._uiManager._signal;for(const p of d(this,Qs)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",_(this,yt,RM).bind(this,g),{signal:f}),p.setAttribute("data-l10n-id",Rt._l10nResizer[g])}}const s=d(this,Qs)[0];let a=0;for(const c of e){if(c===s)break;a++}const l=(360-this.rotation+this.parentRotation)%360/90*(d(this,Qs).length/4);if(l!==a){if(l<a)for(let h=0;h<a-l;h++)d(this,ii).append(d(this,ii).firstChild);else if(l>a)for(let h=0;h<l-a;h++)d(this,ii).firstChild.before(d(this,ii).lastChild);let c=0;for(const h of e){const p=d(this,Qs)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Rt._l10nResizer[p])}}_(this,yt,jv).call(this,0),x(this,da,!0),d(this,ii).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,da)&&_(this,yt,Ov).call(this,d(this,ef),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){_(this,yt,id).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,l;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(s=d(this,le))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,a,l;(t=d(this,ii))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(l=d(this,le))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,sf)}set isEditing(t){x(this,sf,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){x(this,jo,!0);const s=t/e,{style:a}=this.div;a.aspectRatio=s,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,Ls)||x(this,Ls,new Map);const{action:s}=t;let a=d(this,Ls).get(s);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),d(this,Ls).delete(s),d(this,Ls).size===0&&x(this,Ls,null)},Rt._telemetryTimeout),d(this,Ls).set(s,a);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),x(this,Yc,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(this,Yc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Po=new WeakMap,Qs=new WeakMap,le=new WeakMap,Yc=new WeakMap,xr=new WeakMap,tf=new WeakMap,jo=new WeakMap,ii=new WeakMap,Io=new WeakMap,ha=new WeakMap,Sr=new WeakMap,ef=new WeakMap,Bo=new WeakMap,ss=new WeakMap,sf=new WeakMap,Fo=new WeakMap,da=new WeakMap,Cn=new WeakMap,Kc=new WeakMap,$c=new WeakMap,Ls=new WeakMap,zo=new WeakMap,nf=new WeakMap,jg=new WeakMap,yt=new WeakSet,Dv=function([t,e],s,a){[s,a]=this.screenToPageTranslation(s,a),this.x+=s/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},af=new WeakSet,Nv=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},$m=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},xM=function(){if(d(this,ii))return;x(this,ii,document.createElement("div")),d(this,ii).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const a=document.createElement("div");d(this,ii).append(a),a.classList.add("resizer",s),a.setAttribute("data-resizer-name",s),a.addEventListener("pointerdown",_(this,yt,SM).bind(this,s),{signal:e}),a.addEventListener("contextmenu",ln,{signal:e}),a.tabIndex=-1}this.div.prepend(d(this,ii))},SM=function(t,e){var g;e.preventDefault();const{isMac:s}=Di.platform;if(e.button!==0||e.ctrlKey&&s)return;(g=d(this,le))==null||g.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,x(this,Io,[e.screenX,e.screenY]);const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,yt,Ov).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",ms,{passive:!1,signal:c}),window.addEventListener("contextmenu",ln,{signal:c}),x(this,ha,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var b;l.abort(),this.parent.togglePointerEvents(!0),(b=d(this,le))==null||b.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=h,this.div.style.cursor=f,_(this,yt,Wm).call(this)};window.addEventListener("pointerup",p,{signal:c}),window.addEventListener("blur",p,{signal:c})},Lv=function(t,e,s,a){this.width=s,this.height=a,this.x=t,this.y=e;const[l,c]=this.parentDimensions;this.setDims(l*s,c*a),this.fixAndSetPosition(),this._onResized()},Wm=function(){if(!d(this,ha))return;const{savedX:t,savedY:e,savedWidth:s,savedHeight:a}=d(this,ha);x(this,ha,null);const l=this.x,c=this.y,h=this.width,f=this.height;l===t&&c===e&&h===s&&f===a||this.addCommands({cmd:_(this,yt,Lv).bind(this,l,c,h,f),undo:_(this,yt,Lv).bind(this,t,e,s,a),mustExec:!0})},Ov=function(t,e){const[s,a]=this.parentDimensions,l=this.x,c=this.y,h=this.width,f=this.height,p=Rt.MIN_SIZE/s,g=Rt.MIN_SIZE/a,b=_(this,yt,$m).call(this,this.rotation),v=(B,X)=>[b[0]*B+b[2]*X,b[1]*B+b[3]*X],A=_(this,yt,$m).call(this,360-this.rotation),S=(B,X)=>[A[0]*B+A[2]*X,A[1]*B+A[3]*X];let T,D,R=!1,L=!1;switch(t){case"topLeft":R=!0,T=(B,X)=>[0,0],D=(B,X)=>[B,X];break;case"topMiddle":T=(B,X)=>[B/2,0],D=(B,X)=>[B/2,X];break;case"topRight":R=!0,T=(B,X)=>[B,0],D=(B,X)=>[0,X];break;case"middleRight":L=!0,T=(B,X)=>[B,X/2],D=(B,X)=>[0,X/2];break;case"bottomRight":R=!0,T=(B,X)=>[B,X],D=(B,X)=>[0,0];break;case"bottomMiddle":T=(B,X)=>[B/2,X],D=(B,X)=>[B/2,0];break;case"bottomLeft":R=!0,T=(B,X)=>[0,X],D=(B,X)=>[B,0];break;case"middleLeft":L=!0,T=(B,X)=>[0,X/2],D=(B,X)=>[B,X/2];break}const N=T(h,f),j=D(h,f);let P=v(...j);const U=Rt._round(l+P[0]),q=Rt._round(c+P[1]);let $=1,tt=1,ft,ot;if(e.fromKeyboard)({deltaX:ft,deltaY:ot}=e);else{const{screenX:B,screenY:X}=e,[st,wt]=d(this,Io);[ft,ot]=this.screenToPageTranslation(B-st,X-wt),d(this,Io)[0]=B,d(this,Io)[1]=X}if([ft,ot]=S(ft/s,ot/a),R){const B=Math.hypot(h,f);$=tt=Math.max(Math.min(Math.hypot(j[0]-N[0]-ft,j[1]-N[1]-ot)/B,1/h,1/f),p/h,g/f)}else L?$=Math.max(p,Math.min(1,Math.abs(j[0]-N[0]-ft)))/h:tt=Math.max(g,Math.min(1,Math.abs(j[1]-N[1]-ot)))/f;const St=Rt._round(h*$),Gt=Rt._round(f*tt);P=v(...D(St,Gt));const Et=U-P[0],zt=q-P[1];d(this,ss)||x(this,ss,[this.x,this.y,this.width,this.height]),this.width=St,this.height=Gt,this.x=Et,this.y=zt,this.setDims(s*St,a*Gt),this.fixAndSetPosition(),this._onResizing()},wM=function(){var t;x(this,ha,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=d(this,le))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},TM=function(t,e,s){let l=.7*(s/e)+1-.7;if(l===1)return;const c=_(this,yt,$m).call(this,this.rotation),h=(U,q)=>[c[0]*U+c[2]*q,c[1]*U+c[3]*q],[f,p]=this.parentDimensions,g=this.x,b=this.y,v=this.width,A=this.height,S=Rt.MIN_SIZE/f,T=Rt.MIN_SIZE/p;l=Math.max(Math.min(l,1/v,1/A),S/v,T/A);const D=Rt._round(v*l),R=Rt._round(A*l);if(D===v&&R===A)return;d(this,ss)||x(this,ss,[g,b,v,A]);const L=h(v/2,A/2),N=Rt._round(g+L[0]),j=Rt._round(b+L[1]),P=h(D/2,R/2);this.x=N-P[0],this.y=j-P[1],this.width=D,this.height=R,this.setDims(f*D,p*R),this.fixAndSetPosition(),this._onResizing()},EM=function(){var t;(t=d(this,le))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),_(this,yt,Wm).call(this)},kv=function(t){const{isMac:e}=Di.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},_M=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let s=!1;const a=new AbortController,l=this._uiManager.combinedSignal(a),c={capture:!0,passive:!1,signal:l},h=p=>{a.abort(),x(this,xr,null),x(this,Bo,!1),this._uiManager.endDragSession()||_(this,yt,kv).call(this,p),s&&this._onStopDragging()};e&&(x(this,Kc,t.clientX),x(this,$c,t.clientY),x(this,xr,t.pointerId),x(this,tf,t.pointerType),window.addEventListener("pointermove",p=>{s||(s=!0,this._onStartDragging());const{clientX:g,clientY:b,pointerId:v}=p;if(v!==d(this,xr)){ms(p);return}const[A,S]=this.screenToPageTranslation(g-d(this,Kc),b-d(this,$c));x(this,Kc,g),x(this,$c,b),this._uiManager.dragSelectedEditors(A,S)},c),window.addEventListener("touchmove",ms,c),window.addEventListener("pointerdown",p=>{p.pointerType===d(this,tf)&&(d(this,zo)||p.isPrimary)&&h(p),ms(p)},c));const f=p=>{if(!d(this,xr)||d(this,xr)===p.pointerId){h(p);return}ms(p)};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})},Pv=function(){if(d(this,Sr)||!this.div)return;x(this,Sr,new AbortController);const t=this._uiManager.combinedSignal(d(this,Sr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},CM=function(t){Rt._resizerKeyboardManager.exec(this,t)},MM=function(t){var e;d(this,da)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,ii)&&_(this,yt,id).call(this)},RM=function(t){x(this,ef,d(this,da)?t:"")},jv=function(t){if(d(this,Qs))for(const e of d(this,Qs))e.tabIndex=t},id=function(){x(this,da,!1),_(this,yt,jv).call(this,-1),_(this,yt,Wm).call(this)},E(Rt,af),gt(Rt,"_l10n",null),gt(Rt,"_l10nResizer",null),gt(Rt,"_borderLineWidth",-1),gt(Rt,"_colorManager",new Sv),gt(Rt,"_zIndex",1),gt(Rt,"_telemetryTimeout",1e3);let be=Rt;class hj extends be{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const $E=3285377520,Cs=4294901760,yn=65535;class DM{constructor(t){this.h1=t?t&4294967295:$E,this.h2=t?t&4294967295:$E}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let T=0,D=t.length;T<D;T++){const R=t.charCodeAt(T);R<=255?e[s++]=R:(e[s++]=R>>>8,e[s++]=R&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=s>>2,l=s-a*4,c=new Uint32Array(e.buffer,0,a);let h=0,f=0,p=this.h1,g=this.h2;const b=3432918353,v=461845907,A=b&yn,S=v&yn;for(let T=0;T<a;T++)T&1?(h=c[T],h=h*b&Cs|h*A&yn,h=h<<15|h>>>17,h=h*v&Cs|h*S&yn,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[T],f=f*b&Cs|f*A&yn,f=f<<15|f>>>17,f=f*v&Cs|f*S&yn,g^=f,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,l){case 3:h^=e[a*4+2]<<16;case 2:h^=e[a*4+1]<<8;case 1:h^=e[a*4],h=h*b&Cs|h*A&yn,h=h<<15|h>>>17,h=h*v&Cs|h*S&yn,a&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Cs|t*36045&yn,e=e*4283543511&Cs|((e<<16|t>>>16)*2950163797&Cs)>>>16,t^=e>>>1,t=t*444984403&Cs|t*60499&yn,e=e*3301882366&Cs|((e<<16|t>>>16)*3120437893&Cs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Iv=Object.freeze({map:null,hash:"",transfer:void 0});var Vo,Ho,Ke,Ig,NM;class mx{constructor(){E(this,Ig);E(this,Vo,!1);E(this,Ho,null);E(this,Ke,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=d(this,Ke).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return d(this,Ke).get(t)}remove(t){if(d(this,Ke).delete(t),d(this,Ke).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,Ke).values())if(e instanceof be)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=d(this,Ke).get(t);let a=!1;if(s!==void 0)for(const[l,c]of Object.entries(e))s[l]!==c&&(a=!0,s[l]=c);else a=!0,d(this,Ke).set(t,e);a&&_(this,Ig,NM).call(this),e instanceof be&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,Ke).has(t)}getAll(){return d(this,Ke).size>0?cx(d(this,Ke)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return d(this,Ke).size}resetModified(){d(this,Vo)&&(x(this,Vo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new LM(this)}get serializable(){if(d(this,Ke).size===0)return Iv;const t=new Map,e=new DM,s=[],a=Object.create(null);let l=!1;for(const[c,h]of d(this,Ke)){const f=h instanceof be?h.serialize(!1,a):h;f&&(t.set(c,f),e.update(`${c}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Iv}get editorStats(){let t=null;const e=new Map;for(const s of d(this,Ke).values()){if(!(s instanceof be))continue;const a=s.telemetryFinalData;if(!a)continue;const{type:l}=a;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[h,f]of Object.entries(a)){if(h==="type")continue;let p=c.get(h);p||(p=new Map,c.set(h,p));const g=p.get(f)??0;p.set(f,g+1)}}for(const[s,a]of e)t[s]=a.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){x(this,Ho,null)}get modifiedIds(){if(d(this,Ho))return d(this,Ho);const t=[];for(const e of d(this,Ke).values())!(e instanceof be)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return x(this,Ho,{ids:new Set(t),hash:t.join(",")})}}Vo=new WeakMap,Ho=new WeakMap,Ke=new WeakMap,Ig=new WeakSet,NM=function(){d(this,Vo)||(x(this,Vo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var rf;class LM extends mx{constructor(e){super();E(this,rf);const{map:s,hash:a,transfer:l}=e.serializable,c=structuredClone(s,l?{transfer:l}:null);x(this,rf,{map:c,hash:a,transfer:l})}get print(){ae("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,rf)}get modifiedIds(){return Pt(this,"modifiedIds",{ids:new Set,hash:""})}}rf=new WeakMap;var Wc;class dj{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){E(this,Wc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,Wc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||d(this,Wc).has(t.loadedName))){if(Oe(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:a,style:l}=t,c=new FontFace(s,a,l);this.addNativeFontFace(c);try{await c.load(),d(this,Wc).add(s),e==null||e(t)}catch{Mt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ae("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(a){throw Mt(`Failed to load font '${s.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const a=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Pt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Ai||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Pt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Oe(!a.done,"completeRequest() cannot be called twice."),a.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,a={done:!1,complete:e,callback:t};return s.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(j,P){return j.charCodeAt(P)<<24|j.charCodeAt(P+1)<<16|j.charCodeAt(P+2)<<8|j.charCodeAt(P+3)&255}function a(j,P,U,q){const $=j.substring(0,P),tt=j.substring(P+U);return $+q+tt}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function g(j,P){if(++p>30){Mt("Load test font never loaded."),P();return}if(f.font="30px "+j,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(g.bind(null,j,P))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,b.length,b);const S=16,T=1482184792;let D=s(v,S);for(l=0,c=b.length-3;l<c;l+=4)D=D-T+s(b,l)|0;l<b.length&&(D=D-T+s(b+"XXX",l)|0),v=a(v,S,4,Q3(D));const R=`url(data:font/opentype;base64,${btoa(v)});`,L=`@font-face {font-family:"${b}";src:${R}}`;this.insertRule(L);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const j of[t.loadedName,b]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=j,N.append(P)}this._document.body.append(N),g(b,()=>{N.remove(),e.complete()})}}Wc=new WeakMap;class fj{constructor(t,{disableFontFace:e=!1,fontExtraProperties:s=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const l in t)this[l]=t[l];this.disableFontFace=e===!0,this.fontExtraProperties=s===!0,this._inspectFont=a}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${sj(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const s=this.loadedName+"_path_"+e;let a;try{a=t.get(s)}catch(c){Mt(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(a||"");return this.fontExtraProperties||t.delete(s),this.compiledGlyphs[e]=l}}const Om={DATA:1,ERROR:2},Ne={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function WE(){}function Fi(r){if(r instanceof Gr||r instanceof gv||r instanceof Rd||r instanceof XE||r instanceof wg||r instanceof Hb)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||ae('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Gr(r.message);case"InvalidPDFException":return new gv(r.message);case"MissingPDFException":return new Rd(r.message);case"PasswordException":return new XE(r.message,r.code);case"UnexpectedResponseException":return new wg(r.message,r.status);case"UnknownErrorException":return new Hb(r.message,r.details)}return new Hb(r.message,r.toString())}var Qc,zs,OM,kM,PM,Qm;class sd{constructor(t,e,s){E(this,zs);E(this,Qc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",_(this,zs,OM).bind(this),{signal:d(this,Qc).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const a=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[a]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},s)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,s,a){const l=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:t,streamId:l,data:e,desiredSize:p.desiredSize},a),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,f.postMessage({sourceName:c,targetName:h,stream:Ne.PULL,streamId:l,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Oe(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:Ne.CANCEL,streamId:l,reason:Fi(p)}),g.promise}},s)}destroy(){var t;(t=d(this,Qc))==null||t.abort(),x(this,Qc,null)}}Qc=new WeakMap,zs=new WeakSet,OM=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){_(this,zs,PM).call(this,t);return}if(t.callback){const s=t.callbackId,a=this.callbackCapabilities[s];if(!a)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Om.DATA)a.resolve(t.data);else if(t.callback===Om.ERROR)a.reject(Fi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,a=t.sourceName,l=this.comObj;Promise.try(e,t.data).then(function(c){l.postMessage({sourceName:s,targetName:a,callback:Om.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:s,targetName:a,callback:Om.ERROR,callbackId:t.callbackId,reason:Fi(c)})});return}if(t.streamId){_(this,zs,kM).call(this,t);return}e(t.data)},kM=function(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,l=this.comObj,c=this,h=this.actionHandler[t.action],f={enqueue(p,g=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:a,stream:Ne.ENQUEUE,streamId:e,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:a,stream:Ne.CLOSE,streamId:e}),delete c.streamSinks[e])},error(p){Oe(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:a,stream:Ne.ERROR,streamId:e,reason:Fi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,Promise.try(h,t.data,f).then(function(){l.postMessage({sourceName:s,targetName:a,stream:Ne.START_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:a,stream:Ne.START_COMPLETE,streamId:e,reason:Fi(p)})})},PM=function(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,l=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case Ne.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Fi(t.reason));break;case Ne.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Fi(t.reason));break;case Ne.PULL:if(!h){l.postMessage({sourceName:s,targetName:a,stream:Ne.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,Promise.try(h.onPull||WE).then(function(){l.postMessage({sourceName:s,targetName:a,stream:Ne.PULL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:a,stream:Ne.PULL_COMPLETE,streamId:e,reason:Fi(p)})});break;case Ne.ENQUEUE:if(Oe(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Ne.CLOSE:if(Oe(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),_(this,zs,Qm).call(this,c,e);break;case Ne.ERROR:Oe(c,"error should have stream controller"),c.controller.error(Fi(t.reason)),_(this,zs,Qm).call(this,c,e);break;case Ne.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Fi(t.reason)),_(this,zs,Qm).call(this,c,e);break;case Ne.CANCEL:if(!h)break;const f=Fi(t.reason);Promise.try(h.onCancel||WE,f).then(function(){l.postMessage({sourceName:s,targetName:a,stream:Ne.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:a,stream:Ne.CANCEL_COMPLETE,streamId:e,reason:Fi(p)})}),h.sinkCapability.reject(f),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Qm=async function(t,e){var s,a,l;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(a=t.pullCall)==null?void 0:a.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var of;class jM{constructor({enableHWA:t=!1}){E(this,of,!1);x(this,of,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!d(this,of)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ae("Abstract method `_createCanvas` called.")}}of=new WeakMap;class pj extends jM{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class IM{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class BM extends IM{async _fetch(t){const e=await sy(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):iy(e)}}class FM{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,a,l){return"none"}destroy(t=!1){}}var Uo,Zc,fa,pa,gi,Go,qo,nt,fi,nd,vc,Zm,Ac,zM,Bv,xc,ad,rd,Fv,od;class mj extends FM{constructor({docId:e,ownerDocument:s=globalThis.document}){super();E(this,nt);E(this,Uo);E(this,Zc);E(this,fa);E(this,pa);E(this,gi);E(this,Go);E(this,qo,0);x(this,pa,e),x(this,gi,s)}addFilter(e){if(!e)return"none";let s=d(this,nt,fi).get(e);if(s)return s;const[a,l,c]=_(this,nt,Zm).call(this,e),h=e.length===1?a:`${a}${l}${c}`;if(s=d(this,nt,fi).get(h),s)return d(this,nt,fi).set(e,s),s;const f=`g_${d(this,pa)}_transfer_map_${wi(this,qo)._++}`,p=_(this,nt,Ac).call(this,f);d(this,nt,fi).set(e,p),d(this,nt,fi).set(h,p);const g=_(this,nt,xc).call(this,f);return _(this,nt,rd).call(this,a,l,c,g),p}addHCMFilter(e,s){var S;const a=`${e}-${s}`,l="base";let c=d(this,nt,nd).get(l);if((c==null?void 0:c.key)===a||(c?((S=c.filter)==null||S.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},d(this,nt,nd).set(l,c)),!e||!s))return c.url;const h=_(this,nt,od).call(this,e);e=dt.makeHexColor(...h);const f=_(this,nt,od).call(this,s);if(s=dt.makeHexColor(...f),d(this,nt,vc).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return c.url;const p=new Array(256);for(let T=0;T<=255;T++){const D=T/255;p[T]=D<=.03928?D/12.92:((D+.055)/1.055)**2.4}const g=p.join(","),b=`g_${d(this,pa)}_hcm_filter`,v=c.filter=_(this,nt,xc).call(this,b);_(this,nt,rd).call(this,g,g,g,v),_(this,nt,Bv).call(this,v);const A=(T,D)=>{const R=h[T]/255,L=f[T]/255,N=new Array(D+1);for(let j=0;j<=D;j++)N[j]=R+j/D*(L-R);return N.join(",")};return _(this,nt,rd).call(this,A(0,5),A(1,5),A(2,5),v),c.url=_(this,nt,Ac).call(this,b),c.url}addAlphaFilter(e){let s=d(this,nt,fi).get(e);if(s)return s;const[a]=_(this,nt,Zm).call(this,[e]),l=`alpha_${a}`;if(s=d(this,nt,fi).get(l),s)return d(this,nt,fi).set(e,s),s;const c=`g_${d(this,pa)}_alpha_map_${wi(this,qo)._++}`,h=_(this,nt,Ac).call(this,c);d(this,nt,fi).set(e,h),d(this,nt,fi).set(l,h);const f=_(this,nt,xc).call(this,c);return _(this,nt,Fv).call(this,a,f),h}addLuminosityFilter(e){let s=d(this,nt,fi).get(e||"luminosity");if(s)return s;let a,l;if(e?([a]=_(this,nt,Zm).call(this,[e]),l=`luminosity_${a}`):l="luminosity",s=d(this,nt,fi).get(l),s)return d(this,nt,fi).set(e,s),s;const c=`g_${d(this,pa)}_luminosity_map_${wi(this,qo)._++}`,h=_(this,nt,Ac).call(this,c);d(this,nt,fi).set(e,h),d(this,nt,fi).set(l,h);const f=_(this,nt,xc).call(this,c);return _(this,nt,zM).call(this,f),e&&_(this,nt,Fv).call(this,a,f),h}addHighlightHCMFilter(e,s,a,l,c){var L;const h=`${s}-${a}-${l}-${c}`;let f=d(this,nt,nd).get(e);if((f==null?void 0:f.key)===h||(f?((L=f.filter)==null||L.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},d(this,nt,nd).set(e,f)),!s||!a))return f.url;const[p,g]=[s,a].map(_(this,nt,od).bind(this));let b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[A,S]=[l,c].map(_(this,nt,od).bind(this));v<b&&([b,v,A,S]=[v,b,S,A]),d(this,nt,vc).style.color="";const T=(N,j,P)=>{const U=new Array(256),q=(v-b)/P,$=N/255,tt=(j-N)/(255*P);let ft=0;for(let ot=0;ot<=P;ot++){const St=Math.round(b+ot*q),Gt=$+ot*tt;for(let Et=ft;Et<=St;Et++)U[Et]=Gt;ft=St+1}for(let ot=ft;ot<256;ot++)U[ot]=U[ft-1];return U.join(",")},D=`g_${d(this,pa)}_hcm_${e}_filter`,R=f.filter=_(this,nt,xc).call(this,D);return _(this,nt,Bv).call(this,R),_(this,nt,rd).call(this,T(A[0],S[0],5),T(A[1],S[1],5),T(A[2],S[2],5),R),f.url=_(this,nt,Ac).call(this,D),f.url}destroy(e=!1){var s,a,l,c;e&&((s=d(this,Go))!=null&&s.size)||((a=d(this,fa))==null||a.parentNode.parentNode.remove(),x(this,fa,null),(l=d(this,Zc))==null||l.clear(),x(this,Zc,null),(c=d(this,Go))==null||c.clear(),x(this,Go,null),x(this,qo,0))}}Uo=new WeakMap,Zc=new WeakMap,fa=new WeakMap,pa=new WeakMap,gi=new WeakMap,Go=new WeakMap,qo=new WeakMap,nt=new WeakSet,fi=function(){return d(this,Zc)||x(this,Zc,new Map)},nd=function(){return d(this,Go)||x(this,Go,new Map)},vc=function(){if(!d(this,fa)){const e=d(this,gi).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const a=d(this,gi).createElementNS(ea,"svg");a.setAttribute("width",0),a.setAttribute("height",0),x(this,fa,d(this,gi).createElementNS(ea,"defs")),e.append(a),a.append(d(this,fa)),d(this,gi).body.append(e)}return d(this,fa)},Zm=function(e){if(e.length===1){const p=e[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=p[v]/255;const b=g.join(",");return[b,b,b]}const[s,a,l]=e,c=new Array(256),h=new Array(256),f=new Array(256);for(let p=0;p<256;p++)c[p]=s[p]/255,h[p]=a[p]/255,f[p]=l[p]/255;return[c.join(","),h.join(","),f.join(",")]},Ac=function(e){if(d(this,Uo)===void 0){x(this,Uo,"");const s=d(this,gi).URL;s!==d(this,gi).baseURI&&(ny(s)?Mt('#createUrl: ignore "data:"-URL for performance reasons.'):x(this,Uo,s.split("#",1)[0]))}return`url(${d(this,Uo)}#${e})`},zM=function(e){const s=d(this,gi).createElementNS(ea,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},Bv=function(e){const s=d(this,gi).createElementNS(ea,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},xc=function(e){const s=d(this,gi).createElementNS(ea,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),d(this,nt,vc).append(s),s},ad=function(e,s,a){const l=d(this,gi).createElementNS(ea,s);l.setAttribute("type","discrete"),l.setAttribute("tableValues",a),e.append(l)},rd=function(e,s,a,l){const c=d(this,gi).createElementNS(ea,"feComponentTransfer");l.append(c),_(this,nt,ad).call(this,c,"feFuncR",e),_(this,nt,ad).call(this,c,"feFuncG",s),_(this,nt,ad).call(this,c,"feFuncB",a)},Fv=function(e,s){const a=d(this,gi).createElementNS(ea,"feComponentTransfer");s.append(a),_(this,nt,ad).call(this,a,"feFuncA",e)},od=function(e){return d(this,nt,vc).style.color=e,px(getComputedStyle(d(this,nt,vc)).getPropertyValue("color"))};class VM{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class HM extends VM{async _fetch(t){const e=await sy(t,"arraybuffer");return new Uint8Array(e)}}Ai&&Mt("Please use the `legacy` build in Node.js environments.");async function UM(r){const e=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class gj extends FM{}class yj extends jM{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class bj extends IM{async _fetch(t){return UM(t)}}class vj extends VM{async _fetch(t){return UM(t)}}const vi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function zv(r,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,s),r.clip(a)}class gx{getPattern(){ae("Abstract method `getPattern` called.")}}class Aj extends gx{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,a){let l;if(a===vi.STROKE||a===vi.FILL){const c=e.current.getClippedPathBoundingBox(a,he(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=e.cachedCanvases.getCanvas("pattern",h,f),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-c[0],-c[1]),s=dt.transform(s,[1,0,0,1,c[0],c[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),zv(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=t.createPattern(p.canvas,"no-repeat");const b=new DOMMatrix(s);l.setTransform(b)}else zv(t,this._bbox),l=this._createGradient(t);return l}}function qb(r,t,e,s,a,l,c,h){const f=t.coords,p=t.colors,g=r.data,b=r.width*4;let v;f[e+1]>f[s+1]&&(v=e,e=s,s=v,v=l,l=c,c=v),f[s+1]>f[a+1]&&(v=s,s=a,a=v,v=c,c=h,h=v),f[e+1]>f[s+1]&&(v=e,e=s,s=v,v=l,l=c,c=v);const A=(f[e]+t.offsetX)*t.scaleX,S=(f[e+1]+t.offsetY)*t.scaleY,T=(f[s]+t.offsetX)*t.scaleX,D=(f[s+1]+t.offsetY)*t.scaleY,R=(f[a]+t.offsetX)*t.scaleX,L=(f[a+1]+t.offsetY)*t.scaleY;if(S>=L)return;const N=p[l],j=p[l+1],P=p[l+2],U=p[c],q=p[c+1],$=p[c+2],tt=p[h],ft=p[h+1],ot=p[h+2],St=Math.round(S),Gt=Math.round(L);let Et,zt,B,X,st,wt,k,W;for(let J=St;J<=Gt;J++){if(J<D){const Lt=J<S?0:(S-J)/(S-D);Et=A-(A-T)*Lt,zt=N-(N-U)*Lt,B=j-(j-q)*Lt,X=P-(P-$)*Lt}else{let Lt;J>L?Lt=1:D===L?Lt=0:Lt=(D-J)/(D-L),Et=T-(T-R)*Lt,zt=U-(U-tt)*Lt,B=q-(q-ft)*Lt,X=$-($-ot)*Lt}let Z;J<S?Z=0:J>L?Z=1:Z=(S-J)/(S-L),st=A-(A-R)*Z,wt=N-(N-tt)*Z,k=j-(j-ft)*Z,W=P-(P-ot)*Z;const ht=Math.round(Math.min(Et,st)),Nt=Math.round(Math.max(Et,st));let ct=b*J+ht*4;for(let Lt=ht;Lt<=Nt;Lt++)Z=(Et-Lt)/(Et-st),Z<0?Z=0:Z>1&&(Z=1),g[ct++]=zt-(zt-wt)*Z|0,g[ct++]=B-(B-k)*Z|0,g[ct++]=X-(X-W)*Z|0,g[ct++]=255}}function xj(r,t,e){const s=t.coords,a=t.colors;let l,c;switch(t.type){case"lattice":const h=t.verticesPerRow,f=Math.floor(s.length/h)-1,p=h-1;for(l=0;l<f;l++){let g=l*h;for(let b=0;b<p;b++,g++)qb(r,e,s[g],s[g+1],s[g+h],a[g],a[g+1],a[g+h]),qb(r,e,s[g+h+1],s[g+1],s[g+h],a[g+h+1],a[g+1],a[g+h])}break;case"triangles":for(l=0,c=s.length;l<c;l+=3)qb(r,e,s[l],s[l+1],s[l+2],a[l],a[l+1],a[l+2]);break;default:throw new Error("illegal figure")}}class Sj extends gx{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),A=p/b,S=g/v,T={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/A,scaleY:1/S},D=b+2*2,R=v+2*2,L=s.getCanvas("mesh",D,R),N=L.context,j=N.createImageData(b,v);if(e){const U=j.data;for(let q=0,$=U.length;q<$;q+=4)U[q]=e[0],U[q+1]=e[1],U[q+2]=e[2],U[q+3]=255}for(const U of this._figures)xj(j,U,T);return N.putImageData(j,2,2),{canvas:L.canvas,offsetX:h-2*A,offsetY:f-2*S,scaleX:A,scaleY:S}}getPattern(t,e,s,a){zv(t,this._bbox);let l;if(a===vi.SHADING)l=dt.singularValueDecompose2dScale(he(t));else if(l=dt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const h=dt.singularValueDecompose2dScale(this.matrix);l=[l[0]*h[0],l[1]*h[1]]}const c=this._createMeshCanvas(l,a===vi.SHADING?null:this._background,e.cachedCanvases);return a!==vi.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class wj extends gx{getPattern(){return"hotpink"}}function Tj(r){switch(r[0]){case"RadialAxial":return new Aj(r);case"Mesh":return new Sj(r);case"Dummy":return new wj}throw new Error(`Unknown IR type: ${r[0]}`)}const QE={COLORED:1,UNCOLORED:2},Bg=class Bg{constructor(t,e,s,a,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=a,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:a,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),ey("TilingType: "+l);const g=e[0],b=e[1],v=e[2],A=e[3],S=v-g,T=A-b,D=dt.singularValueDecompose2dScale(this.matrix),R=dt.singularValueDecompose2dScale(this.baseTransform),L=D[0]*R[0],N=D[1]*R[1];let j=S,P=T,U=!1,q=!1;const $=Math.ceil(f*L),tt=Math.ceil(p*N),ft=Math.ceil(S*L),ot=Math.ceil(T*N);$>=ft?j=f:U=!0,tt>=ot?P=p:q=!0;const St=this.getSizeAndScale(j,this.ctx.canvas.width,L),Gt=this.getSizeAndScale(P,this.ctx.canvas.height,N),Et=t.cachedCanvases.getCanvas("pattern",St.size,Gt.size),zt=Et.context,B=h.createCanvasGraphics(zt);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,a,c),zt.translate(-St.scale*g,-Gt.scale*b),B.transform(St.scale,0,0,Gt.scale,0,0),zt.save(),this.clipBbox(B,g,b,v,A),B.baseTransform=he(B.ctx),B.executeOperatorList(s),B.endDrawing(),zt.restore(),U||q){const X=Et.canvas;U&&(j=f),q&&(P=p);const st=this.getSizeAndScale(j,this.ctx.canvas.width,L),wt=this.getSizeAndScale(P,this.ctx.canvas.height,N),k=st.size,W=wt.size,J=t.cachedCanvases.getCanvas("pattern-workaround",k,W),Z=J.context,ht=U?Math.floor(S/f):0,Nt=q?Math.floor(T/p):0;for(let ct=0;ct<=ht;ct++)for(let Lt=0;Lt<=Nt;Lt++)Z.drawImage(X,k*ct,W*Lt,k,W,0,0,k,W);return{canvas:J.canvas,scaleX:st.scale,scaleY:wt.scale,offsetX:g,offsetY:b}}return{canvas:Et.canvas,scaleX:St.scale,scaleY:Gt.scale,offsetX:g,offsetY:b}}getSizeAndScale(t,e,s){const a=Math.max(Bg.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*s);return l>=a?l=a:s=l/t,{scale:s,size:l}}clipBbox(t,e,s,a,l){const c=a-e,h=l-s;t.ctx.rect(e,s,c,h),t.current.updateRectMinMax(he(t.ctx),[e,s,a,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const a=t.ctx,l=t.current;switch(e){case QE.COLORED:const c=this.ctx;a.fillStyle=c.fillStyle,a.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case QE.UNCOLORED:const h=dt.makeHexColor(s[0],s[1],s[2]);a.fillStyle=h,a.strokeStyle=h,l.fillColor=h,l.strokeColor=h;break;default:throw new W3(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,a){let l=s;a!==vi.SHADING&&(l=dt.transform(l,e.baseTransform),this.matrix&&(l=dt.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(h),f}};gt(Bg,"MAX_PATTERN_SIZE",3e3);let Vv=Bg;function Ej({src:r,srcPos:t=0,dest:e,width:s,height:a,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=Di.isLittleEndian?4278190080:255,[f,p]=c?[l,h]:[h,l],g=s>>3,b=s&7,v=r.length;e=new Uint32Array(e.buffer);let A=0;for(let S=0;S<a;S++){for(const D=t+g;t<D;t++){const R=t<v?r[t]:255;e[A++]=R&128?p:f,e[A++]=R&64?p:f,e[A++]=R&32?p:f,e[A++]=R&16?p:f,e[A++]=R&8?p:f,e[A++]=R&4?p:f,e[A++]=R&2?p:f,e[A++]=R&1?p:f}if(b===0)continue;const T=t<v?r[t++]:255;for(let D=0;D<b;D++)e[A++]=T&1<<7-D?p:f}return{srcPos:t,destPos:A}}const ZE=16,JE=100,_j=15,t_=10,e_=1e3,Gi=16;function Cj(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(s,a){t.translate(s,a),this.__originalTranslate(s,a)},r.scale=function(s,a){t.scale(s,a),this.__originalScale(s,a)},r.transform=function(s,a,l,c,h,f){t.transform(s,a,l,c,h,f),this.__originalTransform(s,a,l,c,h,f)},r.setTransform=function(s,a,l,c,h,f){t.setTransform(s,a,l,c,h,f),this.__originalSetTransform(s,a,l,c,h,f)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(s){t.rotate(s),this.__originalRotate(s)},r.clip=function(s){t.clip(s),this.__originalClip(s)},r.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},r.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},r.bezierCurveTo=function(e,s,a,l,c,h){t.bezierCurveTo(e,s,a,l,c,h),this.__originalBezierCurveTo(e,s,a,l,c,h)},r.rect=function(e,s,a,l){t.rect(e,s,a,l),this.__originalRect(e,s,a,l)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Mj{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,s)):(a=this.canvasFactory.create(e,s),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function km(r,t,e,s,a,l,c,h,f,p){const[g,b,v,A,S,T]=he(r);if(b===0&&v===0){const L=c*g+S,N=Math.round(L),j=h*A+T,P=Math.round(j),U=(c+f)*g+S,q=Math.abs(Math.round(U)-N)||1,$=(h+p)*A+T,tt=Math.abs(Math.round($)-P)||1;return r.setTransform(Math.sign(g),0,0,Math.sign(A),N,P),r.drawImage(t,e,s,a,l,0,0,q,tt),r.setTransform(g,b,v,A,S,T),[q,tt]}if(g===0&&A===0){const L=h*v+S,N=Math.round(L),j=c*b+T,P=Math.round(j),U=(h+p)*v+S,q=Math.abs(Math.round(U)-N)||1,$=(c+f)*b+T,tt=Math.abs(Math.round($)-P)||1;return r.setTransform(0,Math.sign(b),Math.sign(v),0,N,P),r.drawImage(t,e,s,a,l,0,0,tt,q),r.setTransform(g,b,v,A,S,T),[tt,q]}r.drawImage(t,e,s,a,l,c,h,f,p);const D=Math.hypot(g,b),R=Math.hypot(v,A);return[D*f,R*p]}function Rj(r){const{width:t,height:e}=r;if(t>e_||e>e_)return null;const s=1e3,a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let c=new Uint8Array(l*(e+1)),h,f,p;const g=t+7&-8;let b=new Uint8Array(g*e),v=0;for(const R of r.data){let L=128;for(;L>0;)b[v++]=R&L?0:255,L>>=1}let A=0;for(v=0,b[v]!==0&&(c[0]=1,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(c[f]=b[v]?2:1,++A),v++;for(b[v]!==0&&(c[f]=2,++A),h=1;h<e;h++){v=h*g,p=h*l,b[v-g]!==b[v]&&(c[p]=b[v]?1:8,++A);let R=(b[v]?4:0)+(b[v-g]?8:0);for(f=1;f<t;f++)R=(R>>2)+(b[v+1]?4:0)+(b[v-g+1]?8:0),a[R]&&(c[p+f]=a[R],++A),v++;if(b[v-g]!==b[v]&&(c[p+f]=b[v]?2:4,++A),A>s)return null}for(v=g*(e-1),p=h*l,b[v]!==0&&(c[p]=8,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(c[p+f]=b[v]?4:8,++A),v++;if(b[v]!==0&&(c[p+f]=4,++A),A>s)return null;const S=new Int32Array([0,l,-1,0,-l,0,0,0,1]),T=new Path2D;for(h=0;A&&h<=e;h++){let R=h*l;const L=R+t;for(;R<L&&!c[R];)R++;if(R===L)continue;T.moveTo(R%l,h);const N=R;let j=c[R];do{const P=S[j];do R+=P;while(!c[R]);const U=c[R];U!==5&&U!==10?(j=U,c[R]=0):(j=U&51*j>>4,c[R]&=j>>2|j<<2),T.lineTo(R%l,R/l|0),c[R]||--A}while(N!==R);--h}return b=null,c=null,function(R){R.save(),R.scale(1/t,-1/e),R.translate(0,-e),R.fill(T),R.beginPath(),R.restore()}}class i_{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=JC,this.textMatrixScale=1,this.fontMatrix=mv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=di.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=dt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=dt.applyTransform(e,t),a=dt.applyTransform(e.slice(2),t),l=dt.applyTransform([e[0],e[3]],t),c=dt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],a[0],l[0],c[0]),this.minY=Math.min(this.minY,s[1],a[1],l[1],c[1]),this.maxX=Math.max(this.maxX,s[0],a[0],l[0],c[0]),this.maxY=Math.max(this.maxY,s[1],a[1],l[1],c[1])}updateScalingPathMinMax(t,e){dt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,a,l,c,h,f,p,g){const b=dt.bezierBoundingBox(e,s,a,l,c,h,f,p,g);g||this.updateRectMinMax(t,b)}getPathBoundingBox(t=vi.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===vi.STROKE){e||ae("Stroke bounding box must include transform.");const a=dt.singularValueDecompose2dScale(e),l=a[0]*this.lineWidth/2,c=a[1]*this.lineWidth/2;s[0]-=l,s[1]-=c,s[2]+=l,s[3]+=c}return s}updateClipFromPath(){const t=dt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=vi.FILL,e=null){return dt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function s_(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,s=t.width,a=e%Gi,l=(e-a)/Gi,c=a===0?l:l+1,h=r.createImageData(s,Gi);let f=0,p;const g=t.data,b=h.data;let v,A,S,T;if(t.kind===Hm.GRAYSCALE_1BPP){const D=g.byteLength,R=new Uint32Array(b.buffer,0,b.byteLength>>2),L=R.length,N=s+7>>3,j=4294967295,P=Di.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(S=v<l?Gi:a,p=0,A=0;A<S;A++){const U=D-f;let q=0;const $=U>N?s:U*8-7,tt=$&-8;let ft=0,ot=0;for(;q<tt;q+=8)ot=g[f++],R[p++]=ot&128?j:P,R[p++]=ot&64?j:P,R[p++]=ot&32?j:P,R[p++]=ot&16?j:P,R[p++]=ot&8?j:P,R[p++]=ot&4?j:P,R[p++]=ot&2?j:P,R[p++]=ot&1?j:P;for(;q<$;q++)ft===0&&(ot=g[f++],ft=128),R[p++]=ot&ft?j:P,ft>>=1}for(;p<L;)R[p++]=0;r.putImageData(h,0,v*Gi)}}else if(t.kind===Hm.RGBA_32BPP){for(A=0,T=s*Gi*4,v=0;v<l;v++)b.set(g.subarray(f,f+T)),f+=T,r.putImageData(h,0,A),A+=Gi;v<c&&(T=s*a*4,b.set(g.subarray(f,f+T)),r.putImageData(h,0,A))}else if(t.kind===Hm.RGB_24BPP)for(S=Gi,T=s*S,v=0;v<c;v++){for(v>=l&&(S=a,T=s*S),p=0,A=T;A--;)b[p++]=g[f++],b[p++]=g[f++],b[p++]=g[f++],b[p++]=255;r.putImageData(h,0,v*Gi)}else throw new Error(`bad image kind: ${t.kind}`)}function n_(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,a=e%Gi,l=(e-a)/Gi,c=a===0?l:l+1,h=r.createImageData(s,Gi);let f=0;const p=t.data,g=h.data;for(let b=0;b<c;b++){const v=b<l?Gi:a;({srcPos:f}=Ej({src:p,srcPos:f,dest:g,width:s,height:v,nonBlackColor:0})),r.putImageData(h,0,b*Gi)}}function $h(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)r[s]!==void 0&&(t[s]=r[s]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function Pm(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!Ai){const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}}function a_(r,t){if(t)return!0;const e=dt.singularValueDecompose2dScale(r);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*qr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const Dj=["butt","round","square"],Nj=["miter","round","bevel"],Lj={},r_={};var cn,Hv,Uv,Gv;const xx=class xx{constructor(t,e,s,a,l,{optionalContentConfig:c,markedContentStack:h=null},f,p){E(this,cn);this.ctx=t,this.current=new i_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=a,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new Mj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:a=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,s){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...he(this.compositeCtx))}this.ctx.save(),Pm(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=he(this.ctx)}executeOperatorList(t,e,s,a){const l=t.argsArray,c=t.fnArray;let h=e||0;const f=l.length;if(f===h)return h;const p=f-h>t_&&typeof s=="function",g=p?Date.now()+_j:0;let b=0;const v=this.commonObjs,A=this.objs;let S;for(;;){if(a!==void 0&&h===a.nextBreakPoint)return a.breakIt(h,s),h;if(S=c[h],S!==Ys.dependency)this[S].apply(this,l[h]);else for(const T of l[h]){const D=T.startsWith("g_")?v:A;if(!D.has(T))return D.get(T,s),h}if(h++,h===f)return h;if(p&&++b>t_){if(Date.now()>g)return s(),h;b=0}}}endDrawing(){_(this,cn,Hv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),_(this,cn,Uv).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,a=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=s,f=a,p="prescale1",g,b;for(;l>2&&h>1||c>2&&f>1;){let v=h,A=f;l>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/v),c>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/A),g=this.cachedCanvases.getCanvas(p,v,A),b=g.context,b.clearRect(0,0,v,A),b.drawImage(t,0,0,h,f,0,0,v,A),t=g.canvas,h=v,f=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:a}=t,l=this.current.fillColor,c=this.current.patternFill,h=he(e);let f,p,g,b;if((t.bitmap||t.data)&&t.count>1){const $=t.bitmap||t.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get($),f||(f=new Map,this._cachedBitmapsMap.set($,f));const tt=f.get(p);if(tt&&!c){const ft=Math.round(Math.min(h[0],h[2])+h[4]),ot=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:tt,offsetX:ft,offsetY:ot}}g=tt}g||(b=this.cachedCanvases.getCanvas("maskCanvas",s,a),n_(b.context,t));let v=dt.transform(h,[1/s,0,0,-1/a,0,0]);v=dt.transform(v,[1,0,0,1,0,-a]);const[A,S,T,D]=dt.getAxialAlignedBoundingBox([0,0,s,a],v),R=Math.round(T-A)||1,L=Math.round(D-S)||1,N=this.cachedCanvases.getCanvas("fillCanvas",R,L),j=N.context,P=A,U=S;j.translate(-P,-U),j.transform(...v),g||(g=this._scaleImage(b.canvas,gn(j)),g=g.img,f&&c&&f.set(p,g)),j.imageSmoothingEnabled=a_(he(j),t.interpolate),km(j,g,0,0,g.width,g.height,0,0,s,a),j.globalCompositeOperation="source-in";const q=dt.transform(gn(j),[1,0,0,1,-P,-U]);return j.fillStyle=c?l.getPattern(e,this,q,vi.FILL):l,j.fillRect(0,0,s,a),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,N.canvas)),{canvas:N.canvas,offsetX:Math.round(P),offsetY:Math.round(U)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Dj[t]}setLineJoin(t){this.ctx.lineJoin=Nj[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=a.context;const l=this.ctx;l.setTransform(...he(this.suspendedCtx)),$h(this.suspendedCtx,l),Cj(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$h(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,a){const l=a[0],c=a[1],h=a[2]-l,f=a[3]-c;h===0||f===0||(this.genericComposeSMask(e.context,s,h,f,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,a,l,c,h,f,p,g,b){let v=t.canvas,A=f-g,S=p-b;if(c){const D=dt.makeHexColor(...c);if(A<0||S<0||A+s>v.width||S+a>v.height){const R=this.cachedCanvases.getCanvas("maskExtension",s,a),L=R.context;L.drawImage(v,-A,-S),L.globalCompositeOperation="destination-atop",L.fillStyle=D,L.fillRect(0,0,s,a),L.globalCompositeOperation="source-over",v=R.canvas,A=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const R=new Path2D;R.rect(A,S,s,a),t.clip(R),t.globalCompositeOperation="destination-atop",t.fillStyle=D,t.fillRect(A,S,s,a),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const T=new Path2D;T.rect(f,p,s,a),e.clip(T),e.globalCompositeOperation="destination-in",e.drawImage(v,A,S,s,a,f,p,s,a),e.restore()}save(){this.inSMaskMode?($h(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),$h(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,a,l,c){this.ctx.transform(t,e,s,a,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const a=this.ctx,l=this.current;let c=l.x,h=l.y,f,p;const g=he(a),b=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,v=b?s.slice(0):null;for(let A=0,S=0,T=t.length;A<T;A++)switch(t[A]|0){case Ys.rectangle:c=e[S++],h=e[S++];const D=e[S++],R=e[S++],L=c+D,N=h+R;a.moveTo(c,h),D===0||R===0?a.lineTo(L,N):(a.lineTo(L,h),a.lineTo(L,N),a.lineTo(c,N)),b||l.updateRectMinMax(g,[c,h,L,N]),a.closePath();break;case Ys.moveTo:c=e[S++],h=e[S++],a.moveTo(c,h),b||l.updatePathMinMax(g,c,h);break;case Ys.lineTo:c=e[S++],h=e[S++],a.lineTo(c,h),b||l.updatePathMinMax(g,c,h);break;case Ys.curveTo:f=c,p=h,c=e[S+4],h=e[S+5],a.bezierCurveTo(e[S],e[S+1],e[S+2],e[S+3],c,h),l.updateCurvePathMinMax(g,f,p,e[S],e[S+1],e[S+2],e[S+3],c,h,v),S+=6;break;case Ys.curveTo2:f=c,p=h,a.bezierCurveTo(c,h,e[S],e[S+1],e[S+2],e[S+3]),l.updateCurvePathMinMax(g,f,p,c,h,e[S],e[S+1],e[S+2],e[S+3],v),c=e[S+2],h=e[S+3],S+=4;break;case Ys.curveTo3:f=c,p=h,c=e[S+2],h=e[S+3],a.bezierCurveTo(e[S],e[S+1],c,h,c,h),l.updateCurvePathMinMax(g,f,p,e[S],e[S+1],c,h,c,h,v),S+=4;break;case Ys.closePath:a.closePath();break}b&&l.updateScalingPathMinMax(g,v),l.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,gn(e),vi.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let l=!1;a&&(e.save(),e.fillStyle=s.getPattern(e,this,gn(e),vi.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Lj}eoClip(){this.pendingClip=r_}beginText(){this.current.textMatrix=JC,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}const s=new Path2D,a=e.getTransform().invertSelf();for(const{transform:l,x:c,y:h,fontSize:f,path:p}of t)s.addPath(p,new DOMMatrix(l).preMultiplySelf(a).translate(c,h).scale(f,-f));e.clip(s),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var g;const s=this.commonObjs.get(t),a=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=s.fontMatrix||mv,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Mt("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const l=s.loadedName||"sans-serif",c=((g=s.systemFontInfo)==null?void 0:g.css)||`"${l}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const f=s.italic?"italic":"normal";let p=e;e<ZE?p=ZE:e>JE&&(p=JE),this.current.fontSizeScale=e/p,this.ctx.font=`${f} ${h} ${p}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,a,l,c){this.current.textMatrix=[t,e,s,a,l,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,a,l){const c=this.ctx,h=this.current,f=h.font,p=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,b=p&di.FILL_STROKE_MASK,v=!!(p&di.ADD_TO_PATH_FLAG),A=h.patternFill&&!f.missingFile,S=h.patternStroke&&!f.missingFile;let T;if((f.disableFontFace||v||A||S)&&(T=f.getPathGenerator(this.commonObjs,t)),f.disableFontFace||A||S){if(c.save(),c.translate(e,s),c.scale(g,-g),b===di.FILL||b===di.FILL_STROKE)if(a){const D=c.getTransform();c.setTransform(...a),c.fill(_(this,cn,Gv).call(this,T,D,a))}else c.fill(T);if(b===di.STROKE||b===di.FILL_STROKE)if(l){const D=c.getTransform();c.setTransform(...l),c.stroke(_(this,cn,Gv).call(this,T,D,l))}else c.lineWidth/=g,c.stroke(T);c.restore()}else(b===di.FILL||b===di.FILL_STROKE)&&c.fillText(t,e,s),(b===di.STROKE||b===di.FILL_STROKE)&&c.strokeText(t,e,s);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:he(c),x:e,y:s,fontSize:g,path:T})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){s=!0;break}return Pt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const l=this.ctx,c=e.fontSizeScale,h=e.charSpacing,f=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,b=t.length,v=s.vertical,A=v?1:-1,S=s.defaultVMetrics,T=a*e.fontMatrix[0],D=e.textRenderingMode===di.FILL&&!s.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),p>0?l.scale(g,-1):l.scale(g,1);let R,L;if(e.patternFill){l.save();const q=e.fillColor.getPattern(l,this,gn(l),vi.FILL);R=he(l),l.restore(),l.fillStyle=q}if(e.patternStroke){l.save();const q=e.strokeColor.getPattern(l,this,gn(l),vi.STROKE);L=he(l),l.restore(),l.strokeStyle=q}let N=e.lineWidth;const j=e.textMatrixScale;if(j===0||N===0){const q=e.textRenderingMode&di.FILL_STROKE_MASK;(q===di.STROKE||q===di.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=j;if(c!==1&&(l.scale(c,c),N/=c),l.lineWidth=N,s.isInvalidPDFjsFont){const q=[];let $=0;for(const tt of t)q.push(tt.unicode),$+=tt.width;l.fillText(q.join(""),0,0),e.x+=$*T*g,l.restore(),this.compose();return}let P=0,U;for(U=0;U<b;++U){const q=t[U];if(typeof q=="number"){P+=A*q*a/1e3;continue}let $=!1;const tt=(q.isSpace?f:0)+h,ft=q.fontChar,ot=q.accent;let St,Gt,Et=q.width;if(v){const B=q.vmetric||S,X=-(q.vmetric?B[1]:Et*.5)*T,st=B[2]*T;Et=B?-B[0]:Et,St=X/c,Gt=(P+st)/c}else St=P/c,Gt=0;if(s.remeasure&&Et>0){const B=l.measureText(ft).width*1e3/a*c;if(Et<B&&this.isFontSubpixelAAEnabled){const X=Et/B;$=!0,l.save(),l.scale(X,1),St/=X}else Et!==B&&(St+=(Et-B)/2e3*a/c)}if(this.contentVisible&&(q.isInFont||s.missingFile)){if(D&&!ot)l.fillText(ft,St,Gt);else if(this.paintChar(ft,St,Gt,R,L),ot){const B=St+a*ot.offset.x/c,X=Gt-a*ot.offset.y/c;this.paintChar(ot.fontChar,B,X,R,L)}}const zt=v?Et*T-tt*p:Et*T+tt*p;P+=zt,$&&l.restore()}v?e.y-=P:e.x+=P*g,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,a=s.font,l=s.fontSize,c=s.fontDirection,h=a.vertical?1:-1,f=s.charSpacing,p=s.wordSpacing,g=s.textHScale*c,b=s.fontMatrix||mv,v=t.length,A=s.textRenderingMode===di.INVISIBLE;let S,T,D,R;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(g,c),S=0;S<v;++S){if(T=t[S],typeof T=="number"){R=h*T*l/1e3,this.ctx.translate(R,0),s.x+=R*g;continue}const L=(T.isSpace?p:0)+f,N=a.charProcOperatorList[T.operatorListId];if(!N){Mt(`Type3 character "${T.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=T,this.save(),e.scale(l,l),e.transform(...b),this.executeOperatorList(N),this.restore()),D=dt.applyTransform([T.width,0],b)[0]*l+L,e.translate(D,0),s.x+=D*g}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,a,l,c){this.ctx.rect(s,a,l-s,c-a),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],a=this.baseTransform||he(this.ctx),l={createCanvasGraphics:c=>new xx(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Vv(t,s,this.ctx,l,a)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=dt.makeHexColor(t,e,s),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=dt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=Tj(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,gn(e),vi.SHADING);const a=gn(e);if(a){const{width:l,height:c}=e.canvas,[h,f,p,g]=dt.getAxialAlignedBoundingBox([0,0,l,c],a);this.ctx.fillRect(h,f,p-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ae("Should not call beginInlineImage")}beginImageData(){ae("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=he(this.ctx),e)){const s=e[2]-e[0],a=e[3]-e[1];this.ctx.rect(e[0],e[1],s,a),this.current.updateRectMinMax(he(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||ey("TODO: Support non-isolated groups."),t.knockout&&Mt("Knockout groups not supported.");const s=he(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=dt.getAxialAlignedBoundingBox(t.bbox,he(e));const l=[0,0,e.canvas.width,e.canvas.height];a=dt.intersect(a,l)||[0,0,0,0];const c=Math.floor(a[0]),h=Math.floor(a[1]),f=Math.max(Math.ceil(a[2])-c,1),p=Math.max(Math.ceil(a[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(g,f,p),v=b.context;v.translate(-c,-h),v.transform(...s),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),$h(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=he(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const l=dt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,s,a,l){if(_(this,cn,Hv).call(this),Pm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h;const[f,p]=dt.singularValueDecompose2dScale(he(this.ctx)),{viewportScale:g}=this,b=Math.ceil(c*this.outputScaleX*g),v=Math.ceil(h*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,h*p),Pm(this.ctx)}else Pm(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new i_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,cn,Uv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,a=this.processingType3;if(a&&(a.compiled===void 0&&(a.compiled=Rj(t)),a.compiled)){a.compiled(s);return}const l=this._createMaskCanvas(t),c=l.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,l.offsetX,l.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,a=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const f=he(h);h.transform(e,s,a,l,0,0);const p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let g=0,b=c.length;g<b;g+=2){const v=dt.transform(f,[e,s,a,l,c[g],c[g+1]]),[A,S]=dt.applyTransform([0,0],v);h.drawImage(p.canvas,A,S)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,a=this.current.patternFill;for(const l of t){const{data:c,width:h,height:f,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",h,f),b=g.context;b.save();const v=this.getObject(c,l);n_(b,v),b.globalCompositeOperation="source-in",b.fillStyle=a?s.getPattern(b,this,gn(e),vi.FILL):s,b.fillRect(0,0,h,f),b.restore(),e.save(),e.transform(...p),e.scale(1,-1),km(e,g.canvas,0,0,h,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Mt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,a){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Mt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,f=[];for(let p=0,g=a.length;p<g;p+=2)f.push({transform:[e,0,0,s,a[p],a[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:a}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,a),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,a=this.ctx;if(this.save(),!Ai){const{filter:h}=a;h!=="none"&&h!==""&&(a.filter="none")}a.scale(1/e,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,s).context;s_(f,t),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,gn(a));a.imageSmoothingEnabled=a_(he(a),t.interpolate),km(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;s_(f,t),a=this.applyTransferMapsToCanvas(f)}for(const l of e)s.save(),s.transform(...l.transform),s.scale(1,-1),km(s,a,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===r_?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=he(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:a,d:l}=this.ctx.getTransform();let c,h;if(s===0&&a===0){const f=Math.abs(e),p=Math.abs(l);if(f===p)if(t===0)c=h=1/f;else{const g=f*t;c=h=g<1?1/g:1}else if(t===0)c=1/f,h=1/p;else{const g=f*t,b=p*t;c=g<1?1/g:1,h=b<1?1/b:1}}else{const f=Math.abs(e*l-s*a),p=Math.hypot(e,s),g=Math.hypot(a,l);if(t===0)c=g/f,h=p/f;else{const b=t*f;c=g>b?g/b:1,h=p>b?p/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[a,l]=this.getScaleForStroking();if(e.lineWidth=s||1,a===1&&l===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(a,l),c.length>0){const h=Math.max(a,l);e.setLineDash(c.map(f=>f/h)),e.lineDashOffset/=h}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};cn=new WeakSet,Hv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Uv=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},Gv=function(t,e,s){const a=new Path2D;return a.addPath(t,new DOMMatrix(s).invertSelf().multiplySelf(e)),a};let kc=xx;for(const r in Ys)kc.prototype[r]!==void 0&&(kc.prototype[Ys[r]]=kc.prototype[r]);var lf,cf;class Na{static get workerPort(){return d(this,lf)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");x(this,lf,t)}static get workerSrc(){return d(this,cf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");x(this,cf,t)}}lf=new WeakMap,cf=new WeakMap,E(Na,lf,null),E(Na,cf,"");var Xo,uf;class Oj{constructor({parsedData:t,rawData:e}){E(this,Xo);E(this,uf);x(this,Xo,t),x(this,uf,e)}getRaw(){return d(this,uf)}get(t){return d(this,Xo).get(t)??null}getAll(){return cx(d(this,Xo))}has(t){return d(this,Xo).has(t)}}Xo=new WeakMap,uf=new WeakMap;const Sc=Symbol("INTERNAL");var hf,df,ff,Jc;class kj{constructor(t,{name:e,intent:s,usage:a,rbGroups:l}){E(this,hf,!1);E(this,df,!1);E(this,ff,!1);E(this,Jc,!0);x(this,hf,!!(t&fs.DISPLAY)),x(this,df,!!(t&fs.PRINT)),this.name=e,this.intent=s,this.usage=a,this.rbGroups=l}get visible(){if(d(this,ff))return d(this,Jc);if(!d(this,Jc))return!1;const{print:t,view:e}=this.usage;return d(this,hf)?(e==null?void 0:e.viewState)!=="OFF":d(this,df)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==Sc&&ae("Internal method `_setVisible` called."),x(this,ff,s),x(this,Jc,e)}}hf=new WeakMap,df=new WeakMap,ff=new WeakMap,Jc=new WeakMap;var wr,Zt,tu,eu,pf,qv;class Pj{constructor(t,e=fs.DISPLAY){E(this,pf);E(this,wr,null);E(this,Zt,new Map);E(this,tu,null);E(this,eu,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,x(this,eu,t.order);for(const s of t.groups)d(this,Zt).set(s.id,new kj(e,s));if(t.baseState==="OFF")for(const s of d(this,Zt).values())s._setVisible(Sc,!1);for(const s of t.on)d(this,Zt).get(s)._setVisible(Sc,!0);for(const s of t.off)d(this,Zt).get(s)._setVisible(Sc,!1);x(this,tu,this.getHash())}}isVisible(t){if(d(this,Zt).size===0)return!0;if(!t)return ey("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,Zt).has(t.id)?d(this,Zt).get(t.id).visible:(Mt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return _(this,pf,qv).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,Zt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(d(this,Zt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,Zt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(!d(this,Zt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,Zt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(!d(this,Zt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,Zt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(d(this,Zt).get(e).visible)return!1}return!0}return Mt(`Unknown optional content policy ${t.policy}.`),!0}return Mt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var l;const a=d(this,Zt).get(t);if(!a){Mt(`Optional content group not found: ${t}`);return}if(s&&e&&a.rbGroups.length)for(const c of a.rbGroups)for(const h of c)h!==t&&((l=d(this,Zt).get(h))==null||l._setVisible(Sc,!1,!0));a._setVisible(Sc,!!e,!0),x(this,wr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":s=a;continue}const l=d(this,Zt).get(a);if(l)switch(s){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!l.visible,e);break}}x(this,wr,null)}get hasInitialVisibility(){return d(this,tu)===null||this.getHash()===d(this,tu)}getOrder(){return d(this,Zt).size?d(this,eu)?d(this,eu).slice():[...d(this,Zt).keys()]:null}getGroups(){return d(this,Zt).size>0?cx(d(this,Zt)):null}getGroup(t){return d(this,Zt).get(t)||null}getHash(){if(d(this,wr)!==null)return d(this,wr);const t=new DM;for(const[e,s]of d(this,Zt))t.update(`${e}:${s.visible}`);return x(this,wr,t.hexdigest())}}wr=new WeakMap,Zt=new WeakMap,tu=new WeakMap,eu=new WeakMap,pf=new WeakSet,qv=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let a=1;a<e;a++){const l=t[a];let c;if(Array.isArray(l))c=_(this,pf,qv).call(this,l);else if(d(this,Zt).has(l))c=d(this,Zt).get(l).visible;else return Mt(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"};class jj{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Oe(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:l,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const a=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});Oe(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,a,l;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(l=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||l.call(a,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Oe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Ij(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new Bj(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class Ij{constructor(t,e,s=!1,a=null){this._stream=t,this._done=s||!1,this._filename=dx(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Bj{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Fj(r){let t=!0,e=s("filename\\*","i").exec(r);if(e){e=e[1];let g=h(e);return g=unescape(g),g=f(g),g=p(g),l(g)}if(e=c(r),e){const g=p(e);return l(g)}if(e=s("filename","i").exec(r),e){e=e[1];let g=h(e);return g=p(g),l(g)}function s(g,b){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function a(g,b){if(g){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(g,{fatal:!0}),A=iy(b);b=v.decode(A),t=!1}catch{}}return b}function l(g){return t&&/[\x80-\xff]/.test(g)&&(g=a("utf-8",g),t&&(g=a("iso-8859-1",g))),g}function c(g){const b=[];let v;const A=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=A.exec(g))!==null;){let[,T,D,R]=v;if(T=parseInt(T,10),T in b){if(T===0)break;continue}b[T]=[D,R]}const S=[];for(let T=0;T<b.length&&T in b;++T){let[D,R]=b[T];R=h(R),D&&(R=unescape(R),T===0&&(R=f(R))),S.push(R)}return S.join("")}function h(g){if(g.startsWith('"')){const b=g.slice(1).split('\\"');for(let v=0;v<b.length;++v){const A=b[v].indexOf('"');A!==-1&&(b[v]=b[v].slice(0,A),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}g=b.join('"')}return g}function f(g){const b=g.indexOf("'");if(b===-1)return g;const v=g.slice(0,b),S=g.slice(b+1).replace(/^[^']*'/,"");return a(v,S)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,D){return String.fromCharCode(parseInt(D,16))}),a(v,S);try{S=atob(S)}catch{}return a(v,S)})}return""}function GM(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const s in t){const a=t[s];a!==void 0&&e.append(s,a)}return e}function ay(r){try{return new URL(r).origin}catch{}return null}function qM({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:s}){const a={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(r.get("Content-Length"),10);return!Number.isInteger(l)||(a.suggestedLength=l,l<=2*e)||s||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function XM(r){const t=r.get("Content-Disposition");if(t){let e=Fj(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(dx(e))return e}return null}function ry(r,t){return r===404||r===0&&t.startsWith("file:")?new Rd('Missing PDF "'+t+'".'):new wg(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r)}function YM(r){return r===200||r===206}function KM(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function $M(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Mt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class o_{constructor(t){gt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=GM(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Oe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new zj(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new Vj(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class zj{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),a=e.url;fetch(a,KM(s,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=ay(l.url),!YM(l.status))throw ry(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:f}=qM({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=XM(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Gr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$M(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class Vj{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${s-1}`);const c=a.url;fetch(c,KM(l,this._withCredentials,this._abortController)).then(h=>{const f=ay(h.url);if(f!==t._responseOrigin)throw new Error(`Expected range response-origin "${f}" to match "${t._responseOrigin}".`);if(!YM(h.status))throw ry(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:$M(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Xb=200,Yb=206;function Hj(r){const t=r.response;return typeof t!="string"?t:iy(t).buffer}class Uj{constructor({url:t,httpHeaders:e,withCredentials:s}){gt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=GM(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,a=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=Yb):a.expectedStatus=Xb,e.responseType="arraybuffer",Oe(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var a;const s=this.pendingRequests[t];s&&((a=s.onProgress)==null||a.call(s,e))}onStateChange(t,e){const s=this.pendingRequests[t];if(!s)return;const a=s.xhr;if(a.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){s.onError(a.status);return}const l=a.status||Xb;if(!(l===Xb&&s.expectedStatus===Yb)&&l!==s.expectedStatus){s.onError(a.status);return}const h=Hj(a);if(l===Yb){const f=a.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);p?s.onDone({begin:parseInt(p[1],10),chunk:h}):(Mt('Missing or invalid "Content-Range" header.'),s.onError(0))}else h?s.onDone({begin:0,chunk:h}):s.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Gj{constructor(t){this._source=t,this._manager=new Uj(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Oe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new qj(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new Xj(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class qj{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=ay(e.responseURL);const s=e.getAllResponseHeaders(),a=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(h=>{const[f,...p]=h.split(": ");return[f,p.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=qM({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=XM(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=ry(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Xj{constructor(t,e,s){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=ay((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=ry(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Yj=/^[a-z][a-z0-9\-+.]+:/i;function Kj(r){if(Yj.test(r))return new URL(r);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}class $j{constructor(t){this.source=t,this.url=Kj(t.url),Oe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Oe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Wj(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new Qj(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class Wj{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=new Rd(`Missing PDF "${this._url}".`)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Gr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Qj{constructor(t,e,s){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:e,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Zj=1e5,Bi=30,Jj=.8;var f_,Tr,Hi,mf,gf,Yo,ma,yf,bf,Ko,iu,su,Er,nu,vf,au,$o,Af,xf,Wo,Qo,Sf,_r,ru,Ia,WM,QM,Xv,gs,Jm,Yv,ZM,JM;const Be=class Be{constructor({textContentSource:t,container:e,viewport:s}){E(this,Ia);E(this,Tr,Promise.withResolvers());E(this,Hi,null);E(this,mf,!1);E(this,gf,!!((f_=globalThis.FontInspector)!=null&&f_.enabled));E(this,Yo,null);E(this,ma,null);E(this,yf,0);E(this,bf,0);E(this,Ko,null);E(this,iu,null);E(this,su,0);E(this,Er,0);E(this,nu,Object.create(null));E(this,vf,[]);E(this,au,null);E(this,$o,[]);E(this,Af,new WeakMap);E(this,xf,null);var f;if(t instanceof ReadableStream)x(this,au,t);else if(typeof t=="object")x(this,au,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');x(this,Hi,x(this,iu,e)),x(this,Er,s.scale*(globalThis.devicePixelRatio||1)),x(this,su,s.rotation),x(this,ma,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:l,pageX:c,pageY:h}=s.rawDims;x(this,xf,[1,0,0,-1,-c,h+l]),x(this,bf,a),x(this,yf,l),_(f=Be,gs,ZM).call(f),Rl(e,s),d(this,Tr).promise.finally(()=>{d(Be,ru).delete(this),x(this,ma,null),x(this,nu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Di.platform;return Pt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,Ko).read().then(({value:e,done:s})=>{if(s){d(this,Tr).resolve();return}d(this,Yo)??x(this,Yo,e.lang),Object.assign(d(this,nu),e.styles),_(this,Ia,WM).call(this,e.items),t()},d(this,Tr).reject)};return x(this,Ko,d(this,au).getReader()),d(Be,ru).add(this),t(),d(this,Tr).promise}update({viewport:t,onBefore:e=null}){var l;const s=t.scale*(globalThis.devicePixelRatio||1),a=t.rotation;if(a!==d(this,su)&&(e==null||e(),x(this,su,a),Rl(d(this,iu),{rotation:a})),s!==d(this,Er)){e==null||e(),x(this,Er,s);const c={div:null,properties:null,ctx:_(l=Be,gs,Jm).call(l,d(this,Yo))};for(const h of d(this,$o))c.properties=d(this,Af).get(h),c.div=h,_(this,Ia,Xv).call(this,c)}}cancel(){var e;const t=new Gr("TextLayer task cancelled.");(e=d(this,Ko))==null||e.cancel(t).catch(()=>{}),x(this,Ko,null),d(this,Tr).reject(t)}get textDivs(){return d(this,$o)}get textContentItemsStr(){return d(this,vf)}static cleanup(){if(!(d(this,ru).size>0)){d(this,Wo).clear();for(const{canvas:t}of d(this,Qo).values())t.remove();d(this,Qo).clear()}}};Tr=new WeakMap,Hi=new WeakMap,mf=new WeakMap,gf=new WeakMap,Yo=new WeakMap,ma=new WeakMap,yf=new WeakMap,bf=new WeakMap,Ko=new WeakMap,iu=new WeakMap,su=new WeakMap,Er=new WeakMap,nu=new WeakMap,vf=new WeakMap,au=new WeakMap,$o=new WeakMap,Af=new WeakMap,xf=new WeakMap,Wo=new WeakMap,Qo=new WeakMap,Sf=new WeakMap,_r=new WeakMap,ru=new WeakMap,Ia=new WeakSet,WM=function(t){var a,l;if(d(this,mf))return;(l=d(this,ma)).ctx??(l.ctx=_(a=Be,gs,Jm).call(a,d(this,Yo)));const e=d(this,$o),s=d(this,vf);for(const c of t){if(e.length>Zj){Mt("Ignoring additional textDivs for performance reasons."),x(this,mf,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=d(this,Hi);x(this,Hi,document.createElement("span")),d(this,Hi).classList.add("markedContent"),c.id!==null&&d(this,Hi).setAttribute("id",`${c.id}`),h.append(d(this,Hi))}else c.type==="endMarkedContent"&&x(this,Hi,d(this,Hi).parentNode);continue}s.push(c.str),_(this,Ia,QM).call(this,c)}},QM=function(t){var T;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,$o).push(e);const a=dt.transform(d(this,xf),t.transform);let l=Math.atan2(a[1],a[0]);const c=d(this,nu)[t.fontName];c.vertical&&(l+=Math.PI/2);let h=d(this,gf)&&c.fontSubstitution||c.fontFamily;h=Be.fontFamilyMap.get(h)||h;const f=Math.hypot(a[2],a[3]),p=f*_(T=Be,gs,JM).call(T,h,d(this,Yo));let g,b;l===0?(g=a[4],b=a[5]-p):(g=a[4]+p*Math.sin(l),b=a[5]-p*Math.cos(l));const v="calc(var(--scale-factor)*",A=e.style;d(this,Hi)===d(this,iu)?(A.left=`${(100*g/d(this,bf)).toFixed(2)}%`,A.top=`${(100*b/d(this,yf)).toFixed(2)}%`):(A.left=`${v}${g.toFixed(2)}px)`,A.top=`${v}${b.toFixed(2)}px)`),A.fontSize=`${v}${(d(Be,_r)*f).toFixed(2)}px)`,A.fontFamily=h,s.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,gf)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const D=Math.abs(t.transform[0]),R=Math.abs(t.transform[3]);D!==R&&Math.max(D,R)/Math.min(D,R)>1.5&&(S=!0)}if(S&&(s.canvasWidth=c.vertical?t.height:t.width),d(this,Af).set(e,s),d(this,ma).div=e,d(this,ma).properties=s,_(this,Ia,Xv).call(this,d(this,ma)),s.hasText&&d(this,Hi).append(e),s.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),d(this,Hi).append(D)}},Xv=function(t){var h;const{div:e,properties:s,ctx:a}=t,{style:l}=e;let c="";if(d(Be,_r)>1&&(c=`scale(${1/d(Be,_r)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=l,{canvasWidth:p,fontSize:g}=s;_(h=Be,gs,Yv).call(h,a,g*d(this,Er),f);const{width:b}=a.measureText(e.textContent);b>0&&(c=`scaleX(${p*d(this,Er)/b}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(l.transform=c)},gs=new WeakSet,Jm=function(t=null){let e=d(this,Qo).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,Qo).set(t,e),d(this,Sf).set(e,{size:0,family:""})}return e},Yv=function(t,e,s){const a=d(this,Sf).get(t);e===a.size&&s===a.family||(t.font=`${e}px ${s}`,a.size=e,a.family=s)},ZM=function(){if(d(this,_r)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),x(this,_r,t.getBoundingClientRect().height),t.remove()},JM=function(t,e){const s=d(this,Wo).get(t);if(s)return s;const a=_(this,gs,Jm).call(this,e);a.canvas.width=a.canvas.height=Bi,_(this,gs,Yv).call(this,a,Bi,t);const l=a.measureText("");let c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(c){const g=c/(c+h);return d(this,Wo).set(t,g),a.canvas.width=a.canvas.height=0,g}a.strokeStyle="red",a.clearRect(0,0,Bi,Bi),a.strokeText("g",0,0);let f=a.getImageData(0,0,Bi,Bi).data;h=0;for(let g=f.length-1-3;g>=0;g-=4)if(f[g]>0){h=Math.ceil(g/4/Bi);break}a.clearRect(0,0,Bi,Bi),a.strokeText("A",0,Bi),f=a.getImageData(0,0,Bi,Bi).data,c=0;for(let g=0,b=f.length;g<b;g+=4)if(f[g]>0){c=Bi-Math.floor(g/4/Bi);break}a.canvas.width=a.canvas.height=0;const p=c?c/(c+h):Jj;return d(this,Wo).set(t,p),p},E(Be,gs),E(Be,Wo,new Map),E(Be,Qo,new Map),E(Be,Sf,new WeakMap),E(Be,_r,null),E(Be,ru,new Set);let Dd=Be;class Nd{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function a(l){var f;if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(Nd.shouldBuildText(h))(f=l==null?void 0:l.attributes)!=null&&f.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const p of l.children)a(p)}return a(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const tI=65536,eI=100,iI=5e3,sI=Ai?yj:pj,nI=Ai?bj:BM,aI=Ai?gj:mj,rI=Ai?vj:HM;function oI(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new Kv,{docId:e}=t,s=r.url?lI(r.url):null,a=r.data?cI(r.data):null,l=r.httpHeaders||null,c=r.withCredentials===!0,h=r.password??null,f=r.range instanceof tR?r.range:null,p=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:tI;let g=r.worker instanceof Pc?r.worker:null;const b=r.verbosity,v=typeof r.docBaseUrl=="string"&&!ny(r.docBaseUrl)?r.docBaseUrl:null,A=typeof r.cMapUrl=="string"?r.cMapUrl:null,S=r.cMapPacked!==!1,T=r.CMapReaderFactory||nI,D=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,R=r.StandardFontDataFactory||rI,L=r.stopAtErrors!==!0,N=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,j=r.isEvalSupported!==!1,P=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Ai,U=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Ai&&(Di.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,$=typeof r.disableFontFace=="boolean"?r.disableFontFace:Ai,tt=r.fontExtraProperties===!0,ft=r.enableXfa===!0,ot=r.ownerDocument||globalThis.document,St=r.disableRange===!0,Gt=r.disableStream===!0,Et=r.disableAutoFetch===!0,zt=r.pdfBug===!0,B=r.CanvasFactory||sI,X=r.FilterFactory||aI,st=r.enableHWA===!0,wt=f?f.length:r.length??NaN,k=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Ai&&!$,W=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:T===BM&&R===HM&&A&&D&&Jh(A,document.baseURI)&&Jh(D,document.baseURI),J=null;X3(b);const Z={canvasFactory:new B({ownerDocument:ot,enableHWA:st}),filterFactory:new X({docId:e,ownerDocument:ot}),cMapReaderFactory:W?null:new T({baseUrl:A,isCompressed:S}),standardFontDataFactory:W?null:new R({baseUrl:D})};if(!g){const ct={verbosity:b,port:Na.workerPort};g=ct.port?Pc.fromPort(ct):new Pc(ct),t._worker=g}const ht={docId:e,apiVersion:"4.10.38",data:a,password:h,disableAutoFetch:Et,rangeChunkSize:p,length:wt,docBaseUrl:v,enableXfa:ft,evaluatorOptions:{maxImageSize:N,disableFontFace:$,ignoreErrors:L,isEvalSupported:j,isOffscreenCanvasSupported:P,isImageDecoderSupported:U,canvasMaxAreaInBytes:q,fontExtraProperties:tt,useSystemFonts:k,cMapUrl:W?A:null,standardFontDataUrl:W?D:null}},Nt={disableFontFace:$,fontExtraProperties:tt,ownerDocument:ot,pdfBug:zt,styleElement:J,loadingParams:{disableAutoFetch:Et,enableXfa:ft}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ct=g.messageHandler.sendWithPromise("GetDocRequest",ht,a?[a.buffer]:null);let Lt;if(f)Lt=new jj(f,{disableRange:St,disableStream:Gt});else if(!a){if(!s)throw new Error("getDocument - no `url` parameter provided.");let qt;if(Ai)if(Jh(s)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");qt=o_}else qt=$j;else qt=Jh(s)?o_:Gj;Lt=new qt({url:s,length:wt,httpHeaders:l,withCredentials:c,rangeChunkSize:p,disableRange:St,disableStream:Gt})}return ct.then(qt=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Vs=new sd(e,qt,g.port),Yu=new fI(Vs,t,Lt,Nt,Z);t._transport=Yu,Vs.send("Ready",null)})}).catch(t._capability.reject),t}function lI(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(Ai&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function cI(r){if(Ai&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return iy(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function l_(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var Fg;const zg=class zg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${wi(zg,Fg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s,a;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(l){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,l}this._transport=null,(a=this._worker)==null||a.destroy(),this._worker=null}};Fg=new WeakMap,E(zg,Fg,0);let Kv=zg;class tR{constructor(t,e,s=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ae("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class uI{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Cr,ga,Is,wc,tg;class hI{constructor(t,e,s,a=!1){E(this,Is);E(this,Cr,null);E(this,ga,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=a?new KE:null,this._pdfBug=a,this.commonObjs=s.commonObjs,this.objs=new eR,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:a=0,dontFlip:l=!1}={}){return new up({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:a=ur.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:b=!1}){var j,P;(j=this._stats)==null||j.time("Overall");const v=this._transport.getRenderingIntent(s,a,g,b),{renderingIntent:A,cacheKey:S}=v;x(this,ga,!1),_(this,Is,tg).call(this),h||(h=this._transport.getOptionalContentConfig(A));let T=this._intentStates.get(S);T||(T=Object.create(null),this._intentStates.set(S,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const D=!!(A&fs.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(v));const R=U=>{var q;T.renderTasks.delete(L),(this._maybeCleanupAfterRender||D)&&x(this,ga,!0),_(this,Is,wc).call(this,!D),U?(L.capability.reject(U),this._abortOperatorList({intentState:T,reason:U instanceof Error?U:new Error(U)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(q=globalThis.Stats)!=null&&q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new Wv({callback:R,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:p});(T.renderTasks||(T.renderTasks=new Set)).add(L);const N=L.task;return Promise.all([T.displayReadyCapability.promise,h]).then(([U,q])=>{var $;if(this.destroyed){R();return}if(($=this._stats)==null||$.time("Rendering"),!(q.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:U,optionalContentConfig:q}),L.operatorListChanged()}).catch(R),N}getOperatorList({intent:t="display",annotationMode:e=ur.ENABLE,printAnnotationStorage:s=null,isEditing:a=!1}={}){var p;function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,e,s,a,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Nd.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,a){function l(){c.read().then(function({value:f,done:p}){if(p){s(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),l()},a)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),x(this,ga,!1),_(this,Is,tg).call(this),Promise.all(t)}cleanup(t=!1){x(this,ga,!0);const e=_(this,Is,wc).call(this,!1);return t&&e&&this._stats&&(this._stats=new KE),e}_startRenderPage(t,e){var a,l;const s=this._intentStates.get(e);s&&((a=this._stats)==null||a.timeEnd("Page Request"),(l=s.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let s=0,a=t.length;s<a;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&_(this,Is,wc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:a}){const{map:l,transfer:c}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:a},c).getReader(),p=this._intentStates.get(e);p.streamReader=f;const g=()=>{f.read().then(({value:b,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,p),g())},b=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();_(this,Is,wc).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(b);else if(p.opListReadCapability)p.opListReadCapability.reject(b);else throw b}})};g()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof hx){let a=eI;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new Gr(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,l]of this._intentStates)if(l===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}Cr=new WeakMap,ga=new WeakMap,Is=new WeakSet,wc=function(t=!1){if(_(this,Is,tg).call(this),!d(this,ga)||this.destroyed)return!1;if(t)return x(this,Cr,setTimeout(()=>{x(this,Cr,null),_(this,Is,wc).call(this,!1)},iI)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(this,ga,!1),!0},tg=function(){d(this,Cr)&&(clearTimeout(d(this,Cr)),x(this,Cr,null))};var ya,Vg;class dI{constructor(){E(this,ya,new Map);E(this,Vg,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};d(this,Vg).then(()=>{for(const[a]of d(this,ya))a.call(this,s)})}addEventListener(t,e,s=null){let a=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:l}=s;if(l.aborted){Mt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);a=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}d(this,ya).set(e,a)}removeEventListener(t,e){const s=d(this,ya).get(e);s==null||s(),d(this,ya).delete(e)}terminate(){for(const[,t]of d(this,ya))t==null||t();d(this,ya).clear()}}ya=new WeakMap,Vg=new WeakMap;var Hg,Zo,Jo,ou,eg,lu,ig;const ue=class ue{constructor({name:t=null,port:e=null,verbosity:s=Y3()}={}){E(this,ou);var a;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((a=d(ue,Jo))!=null&&a.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(ue,Jo)||x(ue,Jo,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new sd("main","worker",t),this._messageHandler.on("ready",function(){}),_(this,ou,eg).call(this)}_initialize(){if(d(ue,Zo)||d(ue,lu,ig)){this._setupFakeWorker();return}let{workerSrc:t}=ue;try{ue._isSameOrigin(window.location.href,t)||(t=ue._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new sd("main","worker",e),a=()=>{l.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||a()},{signal:l.signal}),s.on("test",h=>{if(l.abort(),this.destroyed||!h){a();return}this._messageHandler=s,this._port=e,this._webWorker=e,_(this,ou,eg).call(this)}),s.on("ready",h=>{if(l.abort(),this.destroyed){a();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;s.send("test",h,[h.buffer])};c();return}catch{ey("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(ue,Zo)||(Mt("Setting up fake worker."),x(ue,Zo,!0)),ue._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new dI;this._port=e;const s=`fake${wi(ue,Hg)._++}`,a=new sd(s+"_worker",s,e);t.setup(a,e),this._messageHandler=new sd(s,s+"_worker",e),_(this,ou,eg).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t,e,s;this.destroyed=!0,(t=this._webWorker)==null||t.terminate(),this._webWorker=null,(e=d(ue,Jo))==null||e.delete(this._port),this._port=null,(s=this._messageHandler)==null||s.destroy(),this._messageHandler=null}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=d(this,Jo))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ue(t)}static get workerSrc(){if(Na.workerSrc)return Na.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pt(this,"_setupFakeWorkerGlobal",(async()=>d(this,lu,ig)?d(this,lu,ig):(await import(this.workerSrc)).WorkerMessageHandler)())}};Hg=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,ou=new WeakSet,eg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},lu=new WeakSet,ig=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},E(ue,lu),E(ue,Hg,0),E(ue,Zo,!1),E(ue,Jo),Ai&&(x(ue,Zo,!0),Na.workerSrc||(Na.workerSrc="./pdf.worker.mjs")),ue._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const a=new URL(e,s);return s.origin===a.origin},ue._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Pc=ue;var ba,Mn,cu,uu,va,tl,ld;class fI{constructor(t,e,s,a,l){E(this,tl);E(this,ba,new Map);E(this,Mn,new Map);E(this,cu,new Map);E(this,uu,new Map);E(this,va,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new eR,this.fontLoader=new dj({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Pt(this,"annotationStorage",new mx)}getRenderingIntent(t,e=ur.ENABLE,s=null,a=!1,l=!1){let c=fs.DISPLAY,h=Iv;switch(t){case"any":c=fs.ANY;break;case"display":break;case"print":c=fs.PRINT;break;default:Mt(`getRenderingIntent - invalid intent: ${t}`)}const f=c&fs.PRINT&&s instanceof LM?s:this.annotationStorage;switch(e){case ur.DISABLE:c+=fs.ANNOTATIONS_DISABLE;break;case ur.ENABLE:break;case ur.ENABLE_FORMS:c+=fs.ANNOTATIONS_FORMS;break;case ur.ENABLE_STORAGE:c+=fs.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Mt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(c+=fs.IS_EDITING),l&&(c+=fs.OPLIST);const{ids:p,hash:g}=f.modifiedIds,b=[c,h.hash,g];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=d(this,va))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of d(this,Mn).values())t.push(a._destroy());d(this,Mn).clear(),d(this,cu).clear(),d(this,uu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var a,l;this.commonObjs.clear(),this.fontLoader.clear(),d(this,ba).clear(),this.filterFactory.destroy(),Dd.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new Gr("Worker was terminated.")),(l=this.messageHandler)==null||l.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,a)=>{Oe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},a.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){a.close();return}Oe(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{this._fullReader.cancel(l),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:l,contentLength:c}=this._fullReader;return(!a||!l)&&(this._lastProgress&&((h=e.onProgress)==null||h.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:a,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(s,a)=>{Oe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){a.close();return}a.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){a.close();return}Oe(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{a.error(c)})},a.onCancel=c=>{l.cancel(c),a.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new uI(s,this))}),t.on("DocException",s=>{e._capability.reject(Fi(s))}),t.on("PasswordRequest",s=>{x(this,va,Promise.withResolvers());try{if(!e.onPassword)throw Fi(s);const a=l=>{l instanceof Error?d(this,va).reject(l):d(this,va).resolve({password:l})};e.onPassword(a,s.code)}catch(a){d(this,va).reject(a)}return d(this,va).promise}),t.on("DataLoaded",s=>{var a;(a=e.onProgress)==null||a.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;d(this,Mn).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,a,l])=>{var c;if(this.destroyed||this.commonObjs.has(s))return null;switch(a){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in l){const A=l.error;Mt(`Error during font loading: ${A}`),this.commonObjs.resolve(s,A);break}const g=p&&((c=globalThis.FontInspector)!=null&&c.enabled)?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,b=new fj(l,{disableFontFace:h,fontExtraProperties:f,inspectFont:g});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&b.data&&(b.data=null),this.commonObjs.resolve(s,b)});break;case"CopyLocalImage":const{imageRef:v}=l;Oe(v,"The imageRef must be defined.");for(const A of d(this,Mn).values())for(const[,S]of A.objs)if((S==null?void 0:S.ref)===v)return S.dataLen?(this.commonObjs.resolve(s,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([s,a,l,c])=>{var f;if(this.destroyed)return;const h=d(this,Mn).get(a);if(!h.objs.has(s)){if(h._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(l){case"Image":h.objs.resolve(s,c),(c==null?void 0:c.dataLen)>H3&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{var a;this.destroyed||(a=e.onProgress)==null||a.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Mt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=d(this,cu).get(e);if(s)return s;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&d(this,uu).set(l.refStr,t);const c=new hI(e,l,this,this._params.pdfBug);return d(this,Mn).set(e,c),c});return d(this,cu).set(e,a),a}getPageIndex(t){return l_(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return _(this,tl,ld).call(this,"GetFieldObjects")}hasJSActions(){return _(this,tl,ld).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,tl,ld).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return _(this,tl,ld).call(this,"GetOptionalContentConfig").then(e=>new Pj(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,ba).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(a=>{var l,c;return{info:a[0],metadata:a[1]?new Oj(a[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return d(this,ba).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,Mn).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,ba).clear(),this.filterFactory.destroy(!0),Dd.cleanup()}}cachedPageNumber(t){if(!l_(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,uu).get(e)??null}}ba=new WeakMap,Mn=new WeakMap,cu=new WeakMap,uu=new WeakMap,va=new WeakMap,tl=new WeakSet,ld=function(t,e=null){const s=d(this,ba).get(t);if(s)return s;const a=this.messageHandler.sendWithPromise(t,e);return d(this,ba).set(t,a),a};const Wh=Symbol("INITIAL_DATA");var ns,wf,$v;class eR{constructor(){E(this,wf);E(this,ns,Object.create(null))}get(t,e=null){if(e){const a=_(this,wf,$v).call(this,t);return a.promise.then(()=>e(a.data)),null}const s=d(this,ns)[t];if(!s||s.data===Wh)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=d(this,ns)[t];return!!e&&e.data!==Wh}delete(t){const e=d(this,ns)[t];return!e||e.data===Wh?!1:(delete d(this,ns)[t],!0)}resolve(t,e=null){const s=_(this,wf,$v).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in d(this,ns)){const{data:s}=d(this,ns)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}x(this,ns,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,ns)){const{data:e}=d(this,ns)[t];e!==Wh&&(yield[t,e])}}}ns=new WeakMap,wf=new WeakSet,$v=function(t){var e;return(e=d(this,ns))[t]||(e[t]={...Promise.withResolvers(),data:Wh})};var Mr;class pI{constructor(t){E(this,Mr,null);x(this,Mr,t),this.onContinue=null}get promise(){return d(this,Mr).capability.promise}cancel(t=0){d(this,Mr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,Mr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,Mr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Mr=new WeakMap;var Rr,el;const Ao=class Ao{constructor({callback:t,params:e,objs:s,commonObjs:a,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:b=!1,pageColors:v=null}){E(this,Rr,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=a,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new pI(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var h,f;if(this.cancelled)return;if(this._canvas){if(d(Ao,el).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(Ao,el).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:l,background:c}=this.params;this.gfx=new kc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:a,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),d(this,Rr)&&(window.cancelAnimationFrame(d(this,Rr)),x(this,Rr,null)),d(Ao,el).delete(this._canvas),this.callback(t||new hx(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(this,Rr,window.requestAnimationFrame(()=>{x(this,Rr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(Ao,el).delete(this._canvas),this.callback())))}};Rr=new WeakMap,el=new WeakMap,E(Ao,el,new WeakSet);let Wv=Ao;const mI="4.10.38",gI="f9bea397f";function c_(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Qh(r){return Math.max(0,Math.min(255,255*r))}class u_{static CMYK_G([t,e,s,a]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Qh(t),[t,t,t]}static G_HTML([t]){const e=c_(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(Qh)}static RGB_HTML(t){return`#${t.map(c_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,s+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,s,a]){return[Qh(1-Math.min(1,t+a)),Qh(1-Math.min(1,s+a)),Qh(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const a=1-t,l=1-e,c=1-s,h=Math.min(a,l,c);return["CMYK",a,l,c,h]}}class yI{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),s||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ae("Abstract method `_createSVG` called.")}}class yx extends yI{_createSVG(t){return document.createElementNS(ea,t)}}class iR{static setupStorage(t,e,s,a,l){const c=a.getValue(e,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{a.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of s.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;a.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:a,linkService:l}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${a}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}h&&l.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,e,s)}static render(t){var b,v;const e=t.annotationStorage,s=t.linkService,a=t.xfaHtml,l=t.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:l,linkService:s});const h=l!=="richText",f=t.div;if(f.append(c),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const A=document.createTextNode(a.value);c.append(A),h&&Nd.shouldBuildText(a.name)&&p.push(A)}return{textDivs:p}}const g=[[a,-1,c]];for(;g.length>0;){const[A,S,T]=g.at(-1);if(S+1===A.children.length){g.pop();continue}const D=A.children[++g.at(-1)[1]];if(D===null)continue;const{name:R}=D;if(R==="#text"){const N=document.createTextNode(D.value);p.push(N),T.append(N);continue}const L=(b=D==null?void 0:D.attributes)!=null&&b.xmlns?document.createElementNS(D.attributes.xmlns,R):document.createElement(R);if(T.append(L),D.attributes&&this.setAttributes({html:L,element:D,storage:e,intent:l,linkService:s}),((v=D.children)==null?void 0:v.length)>0)g.push([D,-1,L]);else if(D.value){const N=document.createTextNode(D.value);h&&Nd.shouldBuildText(R)&&p.push(N),L.append(N)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const dp=1e3,bI=9,Nl=new WeakSet;function Vr(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class vI{static create(t){switch(t.data.annotationType){case Ie.LINK:return new sR(t);case Ie.TEXT:return new AI(t);case Ie.WIDGET:switch(t.data.fieldType){case"Tx":return new xI(t);case"Btn":return t.data.radioButton?new rR(t):t.data.checkBox?new wI(t):new TI(t);case"Ch":return new EI(t);case"Sig":return new SI(t)}return new Ol(t);case Ie.POPUP:return new Zv(t);case Ie.FREETEXT:return new hR(t);case Ie.LINE:return new CI(t);case Ie.SQUARE:return new MI(t);case Ie.CIRCLE:return new RI(t);case Ie.POLYLINE:return new dR(t);case Ie.CARET:return new NI(t);case Ie.INK:return new bx(t);case Ie.POLYGON:return new DI(t);case Ie.HIGHLIGHT:return new fR(t);case Ie.UNDERLINE:return new LI(t);case Ie.SQUIGGLY:return new OI(t);case Ie.STRIKEOUT:return new kI(t);case Ie.STAMP:return new pR(t);case Ie.FILEATTACHMENT:return new PI(t);default:return new Me(t)}}}var il,hu,du,Tf,Qv;const Sx=class Sx{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:a=!1}={}){E(this,Tf);E(this,il,null);E(this,hu,!1);E(this,du,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Sx._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;d(this,il)||x(this,il,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&_(this,Tf,Qv).call(this,e),(s=d(this,du))==null||s.popup.updateEdited(t)}resetEdited(){var t;d(this,il)&&(_(this,Tf,Qv).call(this,d(this,il).rect),(t=d(this,du))==null||t.popup.resetEdited(),x(this,il,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:a}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof Ol||(l.tabIndex=dp);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof Zv){const{rotation:T}=e;return!e.hasOwnCanvas&&T!==0&&this.setRotation(T,l),l}const{width:h,height:f}=Vr(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const T=e.borderStyle.horizontalCornerRadius,D=e.borderStyle.verticalCornerRadius;if(T>0||D>0){const L=`calc(${T}px * var(--scale-factor)) / calc(${D}px * var(--scale-factor))`;c.borderRadius=L}else if(this instanceof rR){const L=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=L}switch(e.borderStyle.style){case Kh.SOLID:c.borderStyle="solid";break;case Kh.DASHED:c.borderStyle="dashed";break;case Kh.BEVELED:Mt("Unimplemented border style: beveled");break;case Kh.INSET:Mt("Unimplemented border style: inset");break;case Kh.UNDERLINE:c.borderBottomStyle="solid";break}const R=e.borderColor||null;R?(x(this,hu,!0),c.borderColor=dt.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):c.borderWidth=0}const p=dt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:g,pageHeight:b,pageX:v,pageY:A}=a.rawDims;c.left=`${100*(p[0]-v)/g}%`,c.top=`${100*(p[1]-A)/b}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(c.width=`${100*h/g}%`,c.height=`${100*f/b}%`):this.setRotation(S,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:a}=this.parent.viewport.rawDims,{width:l,height:c}=Vr(this.data.rect);let h,f;t%180===0?(h=100*l/s,f=100*c/a):(h=100*c/s,f=100*l/a),e.style.width=`${h}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,a)=>{const l=a.detail[e],c=l[0],h=l.slice(1);a.target.style[s]=u_[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[s]:u_[`${c}_rgb`](h)})};return Pt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,a=s%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const a of Object.keys(e.detail)){const l=t[a]||s[a];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[a,l]of Object.entries(e)){const c=s[a];if(c){const h={detail:{[a]:l},target:t};c(h),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,a,l]=this.data.rect.map(T=>Math.fround(T));if(t.length===8){const[T,D,R,L]=t.subarray(2,6);if(a===T&&l===D&&e===R&&s===L)return}const{style:c}=this.container;let h;if(d(this,hu)){const{borderColor:T,borderWidth:D}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${T}" stroke-width="${D}">`],this.container.classList.add("hasBorder")}const f=a-e,p=l-s,{svgFactory:g}=this,b=g.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=g.createElement("defs");b.append(v);const A=g.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),v.append(A);for(let T=2,D=t.length;T<D;T+=8){const R=t[T],L=t[T+1],N=t[T+2],j=t[T+3],P=g.createElement("rect"),U=(N-e)/f,q=(l-L)/p,$=(R-N)/f,tt=(L-j)/p;P.setAttribute("x",U),P.setAttribute("y",q),P.setAttribute("width",$),P.setAttribute("height",tt),A.append(P),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${q}" width="${$}" height="${tt}"/>`)}d(this,hu)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(b),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=x(this,du,new Zv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ae("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:l,id:c,exportValues:h}of a){if(l===-1||c===e)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!Nl.has(p)){Mt(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:f,domElement:p})}return s}for(const a of document.getElementsByName(t)){const{exportValue:l}=a,c=a.getAttribute("data-element-id");c!==e&&Nl.has(a)&&s.push({id:c,exportValue:l,domElement:a})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};il=new WeakMap,hu=new WeakMap,du=new WeakMap,Tf=new WeakSet,Qv=function(t){const{container:{style:e},data:{rect:s,rotation:a},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:f}}}}=this;s==null||s.splice(0,4,...t);const{width:p,height:g}=Vr(t);e.left=`${100*(t[0]-h)/l}%`,e.top=`${100*(c-t[3]+f)/c}%`,a===0?(e.width=`${100*p/l}%`,e.height=`${100*g/c}%`):this.setRotation(a)};let Me=Sx;var ps,go,nR,aR;class sR extends Me{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});E(this,ps);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,a=document.createElement("a");a.setAttribute("data-element-id",e.id);let l=!1;return e.url?(s.addLinkAttributes(a,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(a,e.action),l=!0):e.attachment?(_(this,ps,nR).call(this,a,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(_(this,ps,aR).call(this,a,e.setOCGState),l=!0):e.dest?(this._bindLink(a,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,e),l=!0),e.resetForm?(this._bindResetFormAction(a,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(a,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(a),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&_(this,ps,go).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),_(this,ps,go).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(s.actions)){const c=a.get(l);c&&(e[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),_(this,ps,go).call(this)}_bindResetFormAction(e,s){const a=e.onclick;if(a||(e.href=this.linkService.getAnchorUrl("")),_(this,ps,go).call(this),!this._fieldObjects){Mt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(e.onclick=()=>!1);return}e.onclick=()=>{var b;a==null||a();const{fields:l,refs:c,include:h}=s,f=[];if(l.length!==0||c.length!==0){const v=new Set(c);for(const A of l){const S=this._fieldObjects[A]||[];for(const{id:T}of S)v.add(T)}for(const A of Object.values(this._fieldObjects))for(const S of A)v.has(S.id)===h&&f.push(S)}else for(const v of Object.values(this._fieldObjects))f.push(...v);const p=this.annotationStorage,g=[];for(const v of f){const{id:A}=v;switch(g.push(A),v.type){case"text":{const T=v.defaultValue||"";p.setValue(A,{value:T});break}case"checkbox":case"radiobutton":{const T=v.defaultValue===v.exportValues;p.setValue(A,{value:T});break}case"combobox":case"listbox":{const T=v.defaultValue||"";p.setValue(A,{value:T});break}default:continue}const S=document.querySelector(`[data-element-id="${A}"]`);if(S){if(!Nl.has(S)){Mt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}ps=new WeakSet,go=function(){this.container.setAttribute("data-internal-link","")},nR=function(e,s,a=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(s.content,s.filename,a),!1},_(this,ps,go).call(this)},aR=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),_(this,ps,go).call(this)};class AI extends Me{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ol extends Me{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Di.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,a,l){s.includes("mouse")?t.addEventListener(s,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{var h;if(s==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}l&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c)}}))})}_setEventListeners(t,e,s,a){var l,c,h;for(const[f,p]of s)(p==="Action"||(l=this.data.actions)!=null&&l[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,p,a),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":dt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||bI,l=t.style;let c;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(Vb*a))||1,b=p/g;c=Math.min(a,f(b/Vb))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(a,f(p/Vb))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=dt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class xI extends Ol{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,a){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=s),l.setValue(c.id,{[a]:s})}render(){var a,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let h=c.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let p=c.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=p??h,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",p??h),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Nl.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=dp,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(s,"value",v.target.value,"value"),g.formattedValue=null}),s.addEventListener("resetform",v=>{const A=this.data.defaultFieldValue??"";s.value=g.userValue=A,g.formattedValue=null});let b=v=>{const{formattedValue:A}=g;A!=null&&(v.target.value=A),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",A=>{var T;if(g.focused)return;const{target:S}=A;g.userValue&&(S.value=g.userValue),g.lastCommittedValue=S.value,g.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(g.focused=!0)}),s.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(T){g.userValue=T.detail.value??"",t.setValue(e,{value:g.userValue.toString()}),T.target.value=g.userValue},formattedValue(T){const{formattedValue:D}=T.detail;g.formattedValue=D,D!=null&&T.target!==document.activeElement&&(T.target.value=D),t.setValue(e,{formattedValue:D})},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var N;const{charLimit:D}=T.detail,{target:R}=T;if(D===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",D);let L=g.userValue;!L||L.length<=D||(L=L.slice(0,D),R.value=g.userValue=L,t.setValue(e,{value:L}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),s.addEventListener("keydown",A=>{var D;g.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(g.commitKey=3),S===-1)return;const{value:T}=A.target;g.lastCommittedValue!==T&&(g.lastCommittedValue=T,g.userValue=T,(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const v=b;b=null,s.addEventListener("blur",A=>{var T,D;if(!g.focused||!A.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(g.focused=!1);const{value:S}=A.target;g.userValue=S,g.lastCommittedValue!==S&&((D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:g.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),v(A)}),(l=this.data.actions)!=null&&l.Keystroke&&s.addEventListener("beforeinput",A=>{var P;g.lastCommittedValue=null;const{data:S,target:T}=A,{value:D,selectionStart:R,selectionEnd:L}=T;let N=R,j=L;switch(A.inputType){case"deleteWordBackward":{const U=D.substring(0,R).match(/\w*[^\w]*$/);U&&(N-=U[0].length);break}case"deleteWordForward":{const U=D.substring(R).match(/^[^\w]*\w*/);U&&(j+=U[0].length);break}case"deleteContentBackward":R===L&&(N-=1);break;case"deleteContentForward":R===L&&(j+=1);break}A.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,change:S||"",willCommit:!1,selStart:N,selEnd:j}})}),this._setEventListeners(s,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(b&&s.addEventListener("blur",b),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class SI extends Ol{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class wI extends Ol{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(s,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Nl.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=dp,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,s)){const g=f&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(s,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class rR extends Ol{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(s,{value:a})),a)for(const c of this._getElementsByName(e.fieldName,s))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(Nl.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.tabIndex=dp,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const g=c===p.detail.value;for(const b of this._getElementsByName(p.target.name)){const v=g&&b.id===s;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class TI extends sR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class EI extends Ol{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");Nl.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=dp;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",g=>{const b=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===b});for(const g of this.data.options){const b=document.createElement("option");b.textContent=g.displayValue,b.value=g.exportValue,s.value.includes(g.exportValue)&&(b.setAttribute("selected",!0),l=!1),a.append(b)}let c=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),a.prepend(g),c=()=>{g.remove(),a.removeEventListener("input",c),c=null},a.addEventListener("input",c)}const h=g=>{const b=g?"value":"textContent",{options:v,multiple:A}=a;return A?Array.prototype.filter.call(v,S=>S.selected).map(S=>S[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let f=h(!1);const p=g=>{const b=g.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",g=>{const b={value(v){c==null||c();const A=v.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const T of a.options)T.selected=S.has(T.value);t.setValue(e,{value:h(!0)}),f=h(!1)},multipleSelection(v){a.multiple=!0},remove(v){const A=a.options,S=v.detail.remove;A[S].selected=!1,a.remove(S),A.length>0&&Array.prototype.findIndex.call(A,D=>D.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:h(!0),items:p(v)}),f=h(!1)},clear(v){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),f=h(!1)},insert(v){const{index:A,displayValue:S,exportValue:T}=v.detail.insert,D=a.children[A],R=document.createElement("option");R.textContent=S,R.value=T,D?D.before(R):a.append(R),t.setValue(e,{value:h(!0),items:p(v)}),f=h(!1)},items(v){const{items:A}=v.detail;for(;a.length!==0;)a.remove(0);for(const S of A){const{displayValue:T,exportValue:D}=S,R=document.createElement("option");R.textContent=T,R.value=D,a.append(R)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:h(!0),items:p(v)}),f=h(!1)},indices(v){const A=new Set(v.detail.indices);for(const S of v.target.options)S.selected=A.has(S.index);t.setValue(e,{value:h(!0)}),f=h(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,g)}),a.addEventListener("input",g=>{var A;const b=h(!0),v=h(!1);t.setValue(e,{value:b}),g.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):a.addEventListener("input",function(g){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Zv extends Me{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:Me._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new _I({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${ux}${s}`).join(",")),this.container}}var fu,Ug,Gg,pu,sl,xe,Aa,mu,Ef,_f,gu,xa,Zs,Sa,Cf,wa,Mf,nl,al,se,sg,Jv,oR,lR,cR,uR,ng,ag,tA;class _I{constructor({container:t,color:e,elements:s,titleObj:a,modificationDate:l,contentsObj:c,richText:h,parent:f,rect:p,parentRect:g,open:b}){E(this,se);E(this,fu,_(this,se,cR).bind(this));E(this,Ug,_(this,se,tA).bind(this));E(this,Gg,_(this,se,ag).bind(this));E(this,pu,_(this,se,ng).bind(this));E(this,sl,null);E(this,xe,null);E(this,Aa,null);E(this,mu,null);E(this,Ef,null);E(this,_f,null);E(this,gu,null);E(this,xa,!1);E(this,Zs,null);E(this,Sa,null);E(this,Cf,null);E(this,wa,null);E(this,Mf,null);E(this,nl,null);E(this,al,!1);var v;x(this,xe,t),x(this,Mf,a),x(this,Aa,c),x(this,wa,h),x(this,_f,f),x(this,sl,e),x(this,Cf,p),x(this,gu,g),x(this,Ef,s),x(this,mu,fx.toDateObject(l)),this.trigger=s.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",d(this,pu)),A.addEventListener("mouseenter",d(this,Gg)),A.addEventListener("mouseleave",d(this,Ug)),A.classList.add("popupTriggerArea");for(const A of s)(v=A.container)==null||v.addEventListener("keydown",d(this,fu));d(this,xe).hidden=!0,b&&_(this,se,ng).call(this)}render(){if(d(this,Zs))return;const t=x(this,Zs,document.createElement("div"));if(t.className="popup",d(this,sl)){const l=t.style.outlineColor=dt.makeHexColor(...d(this,sl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=dt.makeHexColor(...d(this,sl).map(h=>Math.floor(.7*(255-h)+h)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=d(this,Mf),t.append(e),d(this,mu)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,mu).valueOf()})),e.append(l)}const a=d(this,se,sg);if(a)iR.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(d(this,Aa));t.append(l)}d(this,xe).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let l=0,c=a.length;l<c;++l){const h=a[l];s.append(document.createTextNode(h)),l<c-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;d(this,nl)||x(this,nl,{contentsObj:d(this,Aa),richText:d(this,wa)}),t&&x(this,Sa,null),e&&(x(this,wa,_(this,se,lR).call(this,e)),x(this,Aa,null)),(s=d(this,Zs))==null||s.remove(),x(this,Zs,null)}resetEdited(){var t;d(this,nl)&&({contentsObj:wi(this,Aa)._,richText:wi(this,wa)._}=d(this,nl),x(this,nl,null),(t=d(this,Zs))==null||t.remove(),x(this,Zs,null),x(this,Sa,null))}forceHide(){x(this,al,this.isVisible),d(this,al)&&(d(this,xe).hidden=!0)}maybeShow(){d(this,al)&&(d(this,Zs)||_(this,se,ag).call(this),x(this,al,!1),d(this,xe).hidden=!1)}get isVisible(){return d(this,xe).hidden===!1}}fu=new WeakMap,Ug=new WeakMap,Gg=new WeakMap,pu=new WeakMap,sl=new WeakMap,xe=new WeakMap,Aa=new WeakMap,mu=new WeakMap,Ef=new WeakMap,_f=new WeakMap,gu=new WeakMap,xa=new WeakMap,Zs=new WeakMap,Sa=new WeakMap,Cf=new WeakMap,wa=new WeakMap,Mf=new WeakMap,nl=new WeakMap,al=new WeakMap,se=new WeakSet,sg=function(){const t=d(this,wa),e=d(this,Aa);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,wa).html||null},Jv=function(){var t,e,s;return((s=(e=(t=d(this,se,sg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},oR=function(){var t,e,s;return((s=(e=(t=d(this,se,sg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},lR=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:d(this,se,oR),fontSize:d(this,se,Jv)?`calc(${d(this,se,Jv)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:a});return s},cR=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,xa))&&_(this,se,ng).call(this)},uR=function(){if(d(this,Sa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:a,pageY:l}}}=d(this,_f);let c=!!d(this,gu),h=c?d(this,gu):d(this,Cf);for(const S of d(this,Ef))if(!h||dt.intersect(S.data.rect,h)!==null){h=S.data.rect,c=!0;break}const f=dt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),g=c?h[2]-h[0]+5:0,b=f[0]+g,v=f[1];x(this,Sa,[100*(b-a)/e,100*(v-l)/s]);const{style:A}=d(this,xe);A.left=`${d(this,Sa)[0]}%`,A.top=`${d(this,Sa)[1]}%`},ng=function(){x(this,xa,!d(this,xa)),d(this,xa)?(_(this,se,ag).call(this),d(this,xe).addEventListener("click",d(this,pu)),d(this,xe).addEventListener("keydown",d(this,fu))):(_(this,se,tA).call(this),d(this,xe).removeEventListener("click",d(this,pu)),d(this,xe).removeEventListener("keydown",d(this,fu)))},ag=function(){d(this,Zs)||this.render(),this.isVisible?d(this,xa)&&d(this,xe).classList.add("focused"):(_(this,se,uR).call(this),d(this,xe).hidden=!1,d(this,xe).style.zIndex=parseInt(d(this,xe).style.zIndex)+1e3)},tA=function(){d(this,xe).classList.remove("focused"),!(d(this,xa)||!this.isVisible)&&(d(this,xe).hidden=!0,d(this,xe).style.zIndex=parseInt(d(this,xe).style.zIndex)-1e3)};class hR extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ct.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Rf;class CI extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,Rf,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:a}=Vr(e.rect),l=this.svgFactory.create(s,a,!0),c=x(this,Rf,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Rf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rf=new WeakMap;var Df;class MI extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,Df,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:a}=Vr(e.rect),l=this.svgFactory.create(s,a,!0),c=e.borderStyle.width,h=x(this,Df,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",s-c),h.setAttribute("height",a-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Df)}addHighlightArea(){this.container.classList.add("highlightArea")}}Df=new WeakMap;var Nf;class RI extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,Nf,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:a}=Vr(e.rect),l=this.svgFactory.create(s,a,!0),c=e.borderStyle.width,h=x(this,Nf,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",s/2),h.setAttribute("cy",a/2),h.setAttribute("rx",s/2-c/2),h.setAttribute("ry",a/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Nf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nf=new WeakMap;var Lf;class dR extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,Lf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:a,popupRef:l}}=this;if(!s)return this.container;const{width:c,height:h}=Vr(e),f=this.svgFactory.create(c,h,!0);let p=[];for(let b=0,v=s.length;b<v;b+=2){const A=s[b]-e[0],S=e[3]-s[b+1];p.push(`${A},${S}`)}p=p.join(" ");const g=x(this,Lf,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),f.append(g),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Lf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lf=new WeakMap;class DI extends dR{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class NI extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Of,rl,kf,eA;class bx extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,kf);E(this,Of,null);E(this,rl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ct.HIGHLIGHT:Ct.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:s,inkLists:a,borderStyle:l,popupRef:c}}=this,{transform:h,width:f,height:p}=_(this,kf,eA).call(this,s,e),g=this.svgFactory.create(f,p,!0),b=x(this,Of,this.svgFactory.createElement("svg:g"));g.append(b),b.setAttribute("stroke-width",l.width||1),b.setAttribute("stroke-linecap","round"),b.setAttribute("stroke-linejoin","round"),b.setAttribute("stroke-miterlimit",10),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),b.setAttribute("transform",h);for(let v=0,A=a.length;v<A;v++){const S=this.svgFactory.createElement(this.svgElementName);d(this,rl).push(S),S.setAttribute("points",a[v].join(",")),b.append(S)}return!c&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:s,points:a,rect:l}=e,c=d(this,Of);if(s>=0&&c.setAttribute("stroke-width",s||1),a)for(let h=0,f=d(this,rl).length;h<f;h++)d(this,rl)[h].setAttribute("points",a[h].join(","));if(l){const{transform:h,width:f,height:p}=_(this,kf,eA).call(this,this.data.rotation,l);c.parentElement.setAttribute("viewBox",`0 0 ${f} ${p}`),c.setAttribute("transform",h)}}getElementsToTriggerPopup(){return d(this,rl)}addHighlightArea(){this.container.classList.add("highlightArea")}}Of=new WeakMap,rl=new WeakMap,kf=new WeakSet,eA=function(e,s){switch(e){case 90:return{transform:`rotate(90) translate(${-s[0]},${s[1]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};case 180:return{transform:`rotate(180) translate(${-s[2]},${s[1]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]};case 270:return{transform:`rotate(270) translate(${-s[2]},${s[3]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};default:return{transform:`translate(${-s[0]},${s[3]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]}}};class fR extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ct.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class LI extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class OI extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class kI extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class pR extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ct.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Pf,jf,iA;class PI extends Me{constructor(e){var a;super(e,{isRenderable:!0});E(this,jf);E(this,Pf,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let a;s.hasAppearance||s.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),a.addEventListener("dblclick",_(this,jf,iA).bind(this)),x(this,Pf,a);const{isMac:l}=Di.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&_(this,jf,iA).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),e.append(a),e}getElementsToTriggerPopup(){return d(this,Pf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pf=new WeakMap,jf=new WeakSet,iA=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var If,ol,ll,Bf,Ll,mR,sA;class jI{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:a,page:l,viewport:c,structTreeLayer:h}){E(this,Ll);E(this,If,null);E(this,ol,null);E(this,ll,new Map);E(this,Bf,null);this.div=t,x(this,If,e),x(this,ol,s),x(this,Bf,h||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return d(this,ll).size>0}async render(t){var c;const{annotations:e}=t,s=this.div;Rl(s,this.viewport);const a=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new yx,annotationStorage:t.annotationStorage||new mx,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of e){if(h.noHTML)continue;const f=h.annotationType===Ie.POPUP;if(f){const b=a.get(h.id);if(!b)continue;l.elements=b}else{const{width:b,height:v}=Vr(h.rect);if(b<=0||v<=0)continue}l.data=h;const p=vI.create(l);if(!p.isRenderable)continue;if(!f&&h.popupRef){const b=a.get(h.popupRef);b?b.push(p):a.set(h.popupRef,[p])}const g=p.render();h.hidden&&(g.style.visibility="hidden"),await _(this,Ll,mR).call(this,g,h.id),p._isEditable&&(d(this,ll).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}_(this,Ll,sA).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Rl(e,{rotation:t.rotation}),_(this,Ll,sA).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,ll).values())}getEditableAnnotation(t){return d(this,ll).get(t)}}If=new WeakMap,ol=new WeakMap,ll=new WeakMap,Bf=new WeakMap,Ll=new WeakSet,mR=async function(t,e){var c,h;const s=t.firstChild||t,a=s.id=`${ux}${e}`,l=await((c=d(this,Bf))==null?void 0:c.getAriaAttributes(a));if(l)for(const[f,p]of l)s.setAttribute(f,p);this.div.append(t),(h=d(this,If))==null||h.moveElementInDOM(this.div,t,s,!1)},sA=function(){if(!d(this,ol))return;const t=this.div;for(const[e,s]of d(this,ol)){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:l}=a;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):a.append(s)}d(this,ol).clear()};const jm=/\r\n?|\n/g;var Js,as,Ff,cl,rs,ke,gR,yR,bR,rg,Oa,og,lg,vR,aA,AR;const oe=class oe extends be{constructor(e){super({...e,name:"freeTextEditor"});E(this,ke);E(this,Js);E(this,as,"");E(this,Ff,`${this.id}-editor`);E(this,cl,null);E(this,rs);x(this,Js,e.color||oe._defaultColor||be._defaultLineColor),x(this,rs,e.fontSize||oe._defaultFontSize)}static get _keyboardManager(){const e=oe.prototype,s=c=>c.isEmpty(),a=Dl.TRANSLATE_SMALL,l=Dl.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new hp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[a,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,a],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:s}]]))}static initialize(e,s){be.initialize(e,s);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Bt.FREETEXT_SIZE:oe._defaultFontSize=s;break;case Bt.FREETEXT_COLOR:oe._defaultColor=s;break}}updateParams(e,s){switch(e){case Bt.FREETEXT_SIZE:_(this,ke,gR).call(this,s);break;case Bt.FREETEXT_COLOR:_(this,ke,yR).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Bt.FREETEXT_SIZE,oe._defaultFontSize],[Bt.FREETEXT_COLOR,oe._defaultColor||be._defaultLineColor]]}get propertiesToUpdate(){return[[Bt.FREETEXT_SIZE,d(this,rs)],[Bt.FREETEXT_COLOR,d(this,Js)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-oe._internalPadding*e,-(oe._internalPadding+d(this,rs))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ct.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),x(this,cl,new AbortController);const e=this._uiManager.combinedSignal(d(this,cl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,Ff)),this._isDraggable=!0,(e=d(this,cl))==null||e.abort(),x(this,cl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var s;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,as),s=x(this,as,_(this,ke,bR).call(this).trimEnd());if(e===s)return;const a=l=>{if(x(this,as,l),!l){this.remove();return}_(this,ke,lg).call(this),this._uiManager.rebuild(this),_(this,ke,rg).call(this)};this.addCommands({cmd:()=>{a(s)},undo:()=>{a(e)},mustExec:!1}),_(this,ke,rg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){oe._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,Ff)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${d(this,rs)}px * var(--scale-factor))`,a.color=d(this,Js),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Tg(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[g,b]=this.pageDimensions,[v,A]=this.pageTranslation;let S,T;switch(this.rotation){case 0:S=e+(h[0]-v)/g,T=s+this.height-(h[1]-A)/b;break;case 90:S=e+(h[0]-v)/g,T=s-(h[1]-A)/b,[f,p]=[p,-f];break;case 180:S=e-this.width+(h[0]-v)/g,T=s-(h[1]-A)/b,[f,p]=[-f,-p];break;case 270:S=e+(h[0]-v-this.height*b)/g,T=s+(h[1]-A-this.width*g)/b,[f,p]=[-p,f];break}this.setAt(S*l,T*c,f,p)}else this.setAt(e*l,s*c,this.width*l,this.height*c);_(this,ke,lg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var S,T,D;const s=e.clipboardData||window.clipboardData,{types:a}=s;if(a.length===1&&a[0]==="text/plain")return;e.preventDefault();const l=_(S=oe,Oa,aA).call(S,s.getData("text")||"").replaceAll(jm,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!l.includes(`
`)){h.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:p}=h,g=[],b=[];if(f.nodeType===Node.TEXT_NODE){const R=f.parentElement;if(b.push(f.nodeValue.slice(p).replaceAll(jm,"")),R!==this.editorDiv){let L=g;for(const N of this.editorDiv.childNodes){if(N===R){L=b;continue}L.push(_(T=oe,Oa,og).call(T,N))}}g.push(f.nodeValue.slice(0,p).replaceAll(jm,""))}else if(f===this.editorDiv){let R=g,L=0;for(const N of this.editorDiv.childNodes)L++===p&&(R=b),R.push(_(D=oe,Oa,og).call(D,N))}x(this,as,`${g.join(`
`)}${l}${b.join(`
`)}`),_(this,ke,lg).call(this);const v=new Range;let A=g.reduce((R,L)=>R+L.length,0);for(const{firstChild:R}of this.editorDiv.childNodes)if(R.nodeType===Node.TEXT_NODE){const L=R.nodeValue.length;if(A<=L){v.setStart(R,A),v.setEnd(R,A);break}A-=L}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,a){var h;let l=null;if(e instanceof hR){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:g,rotation:b,id:v,popupRef:A},textContent:S,textPosition:T,parent:{page:{pageNumber:D}}}=e;if(!S||S.length===0)return null;l=e={annotationType:Ct.FREETEXT,color:Array.from(p),fontSize:f,value:S.join(`
`),position:T,pageIndex:D-1,rect:g.slice(0),rotation:b,id:v,deleted:!1,popupRef:A}}const c=await super.deserialize(e,s,a);return x(c,rs,e.fontSize),x(c,Js,dt.makeHexColor(...e.color)),x(c,as,_(h=oe,Oa,aA).call(h,e.value)),c.annotationElementId=e.id||null,c._initialData=l,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=oe._internalPadding*this.parentScale,a=this.getRect(s,s),l=be._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,Js)),c={annotationType:Ct.FREETEXT,color:l,fontSize:d(this,rs),value:_(this,ke,vR).call(this),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!_(this,ke,AR).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:a}=s;a.fontSize=`calc(${d(this,rs)}px * var(--scale-factor))`,a.color=d(this,Js),s.replaceChildren();for(const c of d(this,as).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),s.append(h)}const l=oe._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:d(this,as)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Js=new WeakMap,as=new WeakMap,Ff=new WeakMap,cl=new WeakMap,rs=new WeakMap,ke=new WeakSet,gR=function(e){const s=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-d(this,rs))*this.parentScale),x(this,rs,l),_(this,ke,rg).call(this)},a=d(this,rs);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},yR=function(e){const s=l=>{x(this,Js,this.editorDiv.style.color=l)},a=d(this,Js);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},bR=function(){var a;const e=[];this.editorDiv.normalize();let s=null;for(const l of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(_(a=oe,Oa,og).call(a,l)),s=l);return e.join(`
`)},rg=function(){const[e,s]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,h=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),a=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=a.width/e,this.height=a.height/s):(this.width=a.height/e,this.height=a.width/s),this.fixAndSetPosition()},Oa=new WeakSet,og=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(jm,"")},lg=function(){if(this.editorDiv.replaceChildren(),!!d(this,as))for(const e of d(this,as).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},vR=function(){return d(this,as).replaceAll(""," ")},aA=function(e){return e.replaceAll(" ","")},AR=function(e){const{value:s,fontSize:a,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==a||e.color.some((h,f)=>h!==l[f])||e.pageIndex!==c},E(oe,Oa),gt(oe,"_freeTextDefaultContent",""),gt(oe,"_internalPadding",0),gt(oe,"_defaultColor",null),gt(oe,"_defaultFontSize",10),gt(oe,"_type","freetext"),gt(oe,"_editorType",Ct.FREETEXT);let nA=oe;class at{toSVGPath(){ae("Abstract method `toSVGPath` must be implemented.")}get box(){ae("Abstract getter `box` must be implemented.")}serialize(t,e){ae("Abstract method `serialize` must be implemented.")}static _rescale(t,e,s,a,l,c){c||(c=new Float32Array(t.length));for(let h=0,f=t.length;h<f;h+=2)c[h]=e+t[h]*a,c[h+1]=s+t[h+1]*l;return c}static _rescaleAndSwap(t,e,s,a,l,c){c||(c=new Float32Array(t.length));for(let h=0,f=t.length;h<f;h+=2)c[h]=e+t[h+1]*a,c[h+1]=s+t[h]*l;return c}static _translate(t,e,s,a){a||(a=new Float32Array(t.length));for(let l=0,c=t.length;l<c;l+=2)a[l]=e+t[l],a[l+1]=s+t[l+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,s,a,l){switch(l){case 90:return[1-e/s,t/a];case 180:return[1-t/s,1-e/a];case 270:return[e/s,1-t/a];default:return[t/s,e/a]}}static _normalizePagePoint(t,e,s){switch(s){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,s,a,l,c){return[(t+5*s)/6,(e+5*a)/6,(5*s+l)/6,(5*a+c)/6,(s+l)/2,(a+c)/2]}}gt(at,"PRECISION",1e-4);var os,tn,yu,bu,Rn,kt,ul,hl,zf,Vf,vu,Au,Dr,Hf,qg,Xg,Ve,cd,xR,SR,wR,TR,ER,_R;const aa=class aa{constructor({x:t,y:e},s,a,l,c,h=0){E(this,Ve);E(this,os);E(this,tn,[]);E(this,yu);E(this,bu);E(this,Rn,[]);E(this,kt,new Float32Array(18));E(this,ul);E(this,hl);E(this,zf);E(this,Vf);E(this,vu);E(this,Au);E(this,Dr,[]);x(this,os,s),x(this,Au,l*a),x(this,bu,c),d(this,kt).set([NaN,NaN,NaN,NaN,t,e],6),x(this,yu,h),x(this,Vf,d(aa,Hf)*a),x(this,zf,d(aa,Xg)*a),x(this,vu,a),d(this,Dr).push(t,e)}isEmpty(){return isNaN(d(this,kt)[8])}add({x:t,y:e}){var tt;x(this,ul,t),x(this,hl,e);const[s,a,l,c]=d(this,os);let[h,f,p,g]=d(this,kt).subarray(8,12);const b=t-p,v=e-g,A=Math.hypot(b,v);if(A<d(this,zf))return!1;const S=A-d(this,Vf),T=S/A,D=T*b,R=T*v;let L=h,N=f;h=p,f=g,p+=D,g+=R,(tt=d(this,Dr))==null||tt.push(t,e);const j=-R/S,P=D/S,U=j*d(this,Au),q=P*d(this,Au);return d(this,kt).set(d(this,kt).subarray(2,8),0),d(this,kt).set([p+U,g+q],4),d(this,kt).set(d(this,kt).subarray(14,18),12),d(this,kt).set([p-U,g-q],16),isNaN(d(this,kt)[6])?(d(this,Rn).length===0&&(d(this,kt).set([h+U,f+q],2),d(this,Rn).push(NaN,NaN,NaN,NaN,(h+U-s)/l,(f+q-a)/c),d(this,kt).set([h-U,f-q],14),d(this,tn).push(NaN,NaN,NaN,NaN,(h-U-s)/l,(f-q-a)/c)),d(this,kt).set([L,N,h,f,p,g],6),!this.isEmpty()):(d(this,kt).set([L,N,h,f,p,g],6),Math.abs(Math.atan2(N-f,L-h)-Math.atan2(R,D))<Math.PI/2?([h,f,p,g]=d(this,kt).subarray(2,6),d(this,Rn).push(NaN,NaN,NaN,NaN,((h+p)/2-s)/l,((f+g)/2-a)/c),[h,f,L,N]=d(this,kt).subarray(14,18),d(this,tn).push(NaN,NaN,NaN,NaN,((L+h)/2-s)/l,((N+f)/2-a)/c),!0):([L,N,h,f,p,g]=d(this,kt).subarray(0,6),d(this,Rn).push(((L+5*h)/6-s)/l,((N+5*f)/6-a)/c,((5*h+p)/6-s)/l,((5*f+g)/6-a)/c,((h+p)/2-s)/l,((f+g)/2-a)/c),[p,g,h,f,L,N]=d(this,kt).subarray(12,18),d(this,tn).push(((L+5*h)/6-s)/l,((N+5*f)/6-a)/c,((5*h+p)/6-s)/l,((5*f+g)/6-a)/c,((h+p)/2-s)/l,((f+g)/2-a)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,Rn),e=d(this,tn);if(isNaN(d(this,kt)[6])&&!this.isEmpty())return _(this,Ve,xR).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?s.push(`L${t[a+4]} ${t[a+5]}`):s.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);_(this,Ve,wR).call(this,s);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?s.push(`L${e[a+4]} ${e[a+5]}`):s.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return _(this,Ve,SR).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,a,l,c){return new CR(t,e,s,a,l,c)}getOutlines(){var b;const t=d(this,Rn),e=d(this,tn),s=d(this,kt),[a,l,c,h]=d(this,os),f=new Float32Array((((b=d(this,Dr))==null?void 0:b.length)??0)+2);for(let v=0,A=f.length-2;v<A;v+=2)f[v]=(d(this,Dr)[v]-a)/c,f[v+1]=(d(this,Dr)[v+1]-l)/h;if(f[f.length-2]=(d(this,ul)-a)/c,f[f.length-1]=(d(this,hl)-l)/h,isNaN(s[6])&&!this.isEmpty())return _(this,Ve,TR).call(this,f);const p=new Float32Array(d(this,Rn).length+24+d(this,tn).length);let g=t.length;for(let v=0;v<g;v+=2){if(isNaN(t[v])){p[v]=p[v+1]=NaN;continue}p[v]=t[v],p[v+1]=t[v+1]}g=_(this,Ve,_R).call(this,p,g);for(let v=e.length-6;v>=6;v-=6)for(let A=0;A<6;A+=2){if(isNaN(e[v+A])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[v+A],p[g+1]=e[v+A+1],g+=2}return _(this,Ve,ER).call(this,p,g),this.newFreeDrawOutline(p,f,d(this,os),d(this,vu),d(this,yu),d(this,bu))}};os=new WeakMap,tn=new WeakMap,yu=new WeakMap,bu=new WeakMap,Rn=new WeakMap,kt=new WeakMap,ul=new WeakMap,hl=new WeakMap,zf=new WeakMap,Vf=new WeakMap,vu=new WeakMap,Au=new WeakMap,Dr=new WeakMap,Hf=new WeakMap,qg=new WeakMap,Xg=new WeakMap,Ve=new WeakSet,cd=function(){const t=d(this,kt).subarray(4,6),e=d(this,kt).subarray(16,18),[s,a,l,c]=d(this,os);return[(d(this,ul)+(t[0]-e[0])/2-s)/l,(d(this,hl)+(t[1]-e[1])/2-a)/c,(d(this,ul)+(e[0]-t[0])/2-s)/l,(d(this,hl)+(e[1]-t[1])/2-a)/c]},xR=function(){const[t,e,s,a]=d(this,os),[l,c,h,f]=_(this,Ve,cd).call(this);return`M${(d(this,kt)[2]-t)/s} ${(d(this,kt)[3]-e)/a} L${(d(this,kt)[4]-t)/s} ${(d(this,kt)[5]-e)/a} L${l} ${c} L${h} ${f} L${(d(this,kt)[16]-t)/s} ${(d(this,kt)[17]-e)/a} L${(d(this,kt)[14]-t)/s} ${(d(this,kt)[15]-e)/a} Z`},SR=function(t){const e=d(this,tn);t.push(`L${e[4]} ${e[5]} Z`)},wR=function(t){const[e,s,a,l]=d(this,os),c=d(this,kt).subarray(4,6),h=d(this,kt).subarray(16,18),[f,p,g,b]=_(this,Ve,cd).call(this);t.push(`L${(c[0]-e)/a} ${(c[1]-s)/l} L${f} ${p} L${g} ${b} L${(h[0]-e)/a} ${(h[1]-s)/l}`)},TR=function(t){const e=d(this,kt),[s,a,l,c]=d(this,os),[h,f,p,g]=_(this,Ve,cd).call(this),b=new Float32Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-s)/l,(e[3]-a)/c,NaN,NaN,NaN,NaN,(e[4]-s)/l,(e[5]-a)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-s)/l,(e[17]-a)/c,NaN,NaN,NaN,NaN,(e[14]-s)/l,(e[15]-a)/c],0),this.newFreeDrawOutline(b,t,d(this,os),d(this,vu),d(this,yu),d(this,bu))},ER=function(t,e){const s=d(this,tn);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},_R=function(t,e){const s=d(this,kt).subarray(4,6),a=d(this,kt).subarray(16,18),[l,c,h,f]=d(this,os),[p,g,b,v]=_(this,Ve,cd).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/h,(s[1]-c)/f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(a[0]-l)/h,(a[1]-c)/f],e),e+=24},E(aa,Hf,8),E(aa,qg,2),E(aa,Xg,d(aa,Hf)+d(aa,qg));let Cg=aa;var xu,dl,Ta,Uf,ls,Gf,_e,Yg,MR;class CR extends at{constructor(e,s,a,l,c,h){super();E(this,Yg);E(this,xu);E(this,dl,new Float32Array(4));E(this,Ta);E(this,Uf);E(this,ls);E(this,Gf);E(this,_e);x(this,_e,e),x(this,ls,s),x(this,xu,a),x(this,Gf,l),x(this,Ta,c),x(this,Uf,h),this.lastPoint=[NaN,NaN],_(this,Yg,MR).call(this,h);const[f,p,g,b]=d(this,dl);for(let v=0,A=e.length;v<A;v+=2)e[v]=(e[v]-f)/g,e[v+1]=(e[v+1]-p)/b;for(let v=0,A=s.length;v<A;v+=2)s[v]=(s[v]-f)/g,s[v+1]=(s[v+1]-p)/b}toSVGPath(){const e=[`M${d(this,_e)[4]} ${d(this,_e)[5]}`];for(let s=6,a=d(this,_e).length;s<a;s+=6){if(isNaN(d(this,_e)[s])){e.push(`L${d(this,_e)[s+4]} ${d(this,_e)[s+5]}`);continue}e.push(`C${d(this,_e)[s]} ${d(this,_e)[s+1]} ${d(this,_e)[s+2]} ${d(this,_e)[s+3]} ${d(this,_e)[s+4]} ${d(this,_e)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,a,l],c){const h=a-e,f=l-s;let p,g;switch(c){case 0:p=at._rescale(d(this,_e),e,l,h,-f),g=at._rescale(d(this,ls),e,l,h,-f);break;case 90:p=at._rescaleAndSwap(d(this,_e),e,s,h,f),g=at._rescaleAndSwap(d(this,ls),e,s,h,f);break;case 180:p=at._rescale(d(this,_e),a,s,-h,f),g=at._rescale(d(this,ls),a,s,-h,f);break;case 270:p=at._rescaleAndSwap(d(this,_e),a,l,-h,-f),g=at._rescaleAndSwap(d(this,ls),a,l,-h,-f);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return d(this,dl)}newOutliner(e,s,a,l,c,h=0){return new Cg(e,s,a,l,c,h)}getNewOutline(e,s){const[a,l,c,h]=d(this,dl),[f,p,g,b]=d(this,xu),v=c*g,A=h*b,S=a*g+f,T=l*b+p,D=this.newOutliner({x:d(this,ls)[0]*v+S,y:d(this,ls)[1]*A+T},d(this,xu),d(this,Gf),e,d(this,Uf),s??d(this,Ta));for(let R=2;R<d(this,ls).length;R+=2)D.add({x:d(this,ls)[R]*v+S,y:d(this,ls)[R+1]*A+T});return D.getOutlines()}}xu=new WeakMap,dl=new WeakMap,Ta=new WeakMap,Uf=new WeakMap,ls=new WeakMap,Gf=new WeakMap,_e=new WeakMap,Yg=new WeakSet,MR=function(e){const s=d(this,_e);let a=s[4],l=s[5],c=a,h=l,f=a,p=l,g=a,b=l;const v=e?Math.max:Math.min;for(let S=6,T=s.length;S<T;S+=6){if(isNaN(s[S]))c=Math.min(c,s[S+4]),h=Math.min(h,s[S+5]),f=Math.max(f,s[S+4]),p=Math.max(p,s[S+5]),b<s[S+5]?(g=s[S+4],b=s[S+5]):b===s[S+5]&&(g=v(g,s[S+4]));else{const D=dt.bezierBoundingBox(a,l,...s.slice(S,S+6));c=Math.min(c,D[0]),h=Math.min(h,D[1]),f=Math.max(f,D[2]),p=Math.max(p,D[3]),b<D[3]?(g=D[2],b=D[3]):b===D[3]&&(g=v(g,D[2]))}a=s[S+4],l=s[S+5]}const A=d(this,dl);A[0]=c-d(this,Ta),A[1]=h-d(this,Ta),A[2]=f-c+2*d(this,Ta),A[3]=p-h+2*d(this,Ta),this.lastPoint=[g,b]};var qf,Xf,Nr,en,Li,RR,cg,DR,NR,oA;class rA{constructor(t,e=0,s=0,a=!0){E(this,Li);E(this,qf);E(this,Xf);E(this,Nr,[]);E(this,en,[]);let l=1/0,c=-1/0,h=1/0,f=-1/0;const p=10**-4;for(const{x:D,y:R,width:L,height:N}of t){const j=Math.floor((D-e)/p)*p,P=Math.ceil((D+L+e)/p)*p,U=Math.floor((R-e)/p)*p,q=Math.ceil((R+N+e)/p)*p,$=[j,U,q,!0],tt=[P,U,q,!1];d(this,Nr).push($,tt),l=Math.min(l,j),c=Math.max(c,P),h=Math.min(h,U),f=Math.max(f,q)}const g=c-l+2*s,b=f-h+2*s,v=l-s,A=h-s,S=d(this,Nr).at(a?-1:-2),T=[S[0],S[2]];for(const D of d(this,Nr)){const[R,L,N]=D;D[0]=(R-v)/g,D[1]=(L-A)/b,D[2]=(N-A)/b}x(this,qf,new Float32Array([v,A,g,b])),x(this,Xf,T)}getOutlines(){d(this,Nr).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of d(this,Nr))e[3]?(t.push(..._(this,Li,oA).call(this,e)),_(this,Li,DR).call(this,e)):(_(this,Li,NR).call(this,e),t.push(..._(this,Li,oA).call(this,e)));return _(this,Li,RR).call(this,t)}}qf=new WeakMap,Xf=new WeakMap,Nr=new WeakMap,en=new WeakMap,Li=new WeakSet,RR=function(t){const e=[],s=new Set;for(const c of t){const[h,f,p]=c;e.push([h,f,c],[h,p,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const f=e[c][2],p=e[c+1][2];f.push(p),p.push(f),s.add(f),s.add(p)}const a=[];let l;for(;s.size>0;){const c=s.values().next().value;let[h,f,p,g,b]=c;s.delete(c);let v=h,A=f;for(l=[h,p],a.push(l);;){let S;if(s.has(g))S=g;else if(s.has(b))S=b;else break;s.delete(S),[h,f,p,g,b]=S,v!==h&&(l.push(v,A,h,A===f?f:p),v=h),A=A===f?p:f}l.push(v,A)}return new II(a,d(this,qf),d(this,Xf))},cg=function(t){const e=d(this,en);let s=0,a=e.length-1;for(;s<=a;){const l=s+a>>1,c=e[l][0];if(c===t)return l;c<t?s=l+1:a=l-1}return a+1},DR=function([,t,e]){const s=_(this,Li,cg).call(this,t);d(this,en).splice(s,0,[t,e])},NR=function([,t,e]){const s=_(this,Li,cg).call(this,t);for(let a=s;a<d(this,en).length;a++){const[l,c]=d(this,en)[a];if(l!==t)break;if(l===t&&c===e){d(this,en).splice(a,1);return}}for(let a=s-1;a>=0;a--){const[l,c]=d(this,en)[a];if(l!==t)break;if(l===t&&c===e){d(this,en).splice(a,1);return}}},oA=function(t){const[e,s,a]=t,l=[[e,s,a]],c=_(this,Li,cg).call(this,a);for(let h=0;h<c;h++){const[f,p]=d(this,en)[h];for(let g=0,b=l.length;g<b;g++){const[,v,A]=l[g];if(!(p<=v||A<=f)){if(v>=f){if(A>p)l[g][1]=p;else{if(b===1)return[];l.splice(g,1),g--,b--}continue}l[g][2]=f,A>p&&l.push([e,p,A])}}}return l};var Yf,Su;class II extends at{constructor(e,s,a){super();E(this,Yf);E(this,Su);x(this,Su,e),x(this,Yf,s),this.lastPoint=a}toSVGPath(){const e=[];for(const s of d(this,Su)){let[a,l]=s;e.push(`M${a} ${l}`);for(let c=2;c<s.length;c+=2){const h=s[c],f=s[c+1];h===a?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${h}`),a=h)}e.push("Z")}return e.join(" ")}serialize([e,s,a,l],c){const h=[],f=a-e,p=l-s;for(const g of d(this,Su)){const b=new Array(g.length);for(let v=0;v<g.length;v+=2)b[v]=e+g[v]*f,b[v+1]=l-g[v+1]*p;h.push(b)}return h}get box(){return d(this,Yf)}get classNamesForOutlining(){return["highlightOutline"]}}Yf=new WeakMap,Su=new WeakMap;class lA extends Cg{newFreeDrawOutline(t,e,s,a,l,c){return new BI(t,e,s,a,l,c)}}class BI extends CR{newOutliner(t,e,s,a,l,c=0){return new lA(t,e,s,a,l,c)}}var sn,fl,wu,ze,Kf,Tu,$f,Wf,Lr,nn,Eu,Qf,ie,cA,uA,hA,yo,LR,cr;const zi=class zi{constructor({editor:t=null,uiManager:e=null}){E(this,ie);E(this,sn,null);E(this,fl,null);E(this,wu);E(this,ze,null);E(this,Kf,!1);E(this,Tu,!1);E(this,$f,null);E(this,Wf);E(this,Lr,null);E(this,nn,null);E(this,Eu);var s;t?(x(this,Tu,!1),x(this,Eu,Bt.HIGHLIGHT_COLOR),x(this,$f,t)):(x(this,Tu,!0),x(this,Eu,Bt.HIGHLIGHT_DEFAULT_COLOR)),x(this,nn,(t==null?void 0:t._uiManager)||e),x(this,Wf,d(this,nn)._eventBus),x(this,wu,(t==null?void 0:t.color)||((s=d(this,nn))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),d(zi,Qf)||x(zi,Qf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Pt(this,"_keyboardManager",new hp([[["Escape","mac+Escape"],zi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],zi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],zi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],zi.prototype._moveToPrevious],[["Home","mac+Home"],zi.prototype._moveToBeginning],[["End","mac+End"],zi.prototype._moveToEnd]]))}renderButton(){const t=x(this,sn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,nn)._signal;t.addEventListener("click",_(this,ie,yo).bind(this),{signal:e}),t.addEventListener("keydown",_(this,ie,hA).bind(this),{signal:e});const s=x(this,fl,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=d(this,wu),t.append(s),t}renderMainDropdown(){const t=x(this,ze,_(this,ie,cA).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,sn)){_(this,ie,yo).call(this,t);return}const e=t.target.getAttribute("data-color");e&&_(this,ie,uA).call(this,e,t)}_moveToNext(t){var e,s;if(!d(this,ie,cr)){_(this,ie,yo).call(this,t);return}if(t.target===d(this,sn)){(e=d(this,ze).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=d(this,ze))==null?void 0:e.firstChild)||t.target===d(this,sn)){d(this,ie,cr)&&this._hideDropdownFromKeyboard();return}d(this,ie,cr)||_(this,ie,yo).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!d(this,ie,cr)){_(this,ie,yo).call(this,t);return}(e=d(this,ze).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,ie,cr)){_(this,ie,yo).call(this,t);return}(e=d(this,ze).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,ze))==null||t.classList.add("hidden"),(e=d(this,Lr))==null||e.abort(),x(this,Lr,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,Tu)){if(!d(this,ie,cr)){(t=d(this,$f))==null||t.unselect();return}this.hideDropdown(),d(this,sn).focus({preventScroll:!0,focusVisible:d(this,Kf)})}}updateColor(t){if(d(this,fl)&&(d(this,fl).style.backgroundColor=t),!d(this,ze))return;const e=d(this,nn).highlightColors.values();for(const s of d(this,ze).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,sn))==null||t.remove(),x(this,sn,null),x(this,fl,null),(e=d(this,ze))==null||e.remove(),x(this,ze,null)}};sn=new WeakMap,fl=new WeakMap,wu=new WeakMap,ze=new WeakMap,Kf=new WeakMap,Tu=new WeakMap,$f=new WeakMap,Wf=new WeakMap,Lr=new WeakMap,nn=new WeakMap,Eu=new WeakMap,Qf=new WeakMap,ie=new WeakSet,cA=function(){const t=document.createElement("div"),e=d(this,nn)._signal;t.addEventListener("contextmenu",ln,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,a]of d(this,nn).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",a),l.title=s,l.setAttribute("data-l10n-id",d(zi,Qf)[s]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=a,l.setAttribute("aria-selected",a===d(this,wu)),l.addEventListener("click",_(this,ie,uA).bind(this,a),{signal:e}),t.append(l)}return t.addEventListener("keydown",_(this,ie,hA).bind(this),{signal:e}),t},uA=function(t,e){e.stopPropagation(),d(this,Wf).dispatch("switchannotationeditorparams",{source:this,type:d(this,Eu),value:t})},hA=function(t){zi._keyboardManager.exec(this,t)},yo=function(t){if(d(this,ie,cr)){this.hideDropdown();return}if(x(this,Kf,t.detail===0),d(this,Lr)||(x(this,Lr,new AbortController),window.addEventListener("pointerdown",_(this,ie,LR).bind(this),{signal:d(this,nn).combinedSignal(d(this,Lr))})),d(this,ze)){d(this,ze).classList.remove("hidden");return}const e=x(this,ze,_(this,ie,cA).call(this));d(this,sn).append(e)},LR=function(t){var e;(e=d(this,ze))!=null&&e.contains(t.target)||this.hideDropdown()},cr=function(){return d(this,ze)&&!d(this,ze).classList.contains("hidden")},E(zi,Qf,null);let Mg=zi;var _u,Zf,Ea,pl,Cu,Ui,Jf,tp,ml,Os,cs,si,Mu,_a,yi,Ru,ks,ep,Tt,dA,ug,OR,kR,PR,fA,bo,Bs,Tc,jR,hg,ud,IR,BR,FR,zR,VR;const Yt=class Yt extends be{constructor(e){super({...e,name:"highlightEditor"});E(this,Tt);E(this,_u,null);E(this,Zf,0);E(this,Ea);E(this,pl,null);E(this,Cu,null);E(this,Ui,null);E(this,Jf,null);E(this,tp,0);E(this,ml,null);E(this,Os,null);E(this,cs,null);E(this,si,!1);E(this,Mu,null);E(this,_a);E(this,yi,null);E(this,Ru,"");E(this,ks);E(this,ep,"");this.color=e.color||Yt._defaultColor,x(this,ks,e.thickness||Yt._defaultThickness),x(this,_a,e.opacity||Yt._defaultOpacity),x(this,Ea,e.boxes||null),x(this,ep,e.methodOfCreation||""),x(this,Ru,e.text||""),this._isDraggable=!1,e.highlightId>-1?(x(this,si,!0),_(this,Tt,ug).call(this,e),_(this,Tt,bo).call(this)):d(this,Ea)&&(x(this,_u,e.anchorNode),x(this,Zf,e.anchorOffset),x(this,Jf,e.focusNode),x(this,tp,e.focusOffset),_(this,Tt,dA).call(this),_(this,Tt,bo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Yt.prototype;return Pt(this,"_keyboardManager",new hp([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,si)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,ks),methodOfCreation:d(this,ep)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var a;be.initialize(e,s),Yt._defaultColor||(Yt._defaultColor=((a=s.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Bt.HIGHLIGHT_DEFAULT_COLOR:Yt._defaultColor=s;break;case Bt.HIGHLIGHT_THICKNESS:Yt._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return d(this,Mu)}updateParams(e,s){switch(e){case Bt.HIGHLIGHT_COLOR:_(this,Tt,OR).call(this,s);break;case Bt.HIGHLIGHT_THICKNESS:_(this,Tt,kR).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Bt.HIGHLIGHT_DEFAULT_COLOR,Yt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,Yt._defaultThickness]]}get propertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,this.color||Yt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,d(this,ks)||Yt._defaultThickness],[Bt.HIGHLIGHT_FREE,d(this,si)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(x(this,Cu,new Mg({editor:this})),e.addColorPicker(d(this,Cu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,Tt,ud).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,_(this,Tt,ud).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){_(this,Tt,fA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Tt,bo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let s=!1;this.parent&&!e?_(this,Tt,fA).call(this):e&&(_(this,Tt,bo).call(this,e),s=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var l,c,h;const{drawLayer:s}=this.parent;let a;d(this,si)?(e=(e-this.rotation+360)%360,a=_(l=Yt,Bs,Tc).call(l,d(this,Os).box,e)):a=_(c=Yt,Bs,Tc).call(c,[this.x,this.y,this.width,this.height],e),s.updateProperties(d(this,cs),{bbox:a,root:{"data-main-rotation":e}}),s.updateProperties(d(this,yi),{bbox:_(h=Yt,Bs,Tc).call(h,d(this,Ui).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();d(this,Ru)&&(e.setAttribute("aria-label",d(this,Ru)),e.setAttribute("role","mark")),d(this,si)?e.classList.add("free"):this.div.addEventListener("keydown",_(this,Tt,jR).bind(this),{signal:this._uiManager._signal});const s=x(this,ml,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=d(this,pl);const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),Tg(this,d(this,ml),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,yi),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,yi),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:_(this,Tt,hg).call(this,!0);break;case 1:case 3:_(this,Tt,hg).call(this,!1);break}}select(){var e;super.select(),d(this,yi)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,yi),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),d(this,yi)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,yi),{rootClass:{selected:!1}}),d(this,si)||_(this,Tt,hg).call(this,!1))}get _mustFixPosition(){return!d(this,si)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(d(this,cs),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(d(this,yi),{rootClass:{hidden:!e}}))}static startHighlighting(e,s,{target:a,x:l,y:c}){const{x:h,y:f,width:p,height:g}=a.getBoundingClientRect(),b=new AbortController,v=e.combinedSignal(b),A=S=>{b.abort(),_(this,Bs,zR).call(this,e,S)};window.addEventListener("blur",A,{signal:v}),window.addEventListener("pointerup",A,{signal:v}),window.addEventListener("pointerdown",ms,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",ln,{signal:v}),a.addEventListener("pointermove",_(this,Bs,FR).bind(this,e),{signal:v}),this._freeHighlight=new lA({x:l,y:c},[h,f,p,g],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,s,a){var T,D,R,L;let l=null;if(e instanceof fR){const{data:{quadPoints:N,rect:j,rotation:P,id:U,color:q,opacity:$,popupRef:tt},parent:{page:{pageNumber:ft}}}=e;l=e={annotationType:Ct.HIGHLIGHT,color:Array.from(q),opacity:$,quadPoints:N,boxes:null,pageIndex:ft-1,rect:j.slice(0),rotation:P,id:U,deleted:!1,popupRef:tt}}else if(e instanceof bx){const{data:{inkLists:N,rect:j,rotation:P,id:U,color:q,borderStyle:{rawWidth:$},popupRef:tt},parent:{page:{pageNumber:ft}}}=e;l=e={annotationType:Ct.HIGHLIGHT,color:Array.from(q),thickness:$,inkLists:N,boxes:null,pageIndex:ft-1,rect:j.slice(0),rotation:P,id:U,deleted:!1,popupRef:tt}}const{color:c,quadPoints:h,inkLists:f,opacity:p}=e,g=await super.deserialize(e,s,a);g.color=dt.makeHexColor(...c),x(g,_a,p||1),f&&x(g,ks,e.thickness),g.annotationElementId=e.id||null,g._initialData=l;const[b,v]=g.pageDimensions,[A,S]=g.pageTranslation;if(h){const N=x(g,Ea,[]);for(let j=0;j<h.length;j+=8)N.push({x:(h[j]-A)/b,y:1-(h[j+1]-S)/v,width:(h[j+2]-h[j])/b,height:(h[j+1]-h[j+5])/v});_(T=g,Tt,dA).call(T),_(D=g,Tt,bo).call(D),g.rotate(g.rotation)}else if(f){x(g,si,!0);const N=f[0],j={x:N[0]-A,y:v-(N[1]-S)},P=new lA(j,[0,0,b,v],1,d(g,ks)/2,!0,.001);for(let $=0,tt=N.length;$<tt;$+=2)j.x=N[$]-A,j.y=v-(N[$+1]-S),P.add(j);const{id:U,clipPathId:q}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);_(R=g,Tt,ug).call(R,{highlightOutlines:P.getOutlines(),highlightId:U,clipPathId:q}),_(L=g,Tt,bo).call(L)}return g}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),a=be._colorManager.convert(this.color),l={annotationType:Ct.HIGHLIGHT,color:a,opacity:d(this,_a),thickness:d(this,ks),quadPoints:_(this,Tt,IR).call(this),outlines:_(this,Tt,BR).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:_(this,Tt,ud).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_(this,Tt,VR).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};_u=new WeakMap,Zf=new WeakMap,Ea=new WeakMap,pl=new WeakMap,Cu=new WeakMap,Ui=new WeakMap,Jf=new WeakMap,tp=new WeakMap,ml=new WeakMap,Os=new WeakMap,cs=new WeakMap,si=new WeakMap,Mu=new WeakMap,_a=new WeakMap,yi=new WeakMap,Ru=new WeakMap,ks=new WeakMap,ep=new WeakMap,Tt=new WeakSet,dA=function(){const e=new rA(d(this,Ea),.001);x(this,Os,e.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,Os).box;const s=new rA(d(this,Ea),.0025,.001,this._uiManager.direction==="ltr");x(this,Ui,s.getOutlines());const{lastPoint:a}=d(this,Ui);x(this,Mu,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},ug=function({highlightOutlines:e,highlightId:s,clipPathId:a}){var b,v;if(x(this,Os,e),x(this,Ui,e.getNewOutline(d(this,ks)/2+1.5,.0025)),s>=0)x(this,cs,s),x(this,pl,a),this.parent.drawLayer.finalizeDraw(s,{bbox:e.box,path:{d:e.toSVGPath()}}),x(this,yi,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,Ui).box,path:{d:d(this,Ui).toSVGPath()}},!0));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,cs),{bbox:_(b=Yt,Bs,Tc).call(b,d(this,Os).box,(A-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,yi),{bbox:_(v=Yt,Bs,Tc).call(v,d(this,Ui).box,A),path:{d:d(this,Ui).toSVGPath()}})}const[c,h,f,p]=e.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=f,this.height=p;break;case 90:{const[A,S]=this.parentDimensions;this.x=h,this.y=1-c,this.width=f*S/A,this.height=p*A/S;break}case 180:this.x=1-c,this.y=1-h,this.width=f,this.height=p;break;case 270:{const[A,S]=this.parentDimensions;this.x=1-h,this.y=c,this.width=f*S/A,this.height=p*A/S;break}}const{lastPoint:g}=d(this,Ui);x(this,Mu,[(g[0]-c)/f,(g[1]-h)/p])},OR=function(e){const s=(c,h)=>{var f,p;this.color=c,x(this,_a,h),(f=this.parent)==null||f.drawLayer.updateProperties(d(this,cs),{root:{fill:c,"fill-opacity":h}}),(p=d(this,Cu))==null||p.updateColor(c)},a=this.color,l=d(this,_a);this.addCommands({cmd:s.bind(this,e,Yt._defaultOpacity),undo:s.bind(this,a,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},kR=function(e){const s=d(this,ks),a=l=>{x(this,ks,l),_(this,Tt,PR).call(this,l)};this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},PR=function(e){if(!d(this,si))return;_(this,Tt,ug).call(this,{highlightOutlines:d(this,Os).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,a]=this.parentDimensions;this.setDims(this.width*s,this.height*a)},fA=function(){d(this,cs)===null||!this.parent||(this.parent.drawLayer.remove(d(this,cs)),x(this,cs,null),this.parent.drawLayer.remove(d(this,yi)),x(this,yi,null))},bo=function(e=this.parent){d(this,cs)===null&&({id:wi(this,cs)._,clipPathId:wi(this,pl)._}=e.drawLayer.draw({bbox:d(this,Os).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":d(this,_a)},rootClass:{highlight:!0,free:d(this,si)},path:{d:d(this,Os).toSVGPath()}},!1,!0),x(this,yi,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,si)},bbox:d(this,Ui).box,path:{d:d(this,Ui).toSVGPath()}},d(this,si))),d(this,ml)&&(d(this,ml).style.clipPath=d(this,pl)))},Bs=new WeakSet,Tc=function([e,s,a,l],c){switch(c){case 90:return[1-s-l,e,l,a];case 180:return[1-e-a,1-s-l,a,l];case 270:return[s,1-e-a,l,a]}return[e,s,a,l]},jR=function(e){Yt._keyboardManager.exec(this,e)},hg=function(e){if(!d(this,_u))return;const s=window.getSelection();e?s.setPosition(d(this,_u),d(this,Zf)):s.setPosition(d(this,Jf),d(this,tp))},ud=function(){return d(this,si)?this.rotation:0},IR=function(){if(d(this,si))return null;const[e,s]=this.pageDimensions,[a,l]=this.pageTranslation,c=d(this,Ea),h=new Float32Array(c.length*8);let f=0;for(const{x:p,y:g,width:b,height:v}of c){const A=p*e+a,S=(1-g)*s+l;h[f]=h[f+4]=A,h[f+1]=h[f+3]=S,h[f+2]=h[f+6]=A+b*e,h[f+5]=h[f+7]=S-v*s,f+=8}return h},BR=function(e){return d(this,Os).serialize(e,_(this,Tt,ud).call(this))},FR=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},zR=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},VR=function(e){const{color:s}=this._initialData;return e.color.some((a,l)=>a!==s[l])},E(Yt,Bs),gt(Yt,"_defaultColor",null),gt(Yt,"_defaultOpacity",1),gt(Yt,"_defaultThickness",12),gt(Yt,"_type","highlight"),gt(Yt,"_editorType",Ct.HIGHLIGHT),gt(Yt,"_freeHighlightId",-1),gt(Yt,"_freeHighlight",null),gt(Yt,"_freeHighlightClipId","");let Rg=Yt;var gl;class FI{constructor(){E(this,gl,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,s]of Object.entries(t))this.updateProperty(e,s)}updateSVGProperty(t,e){d(this,gl)[t]=e}toSVGProperties(){const t=d(this,gl);return x(this,gl,Object.create(null)),{root:t}}reset(){x(this,gl,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){ae("Not implemented")}}gl=new WeakMap;var us,Du,$e,yl,bl,Or,kr,Pr,vl,Vt,mA,gA,yA,hd,HR,dg,dd,Ec;const rt=class rt extends be{constructor(e){super(e);E(this,Vt);E(this,us,null);E(this,Du);gt(this,"_drawId",null);x(this,Du,e.mustBeCommitted||!1),e.drawOutlines&&(_(this,Vt,mA).call(this,e),_(this,Vt,hd).call(this))}static _mergeSVGProperties(e,s){const a=new Set(Object.keys(e));for(const[l,c]of Object.entries(s))a.has(l)?Object.assign(e[l],c):e[l]=c;return e}static getDefaultDrawingOptions(e){ae("Not implemented")}static get typesMap(){ae("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,s){const a=this.typesMap.get(e);a&&this._defaultDrawingOptions.updateProperty(a,s),this._currentParent&&(d(rt,$e).updateProperty(a,s),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,s){const a=this.constructor.typesMap.get(e);a&&this._updateProperty(e,a,s)}static get defaultPropertiesToUpdate(){const e=[],s=this._defaultDrawingOptions;for(const[a,l]of this.typesMap)e.push([a,s[l]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:s}=this;for(const[a,l]of this.constructor.typesMap)e.push([a,s[l]]);return e}_updateProperty(e,s,a){const l=this._drawingOptions,c=l[s],h=f=>{var g;l.updateProperty(s,f);const p=d(this,us).updateProperty(s,f);p&&_(this,Vt,dd).call(this,p),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,l.toSVGProperties())};this.addCommands({cmd:h.bind(this,a),undo:h.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,rt._mergeSVGProperties(d(this,us).getPathResizingSVGProperties(_(this,Vt,dg).call(this)),{bbox:_(this,Vt,Ec).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,rt._mergeSVGProperties(d(this,us).getPathResizedSVGProperties(_(this,Vt,dg).call(this)),{bbox:_(this,Vt,Ec).call(this)}))}_onTranslating(e,s){var a;(a=this.parent)==null||a.drawLayer.updateProperties(this._drawId,{bbox:_(this,Vt,Ec).call(this,e,s)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,rt._mergeSVGProperties(d(this,us).getPathTranslatedSVGProperties(_(this,Vt,dg).call(this),this.parentDimensions),{bbox:_(this,Vt,Ec).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,Du)&&(x(this,Du,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){_(this,Vt,yA).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Vt,hd).call(this),_(this,Vt,dd).call(this,d(this,us).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let s=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),_(this,Vt,yA).call(this)):e&&(this._uiManager.addShouldRescale(this),_(this,Vt,hd).call(this,e),s=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),s&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,rt._mergeSVGProperties({bbox:_(this,Vt,Ec).call(this)},d(this,us).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&_(this,Vt,dd).call(this,d(this,us).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const e=super.render();e.classList.add("draw");const s=document.createElement("div");e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),this._uiManager.addShouldRescale(this),this.disableEditing(),e}static createDrawerInstance(e,s,a,l,c){ae("Not implemented")}static startDrawing(e,s,a,l){var D;const{target:c,offsetX:h,offsetY:f,pointerId:p,pointerType:g}=l;if(d(rt,kr)&&d(rt,kr)!==g)return;const{viewport:{rotation:b}}=e,{width:v,height:A}=c.getBoundingClientRect(),S=x(rt,yl,new AbortController),T=e.combinedSignal(S);if(d(rt,Or)||x(rt,Or,p),d(rt,kr)??x(rt,kr,g),window.addEventListener("pointerup",R=>{var L;d(rt,Or)===R.pointerId?this._endDraw(R):(L=d(rt,Pr))==null||L.delete(R.pointerId)},{signal:T}),window.addEventListener("pointercancel",R=>{var L;d(rt,Or)===R.pointerId?this._currentParent.endDrawingSession():(L=d(rt,Pr))==null||L.delete(R.pointerId)},{signal:T}),window.addEventListener("pointerdown",R=>{d(rt,kr)===R.pointerType&&((d(rt,Pr)||x(rt,Pr,new Set)).add(R.pointerId),d(rt,$e).isCancellable()&&(d(rt,$e).removeLastElement(),d(rt,$e).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:T}),window.addEventListener("contextmenu",ln,{signal:T}),c.addEventListener("pointermove",this._drawMove.bind(this),{signal:T}),c.addEventListener("touchmove",R=>{R.timeStamp===d(rt,vl)&&ms(R)},{signal:T}),e.toggleDrawing(),(D=s._editorUndoBar)==null||D.hide(),d(rt,$e)){e.drawLayer.updateProperties(this._currentDrawId,d(rt,$e).startNew(h,f,v,A,b));return}s.updateUIForDefaultProperties(this),x(rt,$e,this.createDrawerInstance(h,f,v,A,b)),x(rt,bl,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(d(rt,bl).toSVGProperties(),d(rt,$e).defaultSVGProperties),!0,!1)}static _drawMove(e){var c;if(x(rt,vl,-1),!d(rt,$e))return;const{offsetX:s,offsetY:a,pointerId:l}=e;if(d(rt,Or)===l){if(((c=d(rt,Pr))==null?void 0:c.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(rt,$e).add(s,a)),x(rt,vl,e.timeStamp),ms(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,x(rt,$e,null),x(rt,bl,null),x(rt,kr,null),x(rt,vl,NaN)),d(rt,yl)&&(d(rt,yl).abort(),x(rt,yl,null),x(rt,Or,NaN),x(rt,Pr,null))}static _endDraw(e){const s=this._currentParent;if(s){if(s.toggleDrawing(!0),this._cleanup(!1),e&&s.drawLayer.updateProperties(this._currentDrawId,d(rt,$e).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const a=d(rt,$e),l=this._currentDrawId,c=a.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(l,a.setLastElement(c))},undo:()=>{s.drawLayer.updateProperties(l,a.removeLastElement())},mustExec:!1,type:Bt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const s=this._currentParent;if(!s)return null;if(s.toggleDrawing(!0),s.cleanUndoStack(Bt.DRAW_STEP),!d(rt,$e).isEmpty()){const{pageDimensions:[a,l],scale:c}=s,h=s.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(rt,$e).getOutlines(a*c,l*c,c,this._INNER_MARGIN),drawingOptions:d(rt,bl),mustBeCommitted:!e});return this._cleanup(!0),h}return s.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,s,a,l,c,h){ae("Not implemented")}static async deserialize(e,s,a){var b,v;const{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:f}}=s.viewport,p=this.deserializeDraw(h,f,l,c,this._INNER_MARGIN,e),g=await super.deserialize(e,s,a);return g.createDrawingOptions(e),_(b=g,Vt,mA).call(b,{drawOutlines:p}),_(v=g,Vt,hd).call(v),g.onScaleChanging(),g.rotate(),g}serializeDraw(e){const[s,a]=this.pageTranslation,[l,c]=this.pageDimensions;return d(this,us).serialize([s,a,l,c],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};us=new WeakMap,Du=new WeakMap,$e=new WeakMap,yl=new WeakMap,bl=new WeakMap,Or=new WeakMap,kr=new WeakMap,Pr=new WeakMap,vl=new WeakMap,Vt=new WeakSet,mA=function({drawOutlines:e,drawId:s,drawingOptions:a}){x(this,us,e),this._drawingOptions||(this._drawingOptions=a),s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,e.defaultProperties)):this._drawId=_(this,Vt,gA).call(this,e,this.parent),_(this,Vt,dd).call(this,e.box)},gA=function(e,s){const{id:a}=s.drawLayer.draw(rt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return a},yA=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},hd=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=_(this,Vt,gA).call(this,d(this,us),e)}},HR=function([e,s,a,l]){const{parentDimensions:[c,h],rotation:f}=this;switch(f){case 90:return[s,1-e,a*(h/c),l*(c/h)];case 180:return[1-e,1-s,a,l];case 270:return[1-s,e,a*(h/c),l*(c/h)];default:return[e,s,a,l]}},dg=function(){const{x:e,y:s,width:a,height:l,parentDimensions:[c,h],rotation:f}=this;switch(f){case 90:return[1-s,e,a*(c/h),l*(h/c)];case 180:return[1-e,1-s,a,l];case 270:return[s,1-e,a*(c/h),l*(h/c)];default:return[e,s,a,l]}},dd=function(e){if([this.x,this.y,this.width,this.height]=_(this,Vt,HR).call(this,e),this.div){this.fixAndSetPosition();const[s,a]=this.parentDimensions;this.setDims(this.width*s,this.height*a)}this._onResized()},Ec=function(){const{x:e,y:s,width:a,height:l,rotation:c,parentRotation:h,parentDimensions:[f,p]}=this;switch((c*4+h)/90){case 1:return[1-s-l,e,l,a];case 2:return[1-e-a,1-s-l,a,l];case 3:return[s,1-e-a,l,a];case 4:return[e,s-a*(f/p),l*(p/f),a*(f/p)];case 5:return[1-s,e,a*(f/p),l*(p/f)];case 6:return[1-e-l*(p/f),1-s,l*(p/f),a*(f/p)];case 7:return[s-a*(f/p),1-e-l*(p/f),a*(f/p),l*(p/f)];case 8:return[e-a,s-l,a,l];case 9:return[1-s,e-a,l,a];case 10:return[1-e,1-s,a,l];case 11:return[s-l,1-e,l,a];case 12:return[e-l*(p/f),s,l*(p/f),a*(f/p)];case 13:return[1-s-a*(f/p),e-l*(p/f),a*(f/p),l*(p/f)];case 14:return[1-e,1-s-a*(f/p),l*(p/f),a*(f/p)];case 15:return[s,1-e,a*(f/p),l*(p/f)];default:return[e,s,a,l]}},gt(rt,"_currentDrawId",-1),gt(rt,"_currentParent",null),E(rt,$e,null),E(rt,yl,null),E(rt,bl,null),E(rt,Or,NaN),E(rt,kr,null),E(rt,Pr,null),E(rt,vl,NaN),gt(rt,"_INNER_MARGIN",3);let pA=rt;var Dn,We,Qe,Al,Nu,_i,ni,Ps,xl,Sl,wl,Lu,fg;class zI{constructor(t,e,s,a,l,c){E(this,Lu);E(this,Dn,new Float64Array(6));E(this,We);E(this,Qe);E(this,Al);E(this,Nu);E(this,_i);E(this,ni,"");E(this,Ps,0);E(this,xl,new Dg);E(this,Sl);E(this,wl);x(this,Sl,s),x(this,wl,a),x(this,Al,l),x(this,Nu,c),[t,e]=_(this,Lu,fg).call(this,t,e);const h=x(this,We,[NaN,NaN,NaN,NaN,t,e]);x(this,_i,[t,e]),x(this,Qe,[{line:h,points:d(this,_i)}]),d(this,Dn).set(h,0)}updateProperty(t,e){t==="stroke-width"&&x(this,Nu,e)}isEmpty(){return!d(this,Qe)||d(this,Qe).length===0}isCancellable(){return d(this,_i).length<=10}add(t,e){[t,e]=_(this,Lu,fg).call(this,t,e);const[s,a,l,c]=d(this,Dn).subarray(2,6),h=t-l,f=e-c;return Math.hypot(d(this,Sl)*h,d(this,wl)*f)<=2?null:(d(this,_i).push(t,e),isNaN(s)?(d(this,Dn).set([l,c,t,e],2),d(this,We).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(d(this,Dn)[0])&&d(this,We).splice(6,6),d(this,Dn).set([s,a,l,c,t,e],0),d(this,We).push(...at.createBezierPoints(s,a,l,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const s=this.add(t,e);return s||(d(this,_i).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,s,a,l){x(this,Sl,s),x(this,wl,a),x(this,Al,l),[t,e]=_(this,Lu,fg).call(this,t,e);const c=x(this,We,[NaN,NaN,NaN,NaN,t,e]);x(this,_i,[t,e]);const h=d(this,Qe).at(-1);return h&&(h.line=new Float32Array(h.line),h.points=new Float32Array(h.points)),d(this,Qe).push({line:c,points:d(this,_i)}),d(this,Dn).set(c,0),x(this,Ps,0),this.toSVGPath(),null}getLastElement(){return d(this,Qe).at(-1)}setLastElement(t){return d(this,Qe)?(d(this,Qe).push(t),x(this,We,t.line),x(this,_i,t.points),x(this,Ps,0),{path:{d:this.toSVGPath()}}):d(this,xl).setLastElement(t)}removeLastElement(){if(!d(this,Qe))return d(this,xl).removeLastElement();d(this,Qe).pop(),x(this,ni,"");for(let t=0,e=d(this,Qe).length;t<e;t++){const{line:s,points:a}=d(this,Qe)[t];x(this,We,s),x(this,_i,a),x(this,Ps,0),this.toSVGPath()}return{path:{d:d(this,ni)}}}toSVGPath(){const t=at.svgRound(d(this,We)[4]),e=at.svgRound(d(this,We)[5]);if(d(this,_i).length===2)return x(this,ni,`${d(this,ni)} M ${t} ${e} Z`),d(this,ni);if(d(this,_i).length<=6){const a=d(this,ni).lastIndexOf("M");x(this,ni,`${d(this,ni).slice(0,a)} M ${t} ${e}`),x(this,Ps,6)}if(d(this,_i).length===4){const a=at.svgRound(d(this,We)[10]),l=at.svgRound(d(this,We)[11]);return x(this,ni,`${d(this,ni)} L ${a} ${l}`),x(this,Ps,12),d(this,ni)}const s=[];d(this,Ps)===0&&(s.push(`M ${t} ${e}`),x(this,Ps,6));for(let a=d(this,Ps),l=d(this,We).length;a<l;a+=6){const[c,h,f,p,g,b]=d(this,We).slice(a,a+6).map(at.svgRound);s.push(`C${c} ${h} ${f} ${p} ${g} ${b}`)}return x(this,ni,d(this,ni)+s.join(" ")),x(this,Ps,d(this,We).length),d(this,ni)}getOutlines(t,e,s,a){const l=d(this,Qe).at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),d(this,xl).build(d(this,Qe),t,e,s,d(this,Al),d(this,Nu),a),x(this,Dn,null),x(this,We,null),x(this,Qe,null),x(this,ni,null),d(this,xl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Dn=new WeakMap,We=new WeakMap,Qe=new WeakMap,Al=new WeakMap,Nu=new WeakMap,_i=new WeakMap,ni=new WeakMap,Ps=new WeakMap,xl=new WeakMap,Sl=new WeakMap,wl=new WeakMap,Lu=new WeakSet,fg=function(t,e){return at._normalizePoint(t,e,d(this,Sl),d(this,wl),d(this,Al))};var Ci,ip,sp,hs,Nn,Ln,Ou,ku,Pu,oi,sa,UR,GR,qR;const wx=class wx extends at{constructor(){super(...arguments);E(this,oi);E(this,Ci);E(this,ip,0);E(this,sp);E(this,hs);E(this,Nn);E(this,Ln);E(this,Ou);E(this,ku);E(this,Pu)}build(e,s,a,l,c,h,f){x(this,Nn,s),x(this,Ln,a),x(this,Ou,l),x(this,ku,c),x(this,Pu,h),x(this,sp,f??0),x(this,hs,e),_(this,oi,GR).call(this)}setLastElement(e){return d(this,hs).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,hs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:s}of d(this,hs)){if(e.push(`M${at.svgRound(s[4])} ${at.svgRound(s[5])}`),s.length===6){e.push("Z");continue}if(s.length===12){e.push(`L${at.svgRound(s[10])} ${at.svgRound(s[11])}`);continue}for(let a=6,l=s.length;a<l;a+=6){const[c,h,f,p,g,b]=s.subarray(a,a+6).map(at.svgRound);e.push(`C${c} ${h} ${f} ${p} ${g} ${b}`)}}return e.join("")}serialize([e,s,a,l],c){const h=[],f=[],[p,g,b,v]=_(this,oi,UR).call(this);let A,S,T,D,R,L,N,j,P;switch(d(this,ku)){case 0:P=at._rescale,A=e,S=s+l,T=a,D=-l,R=e+p*a,L=s+(1-g-v)*l,N=e+(p+b)*a,j=s+(1-g)*l;break;case 90:P=at._rescaleAndSwap,A=e,S=s,T=a,D=l,R=e+g*a,L=s+p*l,N=e+(g+v)*a,j=s+(p+b)*l;break;case 180:P=at._rescale,A=e+a,S=s,T=-a,D=l,R=e+(1-p-b)*a,L=s+g*l,N=e+(1-p)*a,j=s+(g+v)*l;break;case 270:P=at._rescaleAndSwap,A=e+a,S=s+l,T=-a,D=-l,R=e+(1-g-v)*a,L=s+(1-p-b)*l,N=e+(1-g)*a,j=s+(1-p)*l;break}for(const{line:U,points:q}of d(this,hs))h.push(P(U,A,S,T,D,c?new Array(U.length):null)),f.push(P(q,A,S,T,D,c?new Array(q.length):null));return{lines:h,points:f,rect:[R,L,N,j]}}static deserialize(e,s,a,l,c,{paths:{lines:h,points:f},rotation:p,thickness:g}){const b=[];let v,A,S,T,D;switch(p){case 0:D=at._rescale,v=-e/a,A=s/l+1,S=1/a,T=-1/l;break;case 90:D=at._rescaleAndSwap,v=-s/l,A=-e/a,S=1/l,T=1/a;break;case 180:D=at._rescale,v=e/a+1,A=-s/l,S=-1/a,T=1/l;break;case 270:D=at._rescaleAndSwap,v=s/l+1,A=e/a+1,S=-1/l,T=-1/a;break}if(!h){h=[];for(const L of f){const N=L.length;if(N===2){h.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1]]));continue}if(N===4){h.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1],NaN,NaN,NaN,NaN,L[2],L[3]]));continue}const j=new Float32Array(3*(N-2));h.push(j);let[P,U,q,$]=L.subarray(0,4);j.set([NaN,NaN,NaN,NaN,P,U],0);for(let tt=4;tt<N;tt+=2){const ft=L[tt],ot=L[tt+1];j.set(at.createBezierPoints(P,U,q,$,ft,ot),(tt-2)*3),[P,U,q,$]=[q,$,ft,ot]}}}for(let L=0,N=h.length;L<N;L++)b.push({line:D(h[L].map(j=>j??NaN),v,A,S,T),points:D(f[L].map(j=>j??NaN),v,A,S,T)});const R=new wx;return R.build(b,a,l,1,p,g,c),R}get box(){return d(this,Ci)}updateProperty(e,s){return e==="stroke-width"?_(this,oi,qR).call(this,s):null}updateParentDimensions([e,s],a){const[l,c]=_(this,oi,sa).call(this);x(this,Nn,e),x(this,Ln,s),x(this,Ou,a);const[h,f]=_(this,oi,sa).call(this),p=h-l,g=f-c,b=d(this,Ci);return b[0]-=p,b[1]-=g,b[2]+=2*p,b[3]+=2*g,b}updateRotation(e){return x(this,ip,e),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,Ci).map(at.svgRound).join(" ")}get defaultProperties(){const[e,s]=d(this,Ci);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`}}}get rotationTransform(){const[,,e,s]=d(this,Ci);let a=0,l=0,c=0,h=0,f=0,p=0;switch(d(this,ip)){case 90:l=s/e,c=-e/s,f=e;break;case 180:a=-1,h=-1,f=e,p=s;break;case 270:l=-s/e,c=e/s,p=s;break;default:return""}return`matrix(${a} ${l} ${c} ${h} ${at.svgRound(f)} ${at.svgRound(p)})`}getPathResizingSVGProperties([e,s,a,l]){const[c,h]=_(this,oi,sa).call(this),[f,p,g,b]=d(this,Ci);if(Math.abs(g-c)<=at.PRECISION||Math.abs(b-h)<=at.PRECISION){const D=e+a/2-(f+g/2),R=s+l/2-(p+b/2);return{path:{"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`,transform:`${this.rotationTransform} translate(${D} ${R})`}}}const v=(a-2*c)/(g-2*c),A=(l-2*h)/(b-2*h),S=g/a,T=b/l;return{path:{"transform-origin":`${at.svgRound(f)} ${at.svgRound(p)}`,transform:`${this.rotationTransform} scale(${S} ${T}) translate(${at.svgRound(c)} ${at.svgRound(h)}) scale(${v} ${A}) translate(${at.svgRound(-c)} ${at.svgRound(-h)})`}}}getPathResizedSVGProperties([e,s,a,l]){const[c,h]=_(this,oi,sa).call(this),f=d(this,Ci),[p,g,b,v]=f;if(f[0]=e,f[1]=s,f[2]=a,f[3]=l,Math.abs(b-c)<=at.PRECISION||Math.abs(v-h)<=at.PRECISION){const R=e+a/2-(p+b/2),L=s+l/2-(g+v/2);for(const{line:N,points:j}of d(this,hs))at._translate(N,R,L,N),at._translate(j,R,L,j);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const A=(a-2*c)/(b-2*c),S=(l-2*h)/(v-2*h),T=-A*(p+c)+e+c,D=-S*(g+h)+s+h;if(A!==1||S!==1||T!==0||D!==0)for(const{line:R,points:L}of d(this,hs))at._rescale(R,T,D,A,S,R),at._rescale(L,T,D,A,S,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,s],a){const[l,c]=a,h=d(this,Ci),f=e-h[0],p=s-h[1];if(d(this,Nn)===l&&d(this,Ln)===c)for(const{line:g,points:b}of d(this,hs))at._translate(g,f,p,g),at._translate(b,f,p,b);else{const g=d(this,Nn)/l,b=d(this,Ln)/c;x(this,Nn,l),x(this,Ln,c);for(const{line:v,points:A}of d(this,hs))at._rescale(v,f,p,g,b,v),at._rescale(A,f,p,g,b,A);h[2]*=g,h[3]*=b}return h[0]=e,h[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${at.svgRound(e)} ${at.svgRound(s)}`}}}get defaultSVGProperties(){const e=d(this,Ci);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${at.svgRound(e[0])} ${at.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}};Ci=new WeakMap,ip=new WeakMap,sp=new WeakMap,hs=new WeakMap,Nn=new WeakMap,Ln=new WeakMap,Ou=new WeakMap,ku=new WeakMap,Pu=new WeakMap,oi=new WeakSet,sa=function(e=d(this,Pu)){const s=d(this,sp)+e/2*d(this,Ou);return d(this,ku)%180===0?[s/d(this,Nn),s/d(this,Ln)]:[s/d(this,Ln),s/d(this,Nn)]},UR=function(){const[e,s,a,l]=d(this,Ci),[c,h]=_(this,oi,sa).call(this,0);return[e+c,s+h,a-2*c,l-2*h]},GR=function(){const e=x(this,Ci,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:l}of d(this,hs)){if(l.length<=12){for(let f=4,p=l.length;f<p;f+=6){const[g,b]=l.subarray(f,f+2);e[0]=Math.min(e[0],g),e[1]=Math.min(e[1],b),e[2]=Math.max(e[2],g),e[3]=Math.max(e[3],b)}continue}let c=l[4],h=l[5];for(let f=6,p=l.length;f<p;f+=6){const[g,b,v,A,S,T]=l.subarray(f,f+6);dt.bezierBoundingBox(c,h,g,b,v,A,S,T,e),c=S,h=T}}const[s,a]=_(this,oi,sa).call(this);e[0]=Math.min(1,Math.max(0,e[0]-s)),e[1]=Math.min(1,Math.max(0,e[1]-a)),e[2]=Math.min(1,Math.max(0,e[2]+s)),e[3]=Math.min(1,Math.max(0,e[3]+a)),e[2]-=e[0],e[3]-=e[1]},qR=function(e){const[s,a]=_(this,oi,sa).call(this);x(this,Pu,e);const[l,c]=_(this,oi,sa).call(this),[h,f]=[l-s,c-a],p=d(this,Ci);return p[0]-=h,p[1]-=f,p[2]+=2*h,p[3]+=2*f,p};let Dg=wx;var ju;const Tx=class Tx extends FI{constructor(e){super();E(this,ju);x(this,ju,e),super.updateProperties({fill:"none",stroke:be._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,s){e==="stroke-width"&&(s??(s=this["stroke-width"]),s*=d(this,ju).realScale),super.updateSVGProperty(e,s)}clone(){const e=new Tx(d(this,ju));return e.updateAll(this),e}};ju=new WeakMap;let bA=Tx;var Kg,XR;const Lc=class Lc extends pA{constructor(e){super({...e,name:"inkEditor"});E(this,Kg);this._willKeepAspectRatio=!0}static initialize(e,s){be.initialize(e,s),this._defaultDrawingOptions=new bA(s.viewParameters)}static getDefaultDrawingOptions(e){const s=this._defaultDrawingOptions.clone();return s.updateProperties(e),s}static get supportMultipleDrawings(){return!0}static get typesMap(){return Pt(this,"typesMap",new Map([[Bt.INK_THICKNESS,"stroke-width"],[Bt.INK_COLOR,"stroke"],[Bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,s,a,l,c){return new zI(e,s,a,l,c,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,s,a,l,c,h){return Dg.deserialize(e,s,a,l,c,h)}static async deserialize(e,s,a){let l=null;if(e instanceof bx){const{data:{inkLists:h,rect:f,rotation:p,id:g,color:b,opacity:v,borderStyle:{rawWidth:A},popupRef:S},parent:{page:{pageNumber:T}}}=e;l=e={annotationType:Ct.INK,color:Array.from(b),thickness:A,opacity:v,paths:{points:h},boxes:null,pageIndex:T-1,rect:f.slice(0),rotation:p,id:g,deleted:!1,popupRef:S}}const c=await super.deserialize(e,s,a);return c.annotationElementId=e.id||null,c._initialData=l,c}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:s,parent:a}=this;s.updateSVGProperty("stroke-width"),a.drawLayer.updateProperties(e,s.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:s,opacity:a}){this._drawingOptions=Lc.getDefaultDrawingOptions({stroke:dt.makeHexColor(...e),"stroke-width":s,"stroke-opacity":a})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:s,points:a,rect:l}=this.serializeDraw(e),{_drawingOptions:{stroke:c,"stroke-opacity":h,"stroke-width":f}}=this,p={annotationType:Ct.INK,color:be._colorManager.convert(c),opacity:h,thickness:f,paths:{lines:s,points:a},pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?p:this.annotationElementId&&!_(this,Kg,XR).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(e){const{points:s,rect:a}=this.serializeDraw(!1);return e.updateEdited({rect:a,thickness:this._drawingOptions["stroke-width"],points:s}),null}};Kg=new WeakSet,XR=function(e){const{color:s,thickness:a,opacity:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((h,f)=>h!==s[f])||e.thickness!==a||e.opacity!==l||e.pageIndex!==c},gt(Lc,"_type","ink"),gt(Lc,"_editorType",Ct.INK),gt(Lc,"_defaultDrawingOptions",null);let vA=Lc;var ge,ai,jr,Ca,Ir,Iu,On,kn,ds,Bu,Ut,fd,pd,pg,xA,mg,SA,gg,YR;const xd=class xd extends be{constructor(e){super({...e,name:"stampEditor"});E(this,Ut);E(this,ge,null);E(this,ai,null);E(this,jr,null);E(this,Ca,null);E(this,Ir,null);E(this,Iu,"");E(this,On,null);E(this,kn,null);E(this,ds,!1);E(this,Bu,!1);x(this,Ca,e.bitmapUrl),x(this,Ir,e.bitmapFile)}static initialize(e,s){be.initialize(e,s)}static get supportedTypes(){return Pt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Pt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Ct.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:h}=e||this.copyCanvas(null,null,!0).imageData,f=await a.guess({name:"altText",request:{data:l,width:c,height:h,channels:l.length/(c*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),s&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e;d(this,ai)&&(x(this,ge,null),this._uiManager.imageManager.deleteId(d(this,ai)),(e=d(this,On))==null||e.remove(),x(this,On,null),d(this,kn)&&(clearTimeout(d(this,kn)),x(this,kn,null))),super.remove()}rebuild(){if(!this.parent){d(this,ai)&&_(this,Ut,pg).call(this);return}super.rebuild(),this.div!==null&&(d(this,ai)&&d(this,On)===null&&_(this,Ut,pg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(d(this,jr)||d(this,ge)||d(this,Ca)||d(this,Ir)||d(this,ai))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,ge)?_(this,Ut,xA).call(this):_(this,Ut,pg).call(this),this.width&&!this.annotationElementId){const[a,l]=this.parentDimensions;this.setAt(e*a,s*l,this.width*a,this.height*l)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,kn)!==null&&clearTimeout(d(this,kn)),x(this,kn,setTimeout(()=>{x(this,kn,null),_(this,Ut,SA).call(this)},200))}copyCanvas(e,s,a=!1){var A;e||(e=224);const{width:l,height:c}=d(this,ge),h=new bv;let f=d(this,ge),p=l,g=c,b=null;if(s){if(l>s||c>s){const $=Math.min(s/l,s/c);p=Math.floor(l*$),g=Math.floor(c*$)}b=document.createElement("canvas");const S=b.width=Math.ceil(p*h.sx),T=b.height=Math.ceil(g*h.sy);d(this,ds)||(f=_(this,Ut,mg).call(this,S,T));const D=b.getContext("2d");D.filter=this._uiManager.hcmFilter;let R="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(R="#8f8f9d",L="#42414d");const N=15,j=N*h.sx,P=N*h.sy,U=new OffscreenCanvas(j*2,P*2),q=U.getContext("2d");q.fillStyle=R,q.fillRect(0,0,j*2,P*2),q.fillStyle=L,q.fillRect(0,0,j,P),q.fillRect(j,P,j,P),D.fillStyle=D.createPattern(U,"repeat"),D.fillRect(0,0,S,T),D.drawImage(f,0,0,f.width,f.height,0,0,S,T)}let v=null;if(a){let S,T;if(h.symmetric&&f.width<e&&f.height<e)S=f.width,T=f.height;else if(f=d(this,ge),l>e||c>e){const L=Math.min(e/l,e/c);S=Math.floor(l*L),T=Math.floor(c*L),d(this,ds)||(f=_(this,Ut,mg).call(this,S,T))}const R=new OffscreenCanvas(S,T).getContext("2d",{willReadFrequently:!0});R.drawImage(f,0,0,f.width,f.height,0,0,S,T),v={width:S,height:T,data:R.getImageData(0,0,S,T).data}}return{canvas:b,width:p,height:g,imageData:v}}getImageForAltText(){return d(this,On)}static async deserialize(e,s,a){var T;let l=null;if(e instanceof pR){const{data:{rect:D,rotation:R,id:L,structParent:N,popupRef:j},container:P,parent:{page:{pageNumber:U}}}=e,q=P.querySelector("canvas"),$=a.imageManager.getFromCanvas(P.id,q);q.remove();const tt=((T=await s._structTree.getAriaAttributes(`${ux}${L}`))==null?void 0:T.get("aria-label"))||"";l=e={annotationType:Ct.STAMP,bitmapId:$.id,bitmap:$.bitmap,pageIndex:U-1,rect:D.slice(0),rotation:R,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:N,popupRef:j}}const c=await super.deserialize(e,s,a),{rect:h,bitmap:f,bitmapUrl:p,bitmapId:g,isSvg:b,accessibilityData:v}=e;g&&a.imageManager.isValidId(g)?(x(c,ai,g),f&&x(c,ge,f)):x(c,Ca,p),x(c,ds,b);const[A,S]=c.pageDimensions;return c.width=(h[2]-h[0])/A,c.height=(h[3]-h[1])/S,c.annotationElementId=e.id||null,v&&(c.altTextData=v),c._initialData=l,x(c,Bu,!!l),c}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a={annotationType:Ct.STAMP,bitmapId:d(this,ai),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,ds),structTreeParentId:this._structTreeParentId};if(e)return a.bitmapUrl=_(this,Ut,gg).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(a.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=_(this,Ut,YR).call(this,a);if(f.isSame)return null;f.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1}if(a.id=this.annotationElementId,s===null)return a;s.stamps||(s.stamps=new Map);const h=d(this,ds)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!s.stamps.has(d(this,ai)))s.stamps.set(d(this,ai),{area:h,serialized:a}),a.bitmap=_(this,Ut,gg).call(this,!1);else if(d(this,ds)){const f=s.stamps.get(d(this,ai));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=_(this,Ut,gg).call(this,!1))}return a}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ge=new WeakMap,ai=new WeakMap,jr=new WeakMap,Ca=new WeakMap,Ir=new WeakMap,Iu=new WeakMap,On=new WeakMap,kn=new WeakMap,ds=new WeakMap,Bu=new WeakMap,Ut=new WeakSet,fd=function(e,s=!1){if(!e){this.remove();return}x(this,ge,e.bitmap),s||(x(this,ai,e.id),x(this,ds,e.isSvg)),e.file&&x(this,Iu,e.file.name),_(this,Ut,xA).call(this)},pd=function(){if(x(this,jr,null),this._uiManager.enableWaiting(!1),!!d(this,On)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ge)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ge)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},pg=function(){if(d(this,ai)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,ai)).then(a=>_(this,Ut,fd).call(this,a,!0)).finally(()=>_(this,Ut,pd).call(this));return}if(d(this,Ca)){const a=d(this,Ca);x(this,Ca,null),this._uiManager.enableWaiting(!0),x(this,jr,this._uiManager.imageManager.getFromUrl(a).then(l=>_(this,Ut,fd).call(this,l)).finally(()=>_(this,Ut,pd).call(this)));return}if(d(this,Ir)){const a=d(this,Ir);x(this,Ir,null),this._uiManager.enableWaiting(!0),x(this,jr,this._uiManager.imageManager.getFromFile(a).then(l=>_(this,Ut,fd).call(this,l)).finally(()=>_(this,Ut,pd).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=xd.supportedTypesStr;const s=this._uiManager._signal;x(this,jr,new Promise(a=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,Ut,fd).call(this,l)}a()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),a()},{signal:s})}).finally(()=>_(this,Ut,pd).call(this))),e.click()},xA=function(){var b;const{div:e}=this;let{width:s,height:a}=d(this,ge);const[l,c]=this.pageDimensions,h=.75;if(this.width)s=this.width*l,a=this.height*c;else if(s>h*l||a>h*c){const v=Math.min(h*l/s,h*c/a);s*=v,a*=v}const[f,p]=this.parentDimensions;this.setDims(s*f/l,a*p/c),this._uiManager.enableWaiting(!1);const g=x(this,On,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=s/l,this.height=a/c,(b=this._initialOptions)!=null&&b.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),_(this,Ut,SA).call(this),d(this,Bu)||(this.parent.addUndoableEditor(this),x(this,Bu,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Iu)&&g.setAttribute("aria-label",d(this,Iu))},mg=function(e,s){const{width:a,height:l}=d(this,ge);let c=a,h=l,f=d(this,ge);for(;c>2*e||h>2*s;){const p=c,g=h;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*s&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const b=new OffscreenCanvas(c,h);b.getContext("2d").drawImage(f,0,0,p,g,0,0,c,h),f=b.transferToImageBitmap()}return f},SA=function(){const[e,s]=this.parentDimensions,{width:a,height:l}=this,c=new bv,h=Math.ceil(a*e*c.sx),f=Math.ceil(l*s*c.sy),p=d(this,On);if(!p||p.width===h&&p.height===f)return;p.width=h,p.height=f;const g=d(this,ds)?d(this,ge):_(this,Ut,mg).call(this,h,f),b=p.getContext("2d");b.filter=this._uiManager.hcmFilter,b.drawImage(g,0,0,g.width,g.height,0,0,h,f)},gg=function(e){if(e){if(d(this,ds)){const l=this._uiManager.imageManager.getSvgUrl(d(this,ai));if(l)return l}const s=document.createElement("canvas");return{width:s.width,height:s.height}=d(this,ge),s.getContext("2d").drawImage(d(this,ge),0,0),s.toDataURL()}if(d(this,ds)){const[s,a]=this.pageDimensions,l=Math.round(this.width*s*qr.PDF_TO_CSS_UNITS),c=Math.round(this.height*a*qr.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(l,c);return h.getContext("2d").drawImage(d(this,ge),0,0,d(this,ge).width,d(this,ge).height,0,0,l,c),h.transferToImageBitmap()}return structuredClone(d(this,ge))},YR=function(e){var h;const{pageIndex:s,accessibilityData:{altText:a}}=this._initialData,l=e.pageIndex===s,c=(((h=e.accessibilityData)==null?void 0:h.alt)||"")===a;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&l&&c,isSameAltText:c}},gt(xd,"_type","stamp"),gt(xd,"_editorType",Ct.STAMP);let AA=xd;var Tl,Fu,Pn,Br,Ma,js,Fr,zu,El,an,Ra,bi,Da,ut,zr,de,KR,bn,TA,EA,yg;const Xs=class Xs{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:a,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:f,viewport:p,l10n:g}){E(this,de);E(this,Tl);E(this,Fu,!1);E(this,Pn,null);E(this,Br,null);E(this,Ma,null);E(this,js,new Map);E(this,Fr,!1);E(this,zu,!1);E(this,El,!1);E(this,an,null);E(this,Ra,null);E(this,bi,null);E(this,Da,null);E(this,ut);const b=[...d(Xs,zr).values()];if(!Xs._initialized){Xs._initialized=!0;for(const v of b)v.initialize(g,t)}t.registerEditorTypes(b),x(this,ut,t),this.pageIndex=e,this.div=s,x(this,Tl,l),x(this,Pn,c),this.viewport=p,x(this,bi,f),this.drawLayer=h,this._structTree=a,d(this,ut).addLayer(this)}get isEmpty(){return d(this,js).size===0}get isInvisible(){return this.isEmpty&&d(this,ut).getMode()===Ct.NONE}updateToolbar(t){d(this,ut).updateToolbar(t)}updateMode(t=d(this,ut).getMode()){switch(_(this,de,yg).call(this),t){case Ct.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ct.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ct.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of d(Xs,zr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,bi))==null?void 0:e.div)}setEditingState(t){d(this,ut).setEditingState(t)}addCommands(t){d(this,ut).addCommands(t)}cleanUndoStack(t){d(this,ut).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,Pn))==null||e.div.classList.toggle("disabled",!t)}async enable(){x(this,El,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of d(this,js).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(d(this,ut).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!d(this,Pn)){x(this,El,!1);return}const e=d(this,Pn).getEditableAnnotations();for(const s of e){if(s.hide(),d(this,ut).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const a=await this.deserialize(s);a&&(this.addOrRebuild(a),a.enableEditing())}x(this,El,!1)}disable(){var a;x(this,zu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of d(this,js).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(a=this.getEditableAnnotation(l.annotationElementId))==null||a.show(),l.remove()}if(d(this,Pn)){const l=d(this,Pn).getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(d(this,ut).isDeletedAnnotationElement(h))continue;let f=e.get(h);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=t.get(h),f&&(d(this,ut).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}_(this,de,yg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const l of d(Xs,zr).values())s.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(this,zu,!1)}getEditableAnnotation(t){var e;return((e=d(this,Pn))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,ut).getActive()!==t&&d(this,ut).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,bi))!=null&&t.div&&!d(this,Da)){x(this,Da,new AbortController);const e=d(this,ut).combinedSignal(d(this,Da));d(this,bi).div.addEventListener("pointerdown",_(this,de,KR).bind(this),{signal:e}),d(this,bi).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,bi))!=null&&t.div&&d(this,Da)&&(d(this,Da).abort(),x(this,Da,null),d(this,bi).div.classList.remove("highlighting"))}enableClick(){if(d(this,Br))return;x(this,Br,new AbortController);const t=d(this,ut).combinedSignal(d(this,Br));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=d(this,Br))==null||t.abort(),x(this,Br,null)}attach(t){d(this,js).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,ut).isDeletedAnnotationElement(e)&&d(this,ut).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,js).delete(t.id),(e=d(this,Tl))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,zu)&&t.annotationElementId&&d(this,ut).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,ut).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,ut).addDeletedAnnotationElement(t.annotationElementId),be.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,ut).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!d(this,El)),d(this,ut).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,Ma)&&(t._focusEventsAllowed=!1,x(this,Ma,setTimeout(()=>{x(this,Ma,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,ut)._signal}),e.focus())},0))),t._structTreeParentId=(s=d(this,Tl))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return d(this,ut).getId()}combinedSignal(t){return d(this,ut).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,de,bn))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){d(this,ut).updateToolbar(t),d(this,ut).updateMode(t);const{offsetX:s,offsetY:a}=_(this,de,EA).call(this),l=this.getNextId(),c=_(this,de,TA).call(this,{parent:this,id:l,x:s,y:a,uiManager:d(this,ut),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=d(Xs,zr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,ut)))||null}createAndAddNewEditor(t,e,s={}){const a=this.getNextId(),l=_(this,de,TA).call(this,{parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:d(this,ut),isCentered:e,...s});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(_(this,de,EA).call(this),!0)}setSelected(t){d(this,ut).setSelected(t)}toggleSelected(t){d(this,ut).toggleSelected(t)}unselect(t){d(this,ut).unselect(t)}pointerup(t){var s;const{isMac:e}=Di.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&d(this,Fr)&&(x(this,Fr,!1),!((s=d(this,de,bn))!=null&&s.isDrawer&&d(this,de,bn).supportMultipleDrawings))){if(!d(this,Fu)){x(this,Fu,!0);return}if(d(this,ut).getMode()===Ct.STAMP){d(this,ut).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){var a;if(d(this,ut).getMode()===Ct.HIGHLIGHT&&this.enableTextSelection(),d(this,Fr)){x(this,Fr,!1);return}const{isMac:e}=Di.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(x(this,Fr,!0),(a=d(this,de,bn))!=null&&a.isDrawer){this.startDrawingSession(t);return}const s=d(this,ut).getActive();x(this,Fu,!s||s.isEmpty())}startDrawingSession(t){if(this.div.focus(),d(this,an)){d(this,de,bn).startDrawing(this,d(this,ut),!1,t);return}d(this,ut).setCurrentDrawingSession(this),x(this,an,new AbortController);const e=d(this,ut).combinedSignal(d(this,an));this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(x(this,Ra,null),this.commitOrRemove())},{signal:e}),d(this,de,bn).startDrawing(this,d(this,ut),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&x(this,Ra,e);return}d(this,Ra)&&setTimeout(()=>{var e;(e=d(this,Ra))==null||e.focus(),x(this,Ra,null)},0)}endDrawingSession(t=!1){return d(this,an)?(d(this,ut).setCurrentDrawingSession(null),d(this,an).abort(),x(this,an,null),x(this,Ra,null),d(this,de,bn).endDrawing(t)):null}findNewParent(t,e,s){const a=d(this,ut).findParent(e,s);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return d(this,an)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,an)&&d(this,de,bn).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=d(this,ut).getActive())==null?void 0:t.parent)===this&&(d(this,ut).commitOrRemove(),d(this,ut).setActiveEditor(null)),d(this,Ma)&&(clearTimeout(d(this,Ma)),x(this,Ma,null));for(const s of d(this,js).values())(e=d(this,Tl))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,d(this,js).clear(),d(this,ut).removeLayer(this)}render({viewport:t}){this.viewport=t,Rl(this.div,t);for(const e of d(this,ut).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,ut).commitOrRemove(),_(this,de,yg).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Rl(this.div,{rotation:s}),e!==s)for(const a of d(this,js).values())a.rotate(s)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,ut).viewParameters.realScale}};Tl=new WeakMap,Fu=new WeakMap,Pn=new WeakMap,Br=new WeakMap,Ma=new WeakMap,js=new WeakMap,Fr=new WeakMap,zu=new WeakMap,El=new WeakMap,an=new WeakMap,Ra=new WeakMap,bi=new WeakMap,Da=new WeakMap,ut=new WeakMap,zr=new WeakMap,de=new WeakSet,KR=function(t){d(this,ut).unselectAll();const{target:e}=t;if(e===d(this,bi).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,bi).div.contains(e)){const{isMac:s}=Di.platform;if(t.button!==0||t.ctrlKey&&s)return;d(this,ut).showAllEditors("highlight",!0,!0),d(this,bi).div.classList.add("free"),this.toggleDrawing(),Rg.startHighlighting(this,d(this,ut).direction==="ltr",{target:d(this,bi).div,x:t.x,y:t.y}),d(this,bi).div.addEventListener("pointerup",()=>{d(this,bi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,ut)._signal}),t.preventDefault()}},bn=function(){return d(Xs,zr).get(d(this,ut).getMode())},TA=function(t){const e=d(this,de,bn);return e?new e.prototype.constructor(t):null},EA=function(){const{x:t,y:e,width:s,height:a}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,e+a),p=(l+h)/2-t,g=(c+f)/2-e,[b,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:b,offsetY:v}},yg=function(){for(const t of d(this,js).values())t.isEmpty()&&t.remove()},gt(Xs,"_initialized",!1),E(Xs,zr,new Map([nA,vA,AA,Rg].map(t=>[t._editorType,t])));let wA=Xs;var rn,np,Mi,_l,$g,$R,Fn,CA,WR,MA;const pi=class pi{constructor({pageIndex:t}){E(this,Fn);E(this,rn,null);E(this,np,0);E(this,Mi,new Map);E(this,_l,new Map);this.pageIndex=t}setParent(t){if(!d(this,rn)){x(this,rn,t);return}if(d(this,rn)!==t){if(d(this,Mi).size>0)for(const e of d(this,Mi).values())e.remove(),t.append(e);x(this,rn,t)}}static get _svgFactory(){return Pt(this,"_svgFactory",new yx)}draw(t,e=!1,s=!1){const a=wi(this,np)._++,l=_(this,Fn,CA).call(this),c=pi._svgFactory.createElement("defs");l.append(c);const h=pi._svgFactory.createElement("path");c.append(h);const f=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",f),h.setAttribute("vector-effect","non-scaling-stroke"),e&&d(this,_l).set(a,h);const p=s?_(this,Fn,WR).call(this,c,f):null,g=pi._svgFactory.createElement("use");return l.append(g),g.setAttribute("href",`#${f}`),this.updateProperties(l,t),d(this,Mi).set(a,l),{id:a,clipPathId:`url(#${p})`}}drawOutline(t,e){const s=wi(this,np)._++,a=_(this,Fn,CA).call(this),l=pi._svgFactory.createElement("defs");a.append(l);const c=pi._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke");let f;if(e){const b=pi._svgFactory.createElement("mask");l.append(b),f=`mask_p${this.pageIndex}_${s}`,b.setAttribute("id",f),b.setAttribute("maskUnits","objectBoundingBox");const v=pi._svgFactory.createElement("rect");b.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const A=pi._svgFactory.createElement("use");b.append(A),A.setAttribute("href",`#${h}`),A.setAttribute("stroke","none"),A.setAttribute("fill","black"),A.setAttribute("fill-rule","nonzero"),A.classList.add("mask")}const p=pi._svgFactory.createElement("use");a.append(p),p.setAttribute("href",`#${h}`),f&&p.setAttribute("mask",`url(#${f})`);const g=p.cloneNode();return a.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(a,t),d(this,Mi).set(s,a),s}finalizeDraw(t,e){d(this,_l).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var f;if(!e)return;const{root:s,bbox:a,rootClass:l,path:c}=e,h=typeof t=="number"?d(this,Mi).get(t):t;if(h){if(s&&_(this,Fn,MA).call(this,h,s),a&&_(f=pi,$g,$R).call(f,h,a),l){const{classList:p}=h;for(const[g,b]of Object.entries(l))p.toggle(g,b)}if(c){const g=h.firstChild.firstChild;_(this,Fn,MA).call(this,g,c)}}}updateParent(t,e){if(e===this)return;const s=d(this,Mi).get(t);s&&(d(e,rn).append(s),d(this,Mi).delete(t),d(e,Mi).set(t,s))}remove(t){d(this,_l).delete(t),d(this,rn)!==null&&(d(this,Mi).get(t).remove(),d(this,Mi).delete(t))}destroy(){x(this,rn,null);for(const t of d(this,Mi).values())t.remove();d(this,Mi).clear(),d(this,_l).clear()}};rn=new WeakMap,np=new WeakMap,Mi=new WeakMap,_l=new WeakMap,$g=new WeakSet,$R=function(t,[e,s,a,l]){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*e}%`,c.width=`${100*a}%`,c.height=`${100*l}%`},Fn=new WeakSet,CA=function(){const t=pi._svgFactory.create(1,1,!0);return d(this,rn).append(t),t.setAttribute("aria-hidden",!0),t},WR=function(t,e){const s=pi._svgFactory.createElement("clipPath");t.append(s);const a=`clip_${e}`;s.setAttribute("id",a),s.setAttribute("clipPathUnits","objectBoundingBox");const l=pi._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),a},MA=function(t,e){for(const[s,a]of Object.entries(e))a===null?t.removeAttribute(s):t.setAttribute(s,a)},E(pi,$g);let _A=pi;globalThis.pdfjsTestingUtils={HighlightOutliner:rA};xt.AbortException;xt.AnnotationEditorLayer;xt.AnnotationEditorParamsType;xt.AnnotationEditorType;xt.AnnotationEditorUIManager;xt.AnnotationLayer;xt.AnnotationMode;xt.ColorPicker;xt.DOMSVGFactory;xt.DrawLayer;xt.FeatureTest;var h_=xt.GlobalWorkerOptions;xt.ImageKind;xt.InvalidPDFException;xt.MissingPDFException;xt.OPS;xt.OutputScale;xt.PDFDataRangeTransport;xt.PDFDateString;xt.PDFWorker;xt.PasswordResponses;xt.PermissionFlag;xt.PixelsPerInch;xt.RenderingCancelledException;xt.TextLayer;xt.TouchManager;xt.UnexpectedResponseException;xt.Util;xt.VerbosityLevel;xt.XfaLayer;xt.build;xt.createValidAbsoluteUrl;xt.fetchData;var VI=xt.getDocument;xt.getFilenameFromUrl;xt.getPdfFilenameFromUrl;xt.getXfaPageViewport;xt.isDataScheme;xt.isPdfFile;xt.noContextMenu;xt.normalizeUnicode;xt.setLayerDimensions;xt.shadow;xt.stopEvent;xt.version;function HI(r){return new Worker(""+new URL("pdf.worker.min-BRG_qK7b.js",import.meta.url).href,{name:r==null?void 0:r.name})}const Im=""+new URL("odcheo_resume-dUC5u0TD.pdf",import.meta.url).href,Uu={hidden:{},visible:{transition:{staggerChildren:.1,delayChildren:.1}}},Ld={hidden:{opacity:0,y:60},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},UI={hidden:{opacity:0,x:-60},visible:{opacity:1,x:0,transition:{duration:.6,ease:"easeOut"}}},GI={hidden:{opacity:0,x:60},visible:{opacity:1,x:0,transition:{duration:.6,ease:"easeOut"}}},qI={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};function QR(r=.1){const[t,e]=et.useState(!1),[s,a]=et.useState("down"),l=et.useRef(null),c=et.useRef(0);return et.useEffect(()=>{const h=()=>{const p=window.scrollY;p>c.current?a("down"):a("up"),c.current=p},f=new IntersectionObserver(([p])=>{p.isIntersecting?e(!0):e(!1)},{threshold:r,rootMargin:"50px"});return window.addEventListener("scroll",h,{passive:!0}),l.current&&f.observe(l.current),()=>{window.removeEventListener("scroll",h),l.current&&f.unobserve(l.current)}},[r]),[l,t,s]}function Ms({children:r,className:t="",delay:e=0,animation:s="fadeInUp"}){const[a,l]=QR();return M.jsx("div",{ref:a,className:`${t} transition-all duration-700 ease-out ${l?`opacity-100 ${s==="fadeInUp"?"translate-y-0":s==="fadeInLeft"||s==="fadeInRight"?"translate-x-0":s==="scaleIn"?"scale-100":"translate-y-0"}`:`opacity-0 ${s==="fadeInUp"?"translate-y-16":s==="fadeInLeft"?"-translate-x-16":s==="fadeInRight"?"translate-x-16":s==="scaleIn"?"scale-95":"translate-y-16"}`}`,style:{transitionDelay:`${e}ms`},children:r})}function d_({children:r,className:t="",staggerDelay:e=100}){const[s,a]=QR();return M.jsx("div",{ref:s,className:t,children:_N.Children.map(r,(l,c)=>M.jsx("div",{className:`transition-all duration-700 ease-out ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${c*e}ms`},children:l}))})}function XI(){const[r,t]=et.useState({x:0,y:0}),[e,s]=et.useState([]);return et.useEffect(()=>{const a=Array.from({length:30},(f,p)=>({id:p,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*1.5+.5,speedX:(Math.random()-.5)*.3,speedY:(Math.random()-.5)*.3,opacity:Math.random()*.3+.1}));s(a);const l=f=>{t({x:f.clientX,y:f.clientY})},c=()=>{s(f=>f.map(p=>({...p,x:(p.x+p.speedX+window.innerWidth)%window.innerWidth,y:(p.y+p.speedY+window.innerHeight)%window.innerHeight})))};window.addEventListener("mousemove",l);const h=setInterval(c,100);return()=>{window.removeEventListener("mousemove",l),clearInterval(h)}},[]),M.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#111827] via-[#1a202c] to-[#111827]"}),M.jsx("div",{className:"absolute w-80 h-80 rounded-full opacity-5 transition-all duration-700 ease-out",style:{left:r.x-160,top:r.y-160,background:"radial-gradient(circle, rgba(156, 163, 175, 0.15) 0%, transparent 70%)"}}),e.map(a=>M.jsx("div",{className:"absolute w-1 h-1 bg-[#9ca3af] rounded-full",style:{left:a.x,top:a.y,opacity:a.opacity,transform:`scale(${a.size})`}},a.id)),M.jsx("div",{className:"absolute inset-0 opacity-8",children:M.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[M.jsxs("defs",{children:[M.jsxs("pattern",{id:"diagonalGrid",patternUnits:"userSpaceOnUse",width:"60",height:"60",patternTransform:"rotate(45)",children:[M.jsx("path",{d:"M 0,30 l 60,0",stroke:"rgba(156, 163, 175, 0.1)",strokeWidth:"0.5",className:"grid-line"}),M.jsx("path",{d:"M 30,0 l 0,60",stroke:"rgba(156, 163, 175, 0.1)",strokeWidth:"0.5",className:"grid-line"})]}),M.jsxs("pattern",{id:"diagonalGridHover",patternUnits:"userSpaceOnUse",width:"60",height:"60",patternTransform:"rotate(45)",children:[M.jsx("path",{d:"M 0,30 l 60,0",stroke:"rgba(156, 163, 175, 0.25)",strokeWidth:"1",className:"grid-line-hover"}),M.jsx("path",{d:"M 30,0 l 0,60",stroke:"rgba(156, 163, 175, 0.25)",strokeWidth:"1",className:"grid-line-hover"})]})]}),M.jsx("rect",{width:"100%",height:"100%",fill:"url(#diagonalGrid)",className:"grid-base"}),M.jsx("rect",{width:"100%",height:"100%",fill:"url(#diagonalGridHover)",className:"grid-hover opacity-0 transition-opacity duration-300",style:{maskImage:`radial-gradient(300px circle at ${r.x}px ${r.y}px, black 0%, transparent 70%)`,WebkitMaskImage:`radial-gradient(300px circle at ${r.x}px ${r.y}px, black 0%, transparent 70%)`}})]})})]})}function YI(){return M.jsx("div",{className:"fixed inset-0 bg-[#111827] flex items-center justify-center z-50",children:M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("div",{className:"w-3 h-3 bg-[#9ca3af] rounded-full animate-bounce"}),M.jsx("div",{className:"w-3 h-3 bg-[#9ca3af] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),M.jsx("div",{className:"w-3 h-3 bg-[#9ca3af] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}function KI(){const[r,t]=et.useState(!1),[e,s]=et.useState("hero"),[a,l]=et.useState(!1);et.useEffect(()=>{const h=()=>{t(window.scrollY>100)},f=new IntersectionObserver(p=>{p.forEach(g=>{g.isIntersecting&&s(g.target.id)})},{threshold:.5});return window.addEventListener("scroll",h),document.querySelectorAll("section[id]").forEach(p=>f.observe(p)),()=>{window.removeEventListener("scroll",h),f.disconnect()}},[]);const c=(h,f)=>{var p;f.preventDefault(),(p=document.getElementById(h))==null||p.scrollIntoView({behavior:"smooth"}),l(!1)};return M.jsxs("nav",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 px-4 ${r?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,children:[M.jsxs("div",{className:"bg-[#111827]/90 backdrop-blur-md rounded-full px-3 sm:px-6 py-2 sm:py-3 border border-[#374151] shadow-2xl",children:[M.jsxs("div",{className:"hidden sm:flex items-center space-x-8",children:[M.jsx("button",{onClick:h=>c("hero",h),className:"text-[#f9fafb] font-bold text-lg hover:text-[#9ca3af] transition-colors",children:"Jermin"}),M.jsx("div",{className:"flex space-x-6",children:["experience","projects","certifications","contact"].map(h=>M.jsx("button",{onClick:f=>c(h,f),className:`px-3 py-1 rounded-full text-sm transition-all ${e===h?"bg-[#374151] text-[#f9fafb]":"text-[#9ca3af] hover:text-[#f9fafb] hover:bg-[#374151]/50"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]}),M.jsxs("div",{className:"sm:hidden flex items-center justify-between",children:[M.jsx("button",{onClick:h=>c("hero",h),className:"text-[#f9fafb] font-bold text-base hover:text-[#9ca3af] transition-colors",children:"Jermin"}),M.jsx("button",{onClick:()=>l(!a),className:"text-[#f9fafb] p-2 hover:text-[#9ca3af] transition-colors",children:M.jsx("i",{className:`fas ${a?"fa-times":"fa-bars"}`})})]})]}),a&&M.jsx("div",{className:"sm:hidden absolute top-full left-0 right-0 mt-2 bg-[#111827]/95 backdrop-blur-md rounded-xl border border-[#374151] shadow-2xl overflow-hidden",children:["experience","projects","certifications","contact"].map(h=>M.jsx("button",{onClick:f=>c(h,f),className:`w-full text-left px-4 py-3 transition-all border-b border-[#374151]/50 last:border-b-0 ${e===h?"bg-[#374151] text-[#f9fafb]":"text-[#9ca3af] hover:text-[#f9fafb] hover:bg-[#374151]/50"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]})}function $I(){const[r,t]=et.useState(!1),e=[{name:"Python",icon:"fab fa-python",color:"from-blue-400 to-yellow-400"},{name:"Java",icon:"fab fa-java",color:"from-red-500 to-orange-500"},{name:"HTML5/CSS3",icon:"fab fa-html5",color:"from-orange-500 to-red-500"},{name:"JavaScript",icon:"fab fa-js-square",color:"from-yellow-400 to-yellow-600"},{name:"React",icon:"fab fa-react",color:"from-cyan-400 to-blue-500"},{name:"Node.js",icon:"fab fa-node-js",color:"from-green-500 to-green-700"},{name:"Tailwind CSS",icon:"fas fa-wind",color:"from-cyan-400 to-teal-500"},{name:"PHP",icon:"fab fa-php",color:"from-indigo-500 to-purple-600"},{name:"SQL",icon:"fas fa-database",color:"from-gray-500 to-gray-700"},{name:"Git",icon:"fab fa-git-alt",color:"from-orange-600 to-red-600"},{name:"Wordpress",icon:"fab fa-wordpress",color:"from-blue-600 to-blue-800"},{name:"Drupal",icon:"fab fa-drupal",color:"from-green-600 to-green-800"}],s=h=>{var f;(f=document.getElementById(h))==null||f.scrollIntoView({behavior:"smooth"})},a=()=>{t(!0)},l=()=>{const h=document.createElement("a");h.href=Im,h.download="odcheo_resume.pdf",h.click()},c=()=>{window.open(Im,"_blank")};return M.jsxs("section",{id:"hero",className:"min-h-screen flex items-center justify-center relative overflow-hidden py-20",children:[M.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center max-w-7xl mx-auto",children:[M.jsxs(Ms,{animation:"fadeInLeft",className:"text-center lg:text-left space-y-8",children:[M.jsx(Ms,{delay:200,className:"flex justify-center lg:justify-start",children:M.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-full px-6 py-2 flex items-center space-x-2",children:[M.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-ping"}),M.jsx("span",{className:"text-green-400 font-medium text-sm",children:"Available for Employment"})]})}),M.jsx(Ms,{animation:"scaleIn",delay:400,className:"flex justify-center lg:justify-start",children:M.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-[#374151] to-[#6b7280] p-1 hover:scale-110 transition-transform duration-300",children:M.jsx("div",{className:"w-full h-full rounded-full bg-[#f9fafb] flex items-center justify-center",children:M.jsx("img",{src:j3,alt:"Profile",className:"w-full h-full rounded-full object-cover"})})})}),M.jsxs(Ms,{delay:600,children:[M.jsx("h1",{className:"text-5xl lg:text-6xl font-bold text-[#f9fafb] mb-4",children:"Jermin Odcheo"}),M.jsx("p",{className:"text-2xl text-[#9ca3af] mb-4",children:"Full-Stack Developer"}),M.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-4 text-[#6b7280] mb-6",children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("i",{className:"fas fa-map-marker-alt"}),M.jsx("span",{children:"Philippines/Australia"})]}),M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("i",{className:"fas fa-graduation-cap"}),M.jsx("span",{children:"BSIT Graduate"})]})]})]}),M.jsxs(Ms,{delay:800,className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30",children:[M.jsxs("h3",{className:"text-[#f9fafb] font-semibold mb-3 flex items-center",children:[M.jsx("i",{className:"fas fa-user mr-2"}),"Professional Summary"]}),M.jsx("p",{className:"text-[#9ca3af] leading-relaxed",children:"I'm a full-stack developer skilled in modern web technologies and AI integration. I'm eager to build scalable web applications and contribute to innovative projects with a dynamic team."})]}),M.jsxs(Ms,{delay:1e3,className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[M.jsxs("button",{onClick:a,className:"flex items-center justify-center space-x-2 bg-[#9ca3af] hover:bg-[#f9fafb] text-[#111827] font-medium py-3 px-6 rounded-lg transition-all duration-300 hover:scale-105 shadow-lg",children:[M.jsx("i",{className:"fas fa-file-alt"}),M.jsx("span",{children:"View Resume"})]}),M.jsxs("button",{onClick:l,className:"flex items-center justify-center space-x-2 bg-[#374151] hover:bg-[#6b7280] text-[#f9fafb] font-medium py-3 px-6 rounded-lg transition-all duration-300 hover:scale-105 shadow-lg border border-[#6b7280]/30",children:[M.jsx("i",{className:"fas fa-download"}),M.jsx("span",{children:"Download Resume"})]})]}),M.jsx(Ms,{delay:1200,className:"flex justify-center lg:justify-start space-x-4",children:[{icon:"fab fa-github",href:"https://github.com/Jermin-Odcheo",label:"GitHub",color:"hover:bg-gray-700"},{icon:"fab fa-linkedin",href:"https://linkedin.com/in/jerminodcheo",label:"LinkedIn",color:"hover:bg-blue-600"},{icon:"fas fa-envelope",href:"mailto:jerminbodcheo@gmail.com",label:"Email",color:"hover:bg-red-600"}].map(({icon:h,href:f,label:p,color:g})=>M.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:`w-12 h-12 rounded-full bg-[#374151] ${g} text-[#f9fafb] flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg hover:shadow-xl border border-[#6b7280]/30`,"aria-label":p,children:M.jsx("i",{className:`${h} text-lg`})},p))})]}),M.jsxs(Ms,{animation:"fadeInRight",className:"space-y-8",children:[M.jsxs(Ms,{delay:300,className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30",children:[M.jsxs("h3",{className:"text-[#f9fafb] font-semibold mb-6 flex items-center text-lg",children:[M.jsx("i",{className:"fas fa-code mr-2"}),"Technical Skills"]}),M.jsx(d_,{className:"grid grid-cols-2 gap-3",children:e.map(h=>M.jsxs("div",{className:"group flex items-center space-x-3 bg-[#111827]/30 rounded-lg px-3 py-2 hover:bg-[#6b7280]/30 transition-all duration-300",children:[M.jsx("div",{className:`w-6 h-6 rounded bg-gradient-to-r ${h.color} flex items-center justify-center flex-shrink-0`,children:M.jsx("i",{className:`${h.icon} text-white text-xs`})}),M.jsx("span",{className:"text-[#f9fafb] font-medium text-sm",children:h.name})]},h.name))})]}),M.jsxs(Ms,{delay:500,className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30",children:[M.jsxs("h3",{className:"text-[#f9fafb] font-semibold mb-4 flex items-center text-lg",children:[M.jsx("i",{className:"fas fa-graduation-cap mr-2"}),"Education"]}),M.jsx("div",{className:"space-y-4",children:M.jsxs("div",{className:"border-l-2 border-[#9ca3af]/30 pl-4",children:[M.jsx("h4",{className:"text-[#f9fafb] font-medium",children:"Bachelor of Science in Information Technology"}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Saint Louis University, Baguio City"}),M.jsx("p",{className:"text-[#6b7280] text-sm",children:"2021 - 2025"})]})})]}),M.jsxs(Ms,{delay:700,className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30",children:[M.jsxs("h3",{className:"text-[#f9fafb] font-semibold mb-4 flex items-center text-lg",children:[M.jsx("i",{className:"fas fa-trophy mr-2"}),"Key Achievements"]}),M.jsx(d_,{className:"space-y-3",children:["Developed AI chatbot with 72% accuracy rate","Led inventory management system development","Completed full-stack web development projects"].map((h,f)=>M.jsxs("div",{className:"flex items-start space-x-3",children:[M.jsx("i",{className:"fas fa-check-circle text-green-400 mt-1 text-sm"}),M.jsx("span",{className:"text-[#9ca3af] text-sm",children:h})]},f))})]})]})]}),M.jsx(Ms,{delay:1400,className:"absolute -bottom-24 left-1/2 transform -translate-x-1/2",children:M.jsx("button",{onClick:()=>s("experience"),className:"animate-bounce hover:animate-pulse transition-all duration-300 cursor-pointer group",children:M.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[M.jsx("span",{className:"text-[#9ca3af] text-sm group-hover:text-[#f9fafb] transition-colors",children:"Explore My Work"}),M.jsx("i",{className:"fas fa-chevron-down text-[#9ca3af] text-xl group-hover:text-[#f9fafb] transition-colors"})]})})})]}),r&&M.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-[#374151] rounded-xl max-w-6xl w-full max-h-[95vh] overflow-hidden border border-[#6b7280] shadow-2xl",children:[M.jsxs("div",{className:"p-4 sm:p-6 border-b border-[#6b7280] flex justify-between items-center bg-[#374151] z-10",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-[#f9fafb]",children:"Resume - Jermin Odcheo"}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Full-Stack Developer"})]}),M.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[M.jsxs("button",{onClick:c,className:"flex items-center space-x-1 sm:space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm",title:"Open in new tab",children:[M.jsx("i",{className:"fas fa-external-link-alt text-xs sm:text-sm"}),M.jsx("span",{className:"hidden sm:inline",children:"New Tab"})]}),M.jsxs("button",{onClick:l,className:"flex items-center space-x-1 sm:space-x-2 bg-[#9ca3af] hover:bg-[#f9fafb] text-[#111827] px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm",children:[M.jsx("i",{className:"fas fa-download text-xs sm:text-sm"}),M.jsx("span",{className:"hidden sm:inline",children:"Download"})]}),M.jsx("button",{onClick:()=>t(!1),className:"text-[#9ca3af] hover:text-[#f9fafb] text-xl sm:text-2xl p-2 rounded-lg hover:bg-[#6b7280]/30 transition-all",children:M.jsx("i",{className:"fas fa-times"})})]})]}),M.jsxs("div",{className:"relative w-full h-[calc(95vh-80px)] bg-[#f9fafb]",children:[M.jsx("embed",{src:`${Im}#toolbar=1&navpanes=1&scrollbar=1`,type:"application/pdf",className:"w-full h-full",onError:()=>{console.log("Embed failed, trying iframe fallback"),document.getElementById("resume-iframe-fallback").classList.remove("hidden")}}),M.jsx("iframe",{src:Im,className:"w-full h-full absolute top-0 left-0 hidden",id:"resume-iframe-fallback",title:"Resume PDF",onError:()=>{const h=document.getElementById("resume-fallback-message");h&&(h.style.display="flex")}}),M.jsx("div",{id:"resume-fallback-message",className:"absolute inset-0 flex flex-col items-center justify-center p-8 text-center",style:{display:"none"},children:M.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-md",children:[M.jsx("i",{className:"fas fa-file-pdf text-red-500 text-4xl mb-4"}),M.jsx("h4",{className:"text-[#111827] font-bold text-lg mb-2",children:"PDF Viewer Not Supported"}),M.jsx("p",{className:"text-[#6b7280] mb-4 text-sm",children:"Your browser doesn't support PDF viewing. Please use one of the options below:"}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs("button",{onClick:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[M.jsx("i",{className:"fas fa-external-link-alt"}),M.jsx("span",{children:"Open in New Tab"})]}),M.jsxs("button",{onClick:l,className:"w-full bg-[#9ca3af] hover:bg-[#6b7280] text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[M.jsx("i",{className:"fas fa-download"}),M.jsx("span",{children:"Download PDF"})]})]})]})})]})]})})]})}function WI(){const[r,t]=Oc({threshold:.1,triggerOnce:!1}),e=[{title:"Web Development Internship",organization:"TMDD SLU",period:"Jan 2025 - May 2025",description:"Built an inventory and asset management web app with secure access control and a modern responsive UI.",detailedTasks:[{category:"Architecture & Backend",description:"Designed the MySQL schema and PHP backend with validated CRUD operations and audit-ready activity logging.",icon:"fas fa-server"},{category:"Security & Authentication",description:"Implemented RBAC, secure session-based login, input validation, and password hashing to protect data.",icon:"fas fa-shield-alt"},{category:"Frontend & UX",description:"Developed responsive Bootstrap interfaces with dynamic tables, modals, and intuitive navigation.",icon:"fas fa-laptop-code"},{category:"Integrations & Documents",description:"Integrated DomPDF and PHPOffice for automated reports and managed PHP dependencies with Composer.",icon:"fas fa-puzzle-piece"},{category:"Testing & Reliability",description:"Tested core flows (login, CRUD, reporting) to ensure stability, usability, and consistent data.",icon:"fas fa-bug"}],skills:["HTML","CSS","PHP","JavaScript","MySQL","Bootstrap","Composer","DomPDF","PHPOffice"],icon:"fas fa-laptop-code"},{title:"Capstone Research Project",organization:"SAMCIS, Saint Louis University",period:"Aug 2024 - Dec 2024",description:"Designed and implemented NaviBot, an AI-powered chatbot utilizing generative AI and BART models for academic assistance with 72% accuracy rate.",detailedTasks:[{category:"Data Engineering & Preprocessing",description:"Executed comprehensive data cleaning, processing, and augmentation workflows to prepare high-quality training datasets for machine learning model development.",icon:"fas fa-cogs"},{category:"Machine Learning Implementation",description:"Fine-tuned a BART (Bidirectional and Auto-Regressive Transformers) model using custom datasets, implementing transfer learning techniques to adapt the pre-trained model for domain-specific enrollment queries.",icon:"fas fa-brain"},{category:"Machine Learning Model Evaluation",description:"Implemented rigorous validation framework using industry-standard metrics: BERTScore for semantic similarity evaluation, BLEU Score for precision and quality assessment, and ROUGE Score for n-gram overlap measurement to ensure response accuracy and relevance.",icon:"fas fa-chart-line"}],skills:["AI","Python","NLP","BART","Machine Learning","Data Science"],icon:"fas fa-robot"},{title:"Self-Directed Learning",organization:"Professional Development",period:"2024 - Present",description:"Continuously expanding expertise in modern web development technologies through structured self-learning and project building.",skills:["React","Tailwind CSS","Vite","Git","JavaScript","Node.js"],icon:"fas fa-code"}],s=({exp:l,index:c})=>{const[h,f]=Oc({threshold:.2,triggerOnce:!1}),p={hidden:{opacity:0,y:60,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.8,ease:[.25,.46,.45,.94],delay:c*.2}}},g={y:[-5,5,-5],transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:c*.3}},b={scale:[1,1.08,1],transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:c*.4}};return M.jsxs(Kt.div,{ref:h,className:"relative flex items-start group",initial:"hidden",animate:f?"visible":"hidden",variants:p,children:[M.jsx(Kt.div,{animate:f?g:{},className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-[#4b5563] to-[#374151] rounded-full flex items-center justify-center relative z-10 border-4 border-[#111827] transition-all duration-500 shadow-xl",whileHover:{scale:1.15,boxShadow:"0 20px 40px rgba(0,0,0,0.4)",background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",transition:{duration:.4,ease:"easeOut"}},children:M.jsx(Kt.i,{className:`${l.icon} text-[#f9fafb] text-xl`,animate:f?b:{}})}),M.jsxs(Kt.div,{animate:f?g:{},className:"ml-8 bg-[#374151]/20 backdrop-blur-sm rounded-xl p-6 border border-[#6b7280]/30 flex-1 transition-all duration-500",whileHover:{borderColor:"rgba(156, 163, 175, 0.6)",backgroundColor:"rgba(55, 65, 81, 0.35)",y:-8,boxShadow:"0 20px 40px rgba(0,0,0,0.3)",transition:{duration:.4,ease:"easeOut"}},children:[M.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start gap-2 mb-4",children:[M.jsxs("div",{className:"min-w-0",children:[M.jsx(Kt.h3,{className:"text-xl font-bold text-[#f9fafb] transition-colors duration-300",whileHover:{color:"#d1d5db"},children:l.title}),M.jsx("p",{className:"text-[#9ca3af] font-medium",children:l.organization})]}),M.jsx(Kt.span,{className:"text-xs sm:text-sm px-2 py-0.5 sm:px-3 sm:py-1 text-[#9ca3af] bg-[#111827]/50 rounded-full whitespace-nowrap",whileHover:{scale:1.05,backgroundColor:"rgba(17, 24, 39, 0.7)",transition:{duration:.3}},children:l.period})]}),M.jsx("p",{className:"text-[#9ca3af] mb-4 whitespace-pre-line",children:l.description}),l.detailedTasks&&l.detailedTasks.length>0&&M.jsx(Kt.div,{className:"space-y-4 mb-4",initial:"hidden",animate:f?"visible":"hidden",variants:{visible:{transition:{staggerChildren:.15,delayChildren:.3+c*.2}}},children:l.detailedTasks.map((v,A)=>M.jsxs(Kt.div,{className:"flex items-start space-x-3",variants:{hidden:{opacity:0,x:-30,scale:.95},visible:{opacity:1,x:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}}},whileHover:{x:8,transition:{duration:.3,ease:"easeOut"}},children:[M.jsx(Kt.i,{className:`${v.icon} text-[#9ca3af] mt-1 text-lg`,whileHover:{scale:1.3,color:"#f9fafb",rotate:[0,-10,10,0],transition:{duration:.5}}}),M.jsxs("div",{children:[M.jsx("span",{className:"text-[#f9fafb] font-medium text-sm",children:v.category}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:v.description})]})]},A))}),M.jsx(Kt.div,{className:"flex flex-wrap gap-2",initial:"hidden",animate:f?"visible":"hidden",variants:{visible:{transition:{staggerChildren:.08,delayChildren:.5+c*.2}}},children:l.skills.map((v,A)=>M.jsx(Kt.span,{className:"px-3 py-1 bg-[#6b7280]/30 text-[#f9fafb] text-sm rounded-full border border-[#9ca3af]/20 transition-colors duration-300",variants:{hidden:{opacity:0,y:20,scale:.8},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.34,1.56,.64,1]}}},whileHover:{scale:1.15,y:-4,backgroundColor:"rgba(107, 114, 128, 0.5)",borderColor:"rgba(156, 163, 175, 0.5)",boxShadow:"0 8px 16px rgba(0,0,0,0.25)",transition:{duration:.3,ease:"easeOut"}},animate:{y:[0,-3,0],transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:A*.2}},children:v},v))})]})]})},a=()=>{const[l,c]=Oc({threshold:.1,triggerOnce:!1});return M.jsx(Kt.div,{ref:l,className:"absolute left-8 top-0 bottom-0 w-0.5 bg-[#6b7280]/30 overflow-hidden",children:M.jsx(Kt.div,{className:"w-full bg-gradient-to-b from-[#6b7280] via-[#9ca3af] to-[#6b7280]",initial:{height:"0%"},animate:c?{height:"100%"}:{height:"0%"},transition:{duration:2,ease:[.25,.46,.45,.94]}})})};return M.jsxs(Kt.section,{ref:r,id:"experience",className:"py-20 relative overflow-hidden",initial:{opacity:0},animate:t?{opacity:1}:{opacity:0},transition:{duration:.8},children:[M.jsx(Kt.div,{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#6b7280] to-transparent",initial:{scaleX:0},animate:t?{scaleX:1}:{scaleX:0},transition:{duration:1.2,ease:"easeInOut"}}),M.jsxs("div",{className:"container mx-auto px-6 max-w-5xl",children:[M.jsx(Kt.h2,{className:"text-4xl font-bold text-[#f9fafb] text-center mb-16",initial:{opacity:0,y:-30},animate:t?{opacity:1,y:0}:{opacity:0,y:-30},transition:{duration:.8,ease:[.25,.46,.45,.94]},children:"Experience"}),M.jsxs("div",{className:"relative",children:[M.jsx(a,{}),M.jsx("div",{className:"space-y-12",children:e.map((l,c)=>M.jsx(s,{exp:l,index:c},c))})]})]})]})}function QI(){const[r,t]=et.useState(null),[e,s]=et.useState(!1),[a,l]=et.useState(null),c=et.useRef(null),h=Oc(c),f=[{id:"navibot",title:"NaviBot AI Chatbot",description:"AI-powered chatbot utilizing generative AI to handle enrollment-related FAQs with 72% accuracy rate.",technologies:["AI","Python","BART","NLP"],image:qE,screenshots:[{src:qE,title:"NaviBot Homepage"},{src:O3,title:"Chat Interface 1"},{src:k3,title:"Chat Interface 2"}],github:"https://github.com/Jermin-Odcheo/ChatbotNaviBot",category:"AI/ML"},{id:"inventory",title:"Inventory Management System",description:"Comprehensive inventory management system with role-based access control and real-time updates.",technologies:["PHP","JavaScript","MySQL","Bootstrap"],image:UE,screenshots:[{src:UE,title:"Dashboard Overview"},{src:N3,title:"Login Interface"}],github:"https://github.com/Jermin-Odcheo/Inventory-Management-System-TMDD",category:"Web App"},{id:"anime",title:"Anime Fetch API",description:"Web application that fetches and displays anime data using external APIs with modern UI design.",technologies:["JavaScript","REST API","HTML/CSS"],image:GE,screenshots:[{src:GE,title:"Anime Homepage"},{src:L3,title:"Manga Section"}],github:"https://github.com/JoefreyToriano/it312-9474-mt-teamburnersly/tree/main/activity_2_dom",category:"Web App"},{id:"crime pattern",title:"Crime Pattern Analysis",description:"Data mining project focused on identifying and analyzing crime patterns using clustering algorithms and visualization techniques.",technologies:["Python","Pandas","Scikit-learn"," Matplotlib","Mlxtend","Tkinter"],image:P3,screenshots:[],github:"https://github.com/Jermin-Odcheo/Team-Yor-OnTrack",category:"Data Mining"},{id:"wordy game",title:"Wordy Game",description:"Wordy is a Java word game where players use a given set of letters to form the longest valid word and win by scoring the highest.",technologies:["Java"],image:"",screenshots:[],github:"https://github.com/Jermin-Odcheo/WordyGame",category:"Game"}],p=()=>{s(!1),t(null),l(null)},g=b=>{l(b)};return M.jsxs(Kt.section,{ref:c,id:"projects",className:"py-20 relative",initial:"hidden",animate:h?"visible":"hidden",variants:Uu,children:[M.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#6b7280] to-transparent"}),M.jsxs("div",{className:"container mx-auto px-6 max-w-6xl",children:[M.jsx(Kt.h2,{className:"text-4xl font-bold text-[#f9fafb] text-center mb-16",variants:Ld,children:"Featured Projects"}),M.jsx(Kt.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",variants:Uu,children:f.map((b,v)=>M.jsx(Kt.div,{className:"group h-full",variants:Ld,custom:v,children:M.jsxs("div",{className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl overflow-hidden hover:bg-[#374151]/30 transition-all duration-300 border border-[#6b7280]/30 hover:shadow-2xl hover:scale-105 h-full flex flex-col",children:[M.jsxs("div",{className:"relative h-48 overflow-hidden flex-shrink-0",children:[b.image?M.jsxs(M.Fragment,{children:[M.jsx("img",{src:b.image,alt:b.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300 cursor-pointer",onClick:()=>g(b.image)}),M.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity duration-300",onClick:()=>g(b.image),children:M.jsx("i",{className:"fas fa-search-plus text-white text-2xl"})})]}):M.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-[#374151] to-[#6b7280] flex flex-col items-center justify-center text-center p-6 group-hover:from-[#6b7280] group-hover:to-[#9ca3af] transition-all duration-300",children:[M.jsx("div",{className:"bg-[#111827]/30 rounded-full p-4 mb-3 group-hover:bg-[#111827]/50 transition-all duration-300",children:M.jsx("i",{className:`fas ${b.category==="Game"?"fa-gamepad":b.category==="AI/ML"?"fa-brain":b.category==="Web App"?"fa-globe":b.category==="Data Mining"?"fa-chart-bar":"fa-code"} text-3xl text-[#f9fafb]`})}),M.jsx("h4",{className:"text-[#f9fafb] font-bold text-lg mb-1",children:b.title}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:b.category}),M.jsxs("div",{className:"absolute bottom-3 right-3 text-[#9ca3af]/50 text-xs",children:[M.jsx("i",{className:"fas fa-image"}),M.jsx("span",{className:"ml-1",children:"No preview"})]})]}),M.jsx("div",{className:"absolute top-4 left-4",children:M.jsx("span",{className:"bg-[#111827]/80 text-[#9ca3af] px-3 py-1 rounded-full text-sm",children:b.category})})]}),M.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[M.jsx("h3",{className:"text-xl font-bold text-[#f9fafb] mb-3 group-hover:text-[#9ca3af] transition-colors",children:b.title}),M.jsx("p",{className:"text-[#9ca3af] mb-4 text-sm flex-1",children:b.description}),M.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:b.technologies.map(A=>M.jsx("span",{className:"px-2 py-1 bg-[#6b7280]/30 text-[#f9fafb] text-xs rounded border border-[#9ca3af]/20 hover:bg-[#6b7280]/50 transition-colors",children:A},A))}),M.jsxs("div",{className:"flex gap-2",children:[b.details&&M.jsx("a",{href:b.details,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[#6b7280]/30 hover:bg-[#6b7280]/50 text-[#f9fafb] py-2 px-4 rounded-lg transition-all duration-300 border border-[#9ca3af]/20 hover:border-[#9ca3af]/40 hover:shadow-lg flex items-center justify-center text-sm sm:text-base gap-2",children:"View Details"}),b.github&&M.jsxs("a",{href:b.github,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[#6b7280]/30 hover:bg-[#6b7280]/50 text-[#f9fafb] py-2 px-4 rounded-lg transition-all duration-300 border border-[#9ca3af]/20 hover:border-[#9ca3af]/40 hover:shadow-lg flex items-center justify-center text-sm sm:text-base gap-2",children:[M.jsx("i",{className:"fab fa-github"}),M.jsx("span",{children:"View on GitHub"})]})]})]})]})},b.id))})]}),e&&r&&M.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-2 sm:p-4",children:M.jsxs("div",{className:"bg-[#374151] rounded-xl max-w-6xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-auto border border-[#6b7280] shadow-2xl",children:[M.jsxs("div",{className:"p-4 sm:p-6 border-b border-[#6b7280] flex justify-between items-center sticky top-0 bg-[#374151] z-10",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-[#f9fafb]",children:r.title}),M.jsx("p",{className:"text-[#9ca3af] text-xs sm:text-sm",children:r.category})]}),M.jsx("button",{onClick:p,className:"text-[#9ca3af] hover:text-[#f9fafb] text-xl sm:text-2xl p-2 rounded-lg hover:bg-[#6b7280]/30 transition-all",children:M.jsx("i",{className:"fas fa-times"})})]}),M.jsxs("div",{className:"p-4 sm:p-6",children:[M.jsx("p",{className:"text-[#9ca3af] mb-4 sm:mb-6 text-sm sm:text-base",children:r.description}),M.jsx("div",{className:"space-y-4 sm:space-y-6",children:r.screenshots&&r.screenshots.map((b,v)=>M.jsxs("div",{className:"bg-[#111827]/50 rounded-lg p-3 sm:p-4 border border-[#6b7280]/30 hover:border-[#9ca3af]/50 transition-all duration-300",children:[M.jsx("h4",{className:"text-[#f9fafb] font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:b.title}),M.jsx("div",{className:"flex justify-center group cursor-pointer",onClick:()=>g(b.src),children:M.jsxs("div",{className:"relative",children:[M.jsx("img",{src:b.src,alt:b.title,className:"max-w-full max-h-64 sm:max-h-96 object-contain rounded-lg shadow-lg group-hover:scale-105 transition-transform duration-300"}),M.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity duration-300 rounded-lg",children:M.jsx("i",{className:"fas fa-expand text-white text-lg sm:text-xl"})})]})})]},v))}),M.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-[#6b7280]/30",children:[M.jsx("h4",{className:"text-[#f9fafb] font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Technologies Used:"}),M.jsx("div",{className:"flex flex-wrap gap-2",children:r.technologies.map(b=>M.jsx("span",{className:"px-2 sm:px-3 py-1 bg-[#6b7280]/30 text-[#f9fafb] text-xs sm:text-sm rounded-full border border-[#9ca3af]/20 hover:bg-[#6b7280]/50 transition-colors",children:b},b))})]})]})]})}),a&&M.jsx("div",{className:"fixed inset-0 bg-black/95 flex items-center justify-center z-60 p-4 overflow-auto",onClick:()=>l(null),children:M.jsxs("div",{className:"relative max-w-[90%] max-h-[90vh]",children:[M.jsx("img",{src:a,alt:"Zoomed view",className:"max-w-full max-h-[85vh] object-contain mx-auto"}),M.jsx("button",{onClick:b=>{b.stopPropagation(),l(null)},className:"absolute top-4 right-4 text-white bg-black/50 rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/70 transition-colors",children:M.jsx("i",{className:"fas fa-times"})})]})})]})}function ZI(){const r=et.useRef(null),t=Oc(r),[e,s]=et.useState(null);et.useEffect(()=>{try{h_.workerPort||(h_.workerPort=new HI)}catch(p){console.warn("PDF.js worker setup failed, using placeholders if needed.",p)}},[]);const a=(p,g,b,v)=>{const A=document.createElement("canvas");A.width=640,A.height=400;const S=A.getContext("2d"),T=S.createLinearGradient(0,0,A.width,A.height);T.addColorStop(0,"#374151"),T.addColorStop(1,"#6b7280"),S.fillStyle=T,S.fillRect(0,0,A.width,A.height);const D=S.createLinearGradient(0,0,A.width,0);return D.addColorStop(0,b),D.addColorStop(1,v),S.fillStyle=D,S.fillRect(0,0,A.width,10),S.fillStyle="#f9fafb",S.font="bold 32px Arial",S.textAlign="center",S.fillText(p,A.width/2,190),S.font="20px Arial",S.fillStyle="#d1d5db",S.fillText(g,A.width/2,230),S.strokeStyle="rgba(156, 163, 175, 0.35)",S.lineWidth=4,S.strokeRect(16,16,A.width-32,A.height-32),A.toDataURL("image/png")},l=async(p,g=1.2)=>{const A=await(await VI(p).promise).getPage(1),S=A.getViewport({scale:g}),T=document.createElement("canvas"),D=T.getContext("2d");T.width=Math.ceil(S.width),T.height=Math.ceil(S.height),await A.render({canvasContext:D,viewport:S}).promise;const R=T.toDataURL("image/png");return T.width=0,T.height=0,R},c=[{id:"udemy-ai",platform:"Udemy",title:"AI",file:F3,icon:"fas fa-brain",tag:"Artificial Intelligence",colors:["#a855f7","#6366f1"],description:"Udemy completion certificate for foundational AI concepts and practical applications."},{id:"udemy-python",platform:"Udemy",title:"Python",file:z3,icon:"fab fa-python",tag:"Programming",colors:["#f59e0b","#f97316"],description:"Udemy completion certificate covering Python fundamentals and real-world exercises."},{id:"udemy-web",platform:"Udemy",title:"Web Development",file:V3,icon:"fas fa-code",tag:"Frontend/Backend",colors:["#3b82f6","#06b6d4"],description:"Udemy completion certificate for modern frontend and backend web development."},{id:"htb-eldoria",platform:"HackTheBox",title:"Tales of Eldoria",file:I3,icon:"fas fa-shield-alt",tag:"Cybersecurity",colors:["#10b981","#059669"],description:"HackTheBox certificate for completing the Tales of Eldoria challenge series."},{id:"thm-hackfinity",platform:"TryHackMe",title:"Hackfinity",file:B3,icon:"fas fa-lock",tag:"Cybersecurity",colors:["#ef4444","#ec4899"],description:"TryHackMe certificate for participating in the Hackfinity challenge event."}],[h,f]=et.useState(()=>c.map(p=>({...p,preview:a(p.title,p.platform,p.colors[0],p.colors[1]),full:null,tags:[p.platform,p.tag]})));return et.useEffect(()=>{let p=!1;return(async()=>{try{const g=await Promise.allSettled(c.map(async b=>{const v=await l(b.file,.9),A=await l(b.file,1.8);return{id:b.id,preview:v,full:A}}));if(p)return;f(b=>b.map(v=>{const A=g.find(S=>S.status==="fulfilled"&&S.value.id===v.id);return A?{...v,preview:A.value.preview,full:A.value.full}:v}))}catch(g){console.warn("PDF rendering failed, using placeholders.",g)}})(),()=>{p=!0}},[]),M.jsxs(Kt.section,{ref:r,id:"certifications",className:"py-20 relative",initial:"hidden",animate:t?"visible":"hidden",variants:Uu,children:[M.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#6b7280] to-transparent"}),M.jsxs("div",{className:"container mx-auto px-6 max-w-6xl",children:[M.jsx(Kt.h2,{className:"text-4xl font-bold text-[#f9fafb] text-center mb-16",variants:Ld,children:"Certifications"}),M.jsx(Kt.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",variants:Uu,children:h.map((p,g)=>M.jsx(Kt.div,{className:"group h-full",variants:Ld,custom:g,children:M.jsxs("div",{className:"bg-[#374151]/20 backdrop-blur-sm rounded-xl overflow-hidden border border-[#6b7280]/30 hover:border-[#9ca3af]/50 hover:bg-[#374151]/30 transition-all duration-300 h-full flex flex-col",children:[M.jsxs("div",{className:"relative h-40 sm:h-48 overflow-hidden cursor-pointer",onClick:()=>s(p),children:[M.jsx("img",{src:p.preview,alt:`${p.platform} - ${p.title}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),M.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:M.jsx("i",{className:"fas fa-expand text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),M.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[M.jsxs("div",{className:"flex items-center mb-3",children:[M.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br flex items-center justify-center shadow-sm",style:{backgroundImage:`linear-gradient(135deg, ${p.colors[0]}, ${p.colors[1]})`},"aria-hidden":"true",children:M.jsx("i",{className:`${p.icon} text-white text-base`})}),M.jsxs("div",{className:"ml-3",children:[M.jsx("h3",{className:"text-lg font-bold text-[#f9fafb] leading-tight",children:p.title}),M.jsx("p",{className:"text-[#9ca3af] text-sm",children:p.platform})]})]}),M.jsx("p",{className:"text-[#9ca3af] text-sm flex-1",children:p.description}),M.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:p.tags.map(b=>M.jsx("span",{className:"px-2 py-1 bg-[#6b7280]/30 text-[#f9fafb] text-xs rounded border border-[#9ca3af]/20",children:b},b))})]})]})},p.id))})]}),e&&M.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-60 p-4",onClick:()=>s(null),children:M.jsxs("div",{className:"bg-[#1f2937] border border-[#4b5563] rounded-xl w-full max-w-3xl max-h-[80vh] overflow-hidden shadow-2xl",onClick:p=>p.stopPropagation(),children:[M.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[#374151] bg-[#111827]",children:[M.jsxs("div",{children:[M.jsx("h4",{className:"text-[#f9fafb] font-semibold",children:e.title}),M.jsx("p",{className:"text-[#9ca3af] text-xs",children:e.platform})]}),M.jsx("button",{onClick:()=>s(null),className:"text-[#9ca3af] hover:text-[#f9fafb] p-2 rounded-lg hover:bg-[#374151]/50 transition-colors","aria-label":"Close preview",children:M.jsx("i",{className:"fas fa-times"})})]}),M.jsx("div",{className:"bg-[#111827] flex items-center justify-center p-3",children:M.jsx("img",{src:e.full||e.preview,alt:`${e.platform} - ${e.title} preview`,className:"max-w-full max-h-[70vh] object-contain rounded"})})]})})]})}function JI(){const[r,t]=et.useState({name:"",email:"",message:"",honeypot:""}),[e,s]=et.useState({}),[a,l]=et.useState(!1),[c,h]=et.useState(""),[f,p]=et.useState(0),g=et.useRef(null),b=Oc(g);et.useEffect(()=>{MT.init(Mm.PUBLIC_KEY),v()},[]),et.useEffect(()=>{let N;return f>0&&(N=setInterval(()=>{p(j=>j<=1?(clearInterval(N),0):j-1)},1e3)),()=>clearInterval(N)},[f]);const v=()=>{const N=localStorage.getItem("lastEmailSubmission");if(N){const j=Date.now(),P=6e4,U=j-parseInt(N);if(U<P){const q=Math.ceil((P-U)/1e3);p(q)}}},A=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,S=()=>{const N={};return r.honeypot?!1:(r.name.trim()?r.name.trim().length<2?N.name="Name must be at least 2 characters":r.name.trim().length>50&&(N.name="Name must be less than 50 characters"):N.name="Name is required",r.email.trim()?A.test(r.email.trim())?r.email.trim().length>100&&(N.email="Email must be less than 100 characters"):N.email="Please enter a valid email address":N.email="Email is required",r.message.trim()?r.message.trim().length<10?N.message="Message must be at least 10 characters":r.message.trim().length>1e3&&(N.message="Message must be less than 1000 characters"):N.message="Message is required",s(N),Object.keys(N).length===0)},T=N=>{const{name:j,value:P}=N.target;t(U=>({...U,[j]:P})),e[j]&&s(U=>({...U,[j]:""}))},D=N=>{const j=Math.floor(N/60),P=N%60;return`${j}:${P.toString().padStart(2,"0")}`},R=async N=>{if(N.preventDefault(),f>0){h("cooldown");return}if(!S())return r.honeypot,void 0;l(!0),h("");try{const j=localStorage.getItem("lastEmailSubmission"),P=Date.now(),U=6e4;if(j&&P-parseInt(j)<U){const tt=Math.ceil((U-(P-parseInt(j)))/1e3);p(tt),h("cooldown"),l(!1);return}const q={name:r.name.trim(),email:r.email.trim(),time:new Date().toLocaleString(),message:r.message.trim()},$=await MT.send(Mm.SERVICE_ID,Mm.TEMPLATE_ID,q,Mm.PUBLIC_KEY);console.log("Email sent successfully:",$.text),h("success"),t({name:"",email:"",message:"",honeypot:""}),localStorage.setItem("lastEmailSubmission",P.toString()),p(60)}catch(j){console.error("Error sending email:",j),j.message.includes("Please wait")?h("cooldown"):h("error")}finally{l(!1)}},L=a||f>0;return M.jsxs(Kt.section,{ref:g,id:"contact",className:"py-20 relative",initial:"hidden",animate:b?"visible":"hidden",variants:Uu,children:[M.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#6b7280] to-transparent"}),M.jsxs("div",{className:"container mx-auto px-6 max-w-6xl",children:[M.jsxs(Kt.div,{className:"text-center mb-16",variants:Ld,children:[M.jsx("h2",{className:"text-4xl font-bold text-[#f9fafb] mb-8",children:"Let's Connect"}),M.jsx("p",{className:"text-[#9ca3af] text-lg mb-12",children:"I'm actively seeking new opportunities and exciting projects to contribute to."})]}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[M.jsxs(Kt.div,{className:"space-y-8",variants:UI,children:[M.jsx("h3",{className:"text-2xl font-semibold text-[#f9fafb] mb-6",children:"Get in Touch"}),M.jsx(Kt.div,{className:"grid grid-cols-1 md:grid-cols-1 gap-6",variants:Uu,children:[{href:"mailto:jerminbodcheo@gmail.com",icon:"fas fa-envelope",title:"Email",description:"jerminbodcheo@gmail.com"},{href:"https://linkedin.com/in/jerminodcheo",icon:"fab fa-linkedin",title:"LinkedIn",description:"Connect with me",target:"_blank"},{href:"https://github.com/Jermin-Odcheo",icon:"fab fa-github",title:"GitHub",description:"View my code",target:"_blank"}].map((N,j)=>M.jsxs(Kt.a,{href:N.href,target:N.target,rel:N.target?"noopener noreferrer":void 0,className:"group bg-[#374151]/20 backdrop-blur-sm p-6 rounded-xl hover:bg-[#374151]/30 transition-all border border-[#6b7280]/30 hover:border-[#9ca3af]/50 hover:shadow-xl hover:scale-105 duration-300",variants:qI,custom:j,children:[M.jsx("i",{className:`${N.icon} text-3xl text-[#9ca3af] mb-4 group-hover:text-[#f9fafb] transition-colors`}),M.jsx("h4",{className:"font-semibold text-[#f9fafb] mb-2",children:N.title}),M.jsx("p",{className:"text-[#9ca3af] group-hover:text-[#f9fafb] transition-colors",children:N.description})]},N.title))})]}),M.jsxs(Kt.div,{className:"bg-[#374151]/20 backdrop-blur-sm p-8 rounded-xl border border-[#6b7280]/30",variants:GI,children:[M.jsx("h3",{className:"text-2xl font-semibold text-[#f9fafb] mb-6",children:"Send Message"}),f>0&&M.jsxs("div",{className:"mb-6 p-4 bg-yellow-500/20 border border-yellow-500/50 rounded-lg",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx("i",{className:"fas fa-clock text-yellow-400 mr-2"}),M.jsx("span",{className:"text-yellow-400 font-medium",children:"Rate limit active"})]}),M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("span",{className:"text-yellow-400 text-sm",children:"Next submission in:"}),M.jsx("span",{className:"text-yellow-400 font-mono text-lg bg-yellow-500/20 px-2 py-1 rounded",children:D(f)})]})]}),M.jsx("p",{className:"text-yellow-300 text-sm mt-2",children:"To prevent spam, you can send one message per minute."})]}),M.jsxs("form",{onSubmit:R,className:"space-y-6",children:[M.jsx("input",{type:"text",name:"honeypot",value:r.honeypot,onChange:T,style:{display:"none"},tabIndex:"-1",autoComplete:"off"}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"name",className:"block text-[#f9fafb] font-medium mb-2",children:"Name *"}),M.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:T,maxLength:"50",className:`w-full px-4 py-3 bg-[#111827] border rounded-lg text-[#f9fafb] placeholder-[#9ca3af] focus:outline-none focus:ring-2 transition-all ${e.name?"border-red-500 focus:ring-red-500":L?"border-[#4b5563] bg-[#1f2937]":"border-[#6b7280] focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Your full name",disabled:L}),e.name&&M.jsx("p",{className:"text-red-400 textsm mt-1",children:e.name})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",className:"block text-[#f9fafb] font-medium mb-2",children:"Email *"}),M.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:T,maxLength:"100",className:`w-full px-4 py-3 bg-[#111827] border rounded-lg text-[#f9fafb] placeholder-[#9ca3af] focus:outline-none focus:ring-2 transition-all ${e.email?"border-red-500 focus:ring-red-500":L?"border-[#4b5563] bg-[#1f2937]":"border-[#6b7280] focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"your.email@example.com",disabled:L}),e.email&&M.jsx("p",{className:"text-red-400 text-sm mt-1",children:e.email})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"message",className:"block text-[#f9fafb] font-medium mb-2",children:"Message *"}),M.jsx("textarea",{id:"message",name:"message",rows:"5",value:r.message,onChange:T,maxLength:"1000",className:`w-full px-4 py-3 bg-[#111827] border rounded-lg text-[#f9fafb] placeholder-[#9ca3af] focus:outline-none focus:ring-2 transition-all resize-vertical ${e.message?"border-red-500 focus:ring-red-500":L?"border-[#4b5563] bg-[#1f2937]":"border-[#6b7280] focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Tell me about your project, job opportunity, or just say hello...",disabled:L}),e.message&&M.jsx("p",{className:"text-red-400 text-sm mt-1",children:e.message}),M.jsxs("p",{className:"text-xs text-[#6b7280] mt-1",children:[r.message.length,"/1000 characters"]})]}),M.jsx("button",{type:"submit",disabled:L,className:`w-full py-3 px-6 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 ${L?"bg-[#6b7280] cursor-not-allowed opacity-50":"bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-500/50"} text-white`,children:a?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),M.jsx("span",{children:"Sending..."})]}):f>0?M.jsxs(M.Fragment,{children:[M.jsx("i",{className:"fas fa-clock"}),M.jsxs("span",{children:["Wait ",D(f)]})]}):M.jsxs(M.Fragment,{children:[M.jsx("i",{className:"fas fa-paper-plane"}),M.jsx("span",{children:"Send Message"})]})}),c==="success"&&M.jsx("div",{className:"p-4 bg-green-500/20 border border-green-500/50 rounded-lg",children:M.jsxs("p",{className:"text-green-400 text-center",children:[M.jsx("i",{className:"fas fa-check-circle mr-2"}),"Message sent successfully! I'll get back to you soon."]})}),c==="cooldown"&&M.jsx("div",{className:"p-4 bg-yellow-500/20 border border-yellow-500/50 rounded-lg",children:M.jsxs("p",{className:"text-yellow-400 text-center",children:[M.jsx("i",{className:"fas fa-hourglass-half mr-2"}),"Please wait before sending another message."]})}),c==="error"&&M.jsx("div",{className:"p-4 bg-red-500/20 border border-red-500/50 rounded-lg",children:M.jsxs("p",{className:"text-red-400 text-center",children:[M.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),"There was an error sending your message. Please try again or email me directly."]})})]})]})]})]})]})}function t4(){return M.jsx("footer",{className:"py-8 relative border-t border-[#6b7280]/30",children:M.jsx("div",{className:"container mx-auto px-6 text-center",children:M.jsx("p",{className:"text-[#9ca3af]",children:" 2025 Jermin Odcheo. All rights reserved."})})})}function e4(){const[r,t]=et.useState(!0);return et.useEffect(()=>{const e=setTimeout(()=>t(!1),1500);return()=>clearTimeout(e)},[]),r?M.jsx(YI,{}):M.jsx(et.StrictMode,{children:M.jsxs("div",{className:"min-h-screen relative",children:[M.jsx(XI,{}),M.jsxs("div",{className:"relative z-10",children:[M.jsx(KI,{}),M.jsx($I,{}),M.jsx(WI,{}),M.jsx(QI,{}),M.jsx(ZI,{}),M.jsx(JI,{}),M.jsx(t4,{})]})]})})}const i4=ON.createRoot(document.getElementById("root"));i4.render(M.jsx(e4,{}));
